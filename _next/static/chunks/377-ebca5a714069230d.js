"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[377],{35809:function(e,t,s){s.d(t,{L:function(){return n}});var r=s(3827),a=s(64090),i=s(89521);let n=(0,a.memo)(e=>{let t=e.iconSize||32,s=e.iconClassName||"mr-2";return(0,r.jsxs)("span",{className:(0,i.Nn)("inline-flex items-center justify-center text-nowrap",e.className),children:[(0,r.jsx)("img",{src:e.token.iconUrl,alt:e.token.name,width:t,height:t,className:(0,i.Nn)("inline rounded-full",s)}),e.showName?(0,r.jsxs)("span",{className:"inline-flex flex-col overflow-hidden",children:[(0,r.jsx)("span",{className:"overflow-hidden overflow-ellipsis",children:e.token.ticker}),(0,r.jsx)("span",{className:"text-sm overflow-hidden overflow-ellipsis",children:e.token.name})]}):(0,r.jsx)("span",{className:"overflow-hidden overflow-ellipsis",children:e.token.ticker})]})})},8377:function(e,t,s){s.d(t,{Gv:function(){return B}});var r,a,i=s(3827),n=s(64090);(r=a||(a={}))[r.Pending=0]="Pending",r[r.Created=1]="Created",r[r.Sealed=2]="Sealed",r[r.Finished=3]="Finished",r[r.Failed=4]="Failed";let l=Symbol.dispose;class d{getCurrentTheme(){return this.ensureThemeIsValid(localStorage.getItem(d.localStorageKey))}setCurrentTheme(e){let t=this.ensureThemeIsValid(e),s="system"===t,r=s?this.darkSystemThemeMatchMediaQueryList.matches:"dark"===t;return document.documentElement.classList.toggle(d.rootElementDarkModeClassName,r),this.updateThirdPartyThemes(r),s?localStorage.removeItem(d.localStorageKey):localStorage.setItem(d.localStorageKey,t),document.documentElement.classList.toggle(d.rootElementDarkModeClassName,r),this.updateThirdPartyThemes(r),t}setNextTheme(e){return this.setCurrentTheme(this.getNextTheme(e||this.getCurrentTheme()))}getNextTheme(e){switch(e){case"system":return"light";case"light":return"dark";case"dark":return"system"}}ensureThemeIsValid(e){return"system"===e||"light"===e||"dark"===e?e:"system"}updateThirdPartyThemes(e){}[l](){this.darkSystemThemeMatchMediaQueryList.removeEventListener("change",this.onMediaQueryListChange)}constructor(){this.onMediaQueryListChange=e=>{this.updateThirdPartyThemes(e.matches)},this.darkSystemThemeMatchMediaQueryList=window.matchMedia("(prefers-color-scheme: dark)"),this.darkSystemThemeMatchMediaQueryList.addEventListener("change",this.onMediaQueryListChange),this.setCurrentTheme(this.getCurrentTheme())}}d.localStorageKey="theme",d.rootElementDarkModeClassName="dark";class o{addHandler(e){this.handlers.add(e),this.startInternalTimerIfNeeded()}removeHandler(e){let t=this.handlers.delete(e);return this.stopInternalTimerIfNeeded(),t}removeAllHandler(){this.handlers.clear()}startInternalTimer(){this.stopInternalTimer(),this.internalTimerId=setTimeout(()=>{this.internalTimerId=setInterval(this.internalTimerHandler,1e3)},1e3-new Date().getMilliseconds())}stopInternalTimer(){clearInterval(this.internalTimerId),clearTimeout(this.internalTimerId),this.internalTimerId=void 0}startInternalTimerIfNeeded(){!this.internalTimerId&&this.handlers.size&&this.startInternalTimer()}stopInternalTimerIfNeeded(){this.internalTimerId&&!this.handlers.size&&this.stopInternalTimer()}constructor(){this.handlers=new Set,this.internalTimerId=void 0,this.internalTimerHandler=()=>{let e=new Date;for(let t of this.handlers)t(e)}}}class c{addHandler(e,t){this.handlers.set(t,e),this.startInternalTimerIfNeeded(),t(this.getEstimatedTime(new Date,e))}removeHandler(e){let t=this.handlers.delete(e);return this.stopInternalTimerIfNeeded(),t}removeAllHandler(){this.handlers.clear()}startInternalTimer(){this.syncedTimer.addHandler(this.internalTimerHandler)}stopInternalTimer(){this.syncedTimer.removeHandler(this.internalTimerHandler)}startInternalTimerIfNeeded(){this.handlers.size&&this.startInternalTimer()}stopInternalTimerIfNeeded(){this.handlers.size||this.stopInternalTimer()}getEstimatedTime(e,t){let s,r;let a=e.getTime(),i=t.getTime();a<=i?(r=i-a,s=!1):(r=a-i,s=!0);let n=Math.floor(r/1e3),l=Math.floor(n/60),d=Math.floor(l/60),o=Math.floor(d/24);return d-=24*o,l=l-1440*o-60*d,n=n-86400*o-3600*d-60*l,{currentDate:e,targetDate:t,isDelayed:s,days:o,hours:d,minutes:l,seconds:n}}constructor(){this.handlers=new Map,this.syncedTimer=new o,this.internalTimerHandler=e=>{for(let[t,s]of this.handlers)t(this.getEstimatedTime(e,s))}}}var m=s(89521);let h=new c,u=e=>{let t="".concat(m.sG.padStart(e.hours.toString(),2,"0"),":").concat(m.sG.padStart(e.minutes.toString(),2,"0"),":").concat(m.sG.padStart(e.seconds.toString(),2,"0"));return e.days&&(t="".concat(e.days," days ").concat(t)),e.isDelayed&&(t="delayed for "+t),t},p=e=>{let[t,s]=(0,n.useState)(),r=(0,n.useMemo)(()=>new Date(e.estimatedTimestamp),[e.estimatedTimestamp]);return(0,n.useEffect)(()=>{let e=e=>{s(u(e))};return h.addHandler(r,e),()=>{h.removeHandler(e)}},[r]),t?(0,i.jsx)("span",{children:t}):null},x=e=>(0,i.jsxs)("span",{className:e.className,children:[(0,i.jsx)("span",{children:"Estimated to Sealed: "}),(0,i.jsx)(p,{estimatedTimestamp:e.estimatedTimestamp})]}),k=(0,n.memo)(e=>e.isDeposit||e.status!==a.Created?null:(0,i.jsx)(x,{estimatedTimestamp:e.estimatedNextStatusTimestamp,className:e.className}));var T=s(39643),f=s(48707);let C=(0,n.memo)(e=>{let t=e.segments[e.segments.length-1];return(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)(f.f,{isTezos:e.isDeposit}),(0,i.jsxs)("div",{className:"flex-grow flex justify-between items-center ml-2",children:[e.segments.map((e,t)=>(0,i.jsxs)(n.Fragment,{children:[t>0&&(0,i.jsx)("div",{className:"flex-none h-2 w-2 rotate-45 ".concat(e.backgroundColorCssClass," ").concat(e.isPulse?"animate-progress":"")}),(0,i.jsx)("hr",{className:"w-full border-dotted border-t-2 ".concat(e.borderColorCssClass," ").concat(e.isPulse?"animate-progress":"")})]},t)),t&&(0,i.jsx)(T.Z,{width:18,height:18,className:"flex-none -ml-2 ".concat(t.textColorCssClass," ").concat(t.isPulse?"animate-progress":"")})]}),(0,i.jsx)(f.f,{isTezos:!e.isDeposit})]})});var g=s(91705);let y=e=>{let{showArrowIcon:t,...s}=e;return(0,i.jsxs)("a",{...s,target:"_blank",rel:"noreferrer",className:"".concat((0,m.Nn)("flex items-center dark:text-violet-300 dark:hover:text-violet-400",s.className)),children:[s.children,(null==t||t)&&(0,i.jsx)(g.Z,{className:"inline h-4 w-4 ml-1 -mb-0.5"})]})};var v=s(73983);let j=e=>{if(!e.rollupData||!e.rollupData.commitment||!e.rollupData.proof)return null;let t="".concat(v.v.bridge.smartRollupNodeBaseUrl,"/global/block/head/helpers/proofs/outbox/").concat(e.rollupData.outboxMessageLevel,"/messages?index=").concat(e.rollupData.outboxMessageIndex);return(0,i.jsx)(y,{href:t,children:"Rollup Data"})},b=e=>(0,i.jsxs)("div",{className:"mt-4 -mb-4 -mx-4 pt-4 pl-4 pb-2 rounded-b-xl overflow-hidden dark:text-red-100 dark:bg-red-900",children:[(0,i.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Error, please try again"}),e.message]});var N=s(20703);let S=e=>"https://services.tzkt.io/v1/avatars/"+e,w=(0,n.memo)(e=>{let t=e.width||24,s=e.height||24;return(0,i.jsx)(N.default,{width:t,height:s,className:"inline w-6 h-6 mr-0.5 rounded-full",src:S(e.address),alt:"Avatar of the ".concat(e.address," address")})}),D=n.memo(e=>{var t;let s=null===(t=e.displayShort)||void 0===t||t,r=e.displayShortFirstPart||6,a=e.displayShortLastPart||4;return(0,i.jsx)(y,{href:m.Yz.getExplorerUrl(e.value,e.type,e.explorer),className:"font-mono",children:(0,i.jsx)("span",{children:s?m.sG.getShortText(e.value,r,a):e.value})})});var z=s(35809),I=s(24370),H=s(59588);let U={backgroundColorCssClass:"dark:bg-cyan-500",borderColorCssClass:"dark:border-cyan-500",textColorCssClass:"dark:text-cyan-500",isPulse:!0},A={backgroundColorCssClass:"dark:bg-green-600",borderColorCssClass:"dark:border-green-600",textColorCssClass:"dark:text-green-600",isPulse:!1},P={backgroundColorCssClass:"dark:bg-red-600",borderColorCssClass:"dark:border-red-600",textColorCssClass:"dark:text-red-600",isPulse:!1},L=(e,t)=>{let s=t===a.Failed?P:void 0,r=[s||(t===a.Pending?U:A)];return e||r.push(s||(t<a.Sealed?U:A)),r.push(s||(t<a.Finished?U:A)),r},M={[a.Pending]:{title:"Pending",backgroundColorCssClass:"dark:bg-cyan-700"},[a.Created]:{title:"Created",backgroundColorCssClass:"dark:bg-cyan-700"},[a.Sealed]:{title:"Sealed",backgroundColorCssClass:"dark:bg-cyan-700"},[a.Finished]:{title:"Completed",backgroundColorCssClass:"dark:bg-green-700"},[a.Failed]:{title:"Failed",backgroundColorCssClass:"dark:bg-red-800"}},K=e=>{let t,s,r,l;let[d,o]=(0,n.useState)(!1),c=(0,n.useMemo)(()=>L(e.isDeposit,e.status),[e.isDeposit,e.status]),h=e.onFinishWithdrawing,u=(0,n.useCallback)(()=>{o(!0),h().catch(m.Bi).finally(()=>o(!1))},[h]);return e.isDeposit?(t=e.tezosOperationHash,s=e.etherlinkOperationHash,r=e.tezosOperationTimestamp,l=e.etherlinkOperationTimestamp):(t=e.etherlinkOperationHash,s=e.tezosOperationHash,r=e.etherlinkOperationTimestamp,l=e.tezosOperationTimestamp),(0,i.jsxs)("div",{className:"flex flex-col w-full max-w-xl p-4 my-4 rounded-xl overflow-hidden dark:text-gray-100 dark:bg-slate-800",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center text-lg",children:[(0,i.jsx)("div",{className:"flex items-center",children:e.token&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:"mr-1.5",children:m.S9.convertTokensRawAmountToAmount(e.amount,e.token.decimals)}),"native"!==e.token.type?(0,i.jsx)(y,{href:m.Yz.getTokenExplorerUrl(e.token),showArrowIcon:!1,children:(0,i.jsx)(z.L,{token:e.token,iconSize:17,iconClassName:"mr-0.5 -mt-0.5"})}):(0,i.jsx)(z.L,{token:e.token,iconSize:17,iconClassName:"mr-0.5 -mt-0.5"})]})}),(0,i.jsx)("div",{className:"-mt-4 -mr-4 pt-4 pr-2 pb-2 pl-2 w-32 rounded-bl-xl text-center ".concat(M[e.status].backgroundColorCssClass),children:M[e.status].title})]}),(0,i.jsx)("div",{className:"mt-6",children:(0,i.jsx)(C,{isDeposit:e.isDeposit,segments:c})}),(0,i.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(w,{address:e.sourceAddress}),(0,i.jsx)(D,{type:H.LinkType.Address,value:e.sourceAddress})]}),(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(w,{address:e.receiverAddress}),(0,i.jsx)(D,{type:H.LinkType.Address,value:e.receiverAddress})]})]}),(0,i.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[t&&(0,i.jsx)(D,{type:H.LinkType.Operation,value:t,displayShortFirstPart:8,displayShortLastPart:5}),s?(0,i.jsx)(D,{type:H.LinkType.Operation,value:s,displayShortFirstPart:8,displayShortLastPart:5}):(0,i.jsx)(j,{rollupData:e.rollupData})]}),(0,i.jsxs)("div",{className:"flex justify-between items-center mt-1 text-sm",children:[r&&(0,i.jsx)("span",{children:new Date(r).toLocaleString()}),l?(0,i.jsx)("span",{children:new Date(l).toLocaleString()}):e.estimatedNextStatusTimestamp&&(0,i.jsx)(k,{isDeposit:e.isDeposit,status:e.status,estimatedNextStatusTimestamp:e.estimatedNextStatusTimestamp,className:"text-right"})]}),e.status===a.Sealed&&(0,i.jsx)("div",{className:"flex justify-center items-center",children:(0,i.jsx)("button",{className:"w-full mt-4 h-12 rounded-lg select-none cursor-pointer  dark:bg-blue-700 dark:hover:bg-blue-800 disabled:cursor-default disabled:opacity-70",onClick:u,disabled:d,children:(0,i.jsxs)("span",{className:"flex justify-center items-center",children:[d&&(0,i.jsx)(I.x,{className:"animate-spin h-5 w-5 mr-2 text-white"}),(0,i.jsx)("span",{children:"Complete Withdraw"})]})})}),e.error&&(0,i.jsx)(b,{message:e.error})]})};var E=s(65185),F=s(39757);let O={[E.hj.Pending]:a.Pending,[E.hj.Created]:a.Created,[E.hj.Sealed]:a.Sealed,[E.hj.Finished]:a.Finished,[E.hj.Failed]:a.Failed},B=e=>{let{bridgeTokenTransfer:t,onFinishWithdrawing:s}=e,r=t.kind===E.gu.Deposit,a=r?t.tezosOperation:t.etherlinkOperation,l=t.status===E.hj.Sealed?t.rollupData:void 0,d=r||t.status!==E.hj.Created?void 0:t.rollupData.estimatedOutboxMessageExecutionTimestamp,o=t.tezosOperation,c=t.etherlinkOperation,[h,u]=(0,n.useState)();(0,n.useEffect)(()=>u(void 0),[t.status]);let p=(0,n.useCallback)(()=>(u(void 0),t.status===E.hj.Sealed?s(t).catch(e=>{m.el.isUserAbortedWalletError(e)||u((0,m.e$)(e))}):Promise.resolve()),[t,s]);return(0,i.jsx)(K,{isDeposit:r,amount:a.amount,token:(0,F.uk)(a.token,r),status:O[t.status],sourceAddress:t.source,receiverAddress:t.receiver,tezosOperationHash:null==o?void 0:o.hash,tezosOperationTimestamp:null==o?void 0:o.timestamp,etherlinkOperationHash:null==c?void 0:c.hash,etherlinkOperationTimestamp:null==c?void 0:c.timestamp,rollupData:l,estimatedNextStatusTimestamp:d,error:h,onFinishWithdrawing:p})}},39757:function(e,t,s){s.d(t,{uk:function(){return u},c3:function(){return c},OB:function(){return o},bX:function(){return d},TV:function(){return m}});var r={src:"/_next/static/media/you.ce33a2c8.png"},a={src:"/_next/static/media/tzbtc.7646b322.png"},i={src:"/_next/static/media/usdt.7462ec8f.png"},n={src:"/_next/static/media/sirs.40f9d9af.png"},l={src:"/_next/static/media/xtz.7960d41d.png"};let d=[{tezos:{type:"native",name:"Tezos",ticker:"XTZ",decimals:6,iconUrl:l.src,ticketHelperContractAddress:"KT1VEjeQfDBSfpDH5WeBM5LukHPGM2htYEh3"},etherlink:{type:"native",name:"Tezos",ticker:"XTZ",decimals:18,iconUrl:l.src}},{tezos:{type:"fa1.2",name:"tzBTC",ticker:"tzBTC",address:"KT1HmyazXfKDbo8XjwtWPXcoyHcmNPDCvZyb",decimals:8,iconUrl:a.src,ticketerContractAddress:"KT1H7if3gSZE1pZSK48W3NzGpKmbWyBxWDHe",ticketHelperContractAddress:"KT1KUAaaRMeMS5TJJyGTQJANcpSR4egvHBUk"},etherlink:{type:"erc20",name:"tzBTC",ticker:"tzBTC",address:"0x8e73aE3CF688Fbd8368c99520d26F9eF1B4d3BCa",decimals:8,iconUrl:a.src}},{tezos:{type:"fa1.2",name:"Sirius",ticker:"SIRS",address:"KT1TCTpXXbpnWBZ8whqExokbKfUrUW3nAXDJ",decimals:0,iconUrl:n.src,ticketerContractAddress:"KT1Cw8WZLp4XUPLrDWUjwwpShzCRqzRByyVh",ticketHelperContractAddress:"KT1DSy9C2dBRDYPCHuBVaYYDQPjhprcSA9eL"},etherlink:{type:"erc20",name:"Sirius",ticker:"SIRS",address:"0xbaA233e2f62f45e9D91Dacd3D6C6A57Bc2CBc575",decimals:0,iconUrl:n.src}},{tezos:{type:"fa2",name:"Tether USD",ticker:"USDt",address:"KT1V2ak1MfNd3w4oyKD64ehYU7K4CrpUcDGR",tokenId:"0",decimals:6,iconUrl:i.src,ticketerContractAddress:"KT1S6Nf9MnafAgSUWLKcsySPNFLUxxqSkQCw",ticketHelperContractAddress:"KT1JLZe4qTa76y6Us2aDoRNUgZyssSDUr6F5"},etherlink:{type:"erc20",name:"Tether USD",ticker:"USDt",address:"0xf68997eCC03751cb99B5B36712B213f11342452b",decimals:6,iconUrl:i.src}},{tezos:{type:"fa2",name:"youves YOU Governance",ticker:"YOU",address:"KT1VyYTej9iHeAfpCKBEdpqiKaHAk4hUN7h8",tokenId:"0",decimals:12,iconUrl:r.src,ticketerContractAddress:"KT1DjH84P98gKFptqiAevj1qoKqxrTaG1T7i",ticketHelperContractAddress:"KT1HV4o5WnnJ6QEPWqck9Lk3vQakcUD89qc8"},etherlink:{type:"erc20",name:"YOU",ticker:"YOU",address:"0x59118D19848bAca5C3Dd1603acfC99C4cbcCC3db",decimals:12,iconUrl:r.src}}],o=d[0].tezos,c=d[0].etherlink,m=d.reduce((e,t)=>(e.push(t.tezos),e.push(t.etherlink),e),[]),h={};for(let e of d)"native"===e.tezos.type?(h.native||(h.native={}),h.native.tezos=e.tezos):(h[e.tezos.type]||(h[e.tezos.type]={}),"fa1.2"===e.tezos.type?h[e.tezos.type][e.tezos.address]=e.tezos:(h[e.tezos.type][e.tezos.address]||(h[e.tezos.type][e.tezos.address]={}),h[e.tezos.type][e.tezos.address][e.tezos.tokenId]=e.tezos)),"native"===e.etherlink.type?(h.native||(h.native={}),h.native.etherlink=e.etherlink):(h[e.etherlink.type]||(h[e.etherlink.type]={}),"erc20"===e.etherlink.type&&(h[e.etherlink.type][e.etherlink.address]=e.etherlink));let u=(e,t)=>{var s,r,a,i,n;return"native"===e.type?t?null===(s=h[e.type])||void 0===s?void 0:s.tezos:null===(r=h[e.type])||void 0===r?void 0:r.etherlink:e.address?"fa1.2"===e.type||"erc20"===e.type?null===(a=h[e.type])||void 0===a?void 0:a[e.address]:"fa2"===e.type&&e.tokenId?null===(n=h[e.type])||void 0===n?void 0:null===(i=n[e.address])||void 0===i?void 0:i[e.tokenId]:void 0:void 0}}}]);