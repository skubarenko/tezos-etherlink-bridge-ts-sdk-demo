(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[129],{35883:function(){},52361:function(){},94616:function(){},35809:function(e,t,s){"use strict";s.d(t,{L:function(){return l}});var r=s(3827),a=s(64090),n=s(93349);let l=(0,a.memo)(e=>{let t=e.iconSize||32,s=e.iconClassName||"mr-2";return(0,r.jsxs)("span",{className:(0,n.Nn)("inline-flex items-center justify-center text-nowrap",e.className),children:[(0,r.jsx)("img",{src:e.token.iconUrl,alt:e.token.name,width:t,height:t,className:(0,n.Nn)("inline rounded-full",s)}),e.showName?(0,r.jsxs)("span",{className:"inline-flex flex-col overflow-hidden",children:[(0,r.jsx)("span",{className:"overflow-hidden overflow-ellipsis",children:e.token.ticker}),(0,r.jsx)("span",{className:"text-sm overflow-hidden overflow-ellipsis",children:e.token.name})]}):(0,r.jsx)("span",{className:"overflow-hidden overflow-ellipsis",children:e.token.ticker})]})})},87167:function(e,t,s){"use strict";s.d(t,{Gv:function(){return O}});var r,a,n=s(3827),l=s(64090),i=s(39643),o=s(48707);let d=(0,l.memo)(e=>{let t=e.segments[e.segments.length-1];return(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)(o.f,{isTezos:e.isDeposit}),(0,n.jsxs)("div",{className:"flex-grow flex justify-between items-center ml-2",children:[e.segments.map((e,t)=>(0,n.jsxs)(l.Fragment,{children:[t>0&&(0,n.jsx)("div",{className:"flex-none h-2 w-2 rotate-45 ".concat(e.backgroundColorCssClass," ").concat(e.isPulse?"animate-progress":"")}),(0,n.jsx)("hr",{className:"w-full border-dotted border-t-2 ".concat(e.borderColorCssClass," ").concat(e.isPulse?"animate-progress":"")})]},t)),t&&(0,n.jsx)(i.Z,{width:18,height:18,className:"flex-none -ml-2 ".concat(t.textColorCssClass," ").concat(t.isPulse?"animate-progress":"")})]}),(0,n.jsx)(o.f,{isTezos:!e.isDeposit})]})});var c=s(91705),m=s(93349);let u=e=>{let{showArrowIcon:t,...s}=e;return(0,n.jsxs)("a",{...s,target:"_blank",rel:"noreferrer",className:"".concat((0,m.Nn)("flex items-center dark:text-violet-300 dark:hover:text-violet-400",s.className)),children:[s.children,(null==t||t)&&(0,n.jsx)(c.Z,{className:"inline h-4 w-4 ml-1 -mb-0.5"})]})};var p=s(73983);let h=e=>{if(!e.rollupData||!e.rollupData.commitment||!e.rollupData.proof)return null;let t="".concat(p.v.bridgeSmartRollupNodeBaseUrl,"/global/block/head/helpers/proofs/outbox/").concat(e.rollupData.outboxMessageLevel,"/messages?index=").concat(e.rollupData.outboxMessageIndex);return(0,n.jsx)(u,{href:t,children:"Rollup Data"})},x=e=>(0,n.jsxs)("div",{className:"mt-4 -mb-4 -mx-4 pt-4 pl-4 pb-2 rounded-b-xl overflow-hidden dark:text-red-100 dark:bg-red-900",children:[(0,n.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Error, please try again"}),e.message]}),k=l.memo(e=>{var t;let s=null===(t=e.displayShort)||void 0===t||t;return(0,n.jsx)(u,{href:m.Yz.getExplorerUrl(e.value,e.type,e.explorer),className:"font-mono",children:(0,n.jsx)("span",{children:s?m.sG.getShortText(e.value,6,4):e.value})})});var f=s(35809),v=s(24370),C=s(59588);(r=a||(a={}))[r.Pending=0]="Pending",r[r.Created=1]="Created",r[r.Sealed=2]="Sealed",r[r.Finished=3]="Finished",r[r.Failed=4]="Failed";let g={backgroundColorCssClass:"dark:bg-cyan-500",borderColorCssClass:"dark:border-cyan-500",textColorCssClass:"dark:text-cyan-500",isPulse:!0},b={backgroundColorCssClass:"dark:bg-green-600",borderColorCssClass:"dark:border-green-600",textColorCssClass:"dark:text-green-600",isPulse:!1},j={backgroundColorCssClass:"dark:bg-red-600",borderColorCssClass:"dark:border-red-600",textColorCssClass:"dark:text-red-600",isPulse:!1},y=(e,t)=>{let s=4===t?j:void 0,r=[s||(0===t?g:b)];return e||r.push(s||(t<2?g:b)),r.push(s||(t<3?g:b)),r},z={0:{title:"Pending",backgroundColorCssClass:"dark:bg-cyan-700"},1:{title:"Created",backgroundColorCssClass:"dark:bg-cyan-700"},2:{title:"Sealed",backgroundColorCssClass:"dark:bg-cyan-700"},3:{title:"Completed",backgroundColorCssClass:"dark:bg-green-700"},4:{title:"Failed",backgroundColorCssClass:"dark:bg-red-800"}},w=e=>{let t,s,r,a;let[i,o]=(0,l.useState)(!1),c=(0,l.useMemo)(()=>y(e.isDeposit,e.status),[e.isDeposit,e.status]),p=e.onFinishWithdrawing,g=(0,l.useCallback)(()=>{o(!0),p().catch(m.Bi).finally(()=>o(!1))},[p]);return e.isDeposit?(t=e.tezosOperationHash,s=e.etherlinkOperationHash,r=e.tezosOperationTimestamp,a=e.etherlinkOperationTimestamp):(t=e.etherlinkOperationHash,s=e.tezosOperationHash,r=e.etherlinkOperationTimestamp,a=e.tezosOperationTimestamp),(0,n.jsxs)("div",{className:"flex flex-col w-full max-w-xl p-4 my-4 rounded-xl overflow-hidden dark:text-gray-100 dark:bg-slate-800",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center text-lg",children:[(0,n.jsx)("div",{className:"flex items-center",children:e.token&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"mr-1.5",children:m.S9.convertTokensRawAmountToAmount(e.amount,e.token.decimals)}),"native"!==e.token.type?(0,n.jsx)(u,{href:m.Yz.getTokenExplorerUrl(e.token),showArrowIcon:!1,children:(0,n.jsx)(f.L,{token:e.token,iconSize:17,iconClassName:"mr-0.5 -mt-0.5"})}):(0,n.jsx)(f.L,{token:e.token,iconSize:17,iconClassName:"mr-0.5 -mt-0.5"})]})}),(0,n.jsx)("div",{className:"-mt-4 -mr-4 pt-4 pr-2 pb-2 pl-2 w-32 rounded-bl-xl text-center ".concat(z[e.status].backgroundColorCssClass),children:z[e.status].title})]}),(0,n.jsx)("div",{className:"mt-6",children:(0,n.jsx)(d,{isDeposit:e.isDeposit,segments:c})}),(0,n.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[t&&(0,n.jsx)(k,{type:C.LinkType.Operation,value:t}),s?(0,n.jsx)(k,{type:C.LinkType.Operation,value:s}):(0,n.jsx)(h,{rollupData:e.rollupData})]}),(0,n.jsxs)("div",{className:"flex justify-between items-center mt-1 text-xs",children:[r&&(0,n.jsx)("span",{children:new Date(r).toLocaleString()}),a&&(0,n.jsx)("span",{children:new Date(a).toLocaleString()})]}),2===e.status&&(0,n.jsx)("div",{className:"flex justify-center items-center",children:(0,n.jsx)("button",{className:"w-full mt-4 h-12 rounded-lg select-none cursor-pointer  dark:bg-blue-700 dark:hover:bg-blue-800 disabled:cursor-default disabled:opacity-70",onClick:g,disabled:i,children:(0,n.jsxs)("span",{className:"flex justify-center items-center",children:[i&&(0,n.jsx)(v.x,{className:"animate-spin h-5 w-5 mr-2 text-white"}),(0,n.jsx)("span",{children:"Complete Withdraw"})]})})}),e.error&&(0,n.jsx)(x,{message:e.error})]})};var N=s(24227),T=s(56842),D=s(6143);let S={[T.hj.Pending]:a.Pending,[T.hj.Created]:a.Created,[T.hj.Sealed]:a.Sealed,[T.hj.Finished]:a.Finished,[T.hj.Failed]:a.Failed},O=e=>{let{bridgeTokenTransfer:t,onFinishWithdrawing:s}=e,r=t.kind===T.gu.Deposit,a=r?t.tezosOperation:t.etherlinkOperation,[i,o]=(0,l.useState)(),d=t.tezosOperation,c=t.etherlinkOperation,u=t.status===T.hj.Sealed?t.rollupData:void 0;(0,l.useEffect)(()=>o(void 0),[t.status]);let p=(0,l.useCallback)(()=>(o(void 0),t.status===T.hj.Sealed?s(t).catch(e=>{e instanceof N.Rd||o((0,m.e$)(e))}):Promise.resolve()),[t,s]);return(0,n.jsx)(w,{isDeposit:r,amount:a.amount,token:(0,D.uk)(a.token,r),status:S[t.status],tezosOperationHash:null==d?void 0:d.hash,tezosOperationTimestamp:null==d?void 0:d.timestamp,etherlinkOperationHash:null==c?void 0:c.hash,etherlinkOperationTimestamp:null==c?void 0:c.timestamp,rollupData:u,error:i,onFinishWithdrawing:p})}},6143:function(e,t,s){"use strict";s.d(t,{uk:function(){return c},OB:function(){return i},bX:function(){return l},TV:function(){return o}});var r={src:"/_next/static/media/ctez.76dc7655.png"},a={src:"/_next/static/media/fxhash.adc967f1.png"},n={src:"/_next/static/media/xtz.5d1f6ae4.png"};let l=[{tezos:{type:"native",name:"Tezos",ticker:"XTZ",decimals:6,iconUrl:n.src,ticketHelperContractAddress:"KT1DWVsu4Jtu2ficZ1qtNheGPunm5YVniegT"},etherlink:{type:"native",name:"Tezos",ticker:"XTZ",decimals:18,iconUrl:n.src}},{tezos:{type:"fa1.2",name:"Ctez",ticker:"CTEZ",address:"KT1LpdETWYvPWCQTR2FEW6jE6dVqJqxYjdeW",decimals:0,iconUrl:r.src,ticketerContractAddress:"KT1RvSp4yDKUABqWmv3pKGE9fA6iCGy7bqGh",ticketHelperContractAddress:"KT1DHLWJorW9WB6ztkx1XcoaJKWXeTu9yoR1"},etherlink:{type:"erc20",name:"Ctez",ticker:"CTEZ",address:"0x87dcBf128677ba36E79D47dAf4eb4e51610e0150",decimals:0,iconUrl:r.src}},{tezos:{type:"fa2",name:"fxhash, token: 42",ticker:"FXHASH_42",address:"KT195Eb8T524v5VJ99ZzH2wpnPfQ2wJfMi6h",tokenId:"42",decimals:0,iconUrl:a.src,ticketerContractAddress:"KT1VybveLaWhpQHKph28WcGwSy1ud22KSEan",ticketHelperContractAddress:"KT1DNtHLr9T9zksZjZvQwgtx5XJwrW9wzETB"},etherlink:{type:"erc20",name:"fxhash, token: 42",ticker:"FXHASH_42",address:"0xcB5d40c6B1bdf5Cd51b3801351b0A68D101a561b",decimals:0,iconUrl:a.src}}],i=l[0].tezos;l[0].etherlink;let o=l.reduce((e,t)=>(e.push(t.tezos),e.push(t.etherlink),e),[]),d={};for(let e of l)"native"===e.tezos.type?(d.native||(d.native={}),d.native.tezos=e.tezos):(d[e.tezos.type]||(d[e.tezos.type]={}),"fa1.2"===e.tezos.type?d[e.tezos.type][e.tezos.address]=e.tezos:(d[e.tezos.type][e.tezos.address]||(d[e.tezos.type][e.tezos.address]={}),d[e.tezos.type][e.tezos.address][e.tezos.tokenId]=e.tezos)),"native"===e.etherlink.type?(d.native||(d.native={}),d.native.etherlink=e.etherlink):(d[e.etherlink.type]||(d[e.etherlink.type]={}),"erc20"===e.etherlink.type&&(d[e.etherlink.type][e.etherlink.address]=e.etherlink));let c=(e,t)=>{var s,r,a,n,l;return"native"===e.type?t?null===(s=d[e.type])||void 0===s?void 0:s.tezos:null===(r=d[e.type])||void 0===r?void 0:r.etherlink:e.address?"fa1.2"===e.type||"erc20"===e.type?null===(a=d[e.type])||void 0===a?void 0:a[e.address]:"fa2"===e.type&&e.tokenId?null===(l=d[e.type])||void 0===l?void 0:null===(n=l[e.address])||void 0===n?void 0:n[e.tokenId]:void 0:void 0}}}]);