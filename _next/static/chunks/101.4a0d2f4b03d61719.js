(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[101],{97378:function(e,t,r){"use strict";let n,i;r.d(t,{O:function(){return f}});var s=r(1937),o=r(24227),a=r(99980),c=r(23663).Buffer;class u extends o.BP{async init(){this.subscribeToMessages().catch(console.error)}async listenForEncryptedMessage(e,t){if(this.activeListeners.has(e))return;let r=async(r,n)=>{try{let i=await this.decryptMessage(e,r.encryptedPayload);t(i,n)}catch(e){}};this.activeListeners.set(e,r)}async sendMessage(e,t){let r=await this.encryptMessage(t.publicKey,e),n=null==t?void 0:t.extensionId,i={target:s.wc.EXTENSION,encryptedPayload:r,targetId:n};o.Zv.postMessage(i,o.Zv.location.origin)}async listenForChannelOpening(e){let t=async t=>{var r,n;if(t.source!==o.Zv||t.origin!==o.Zv.location.origin)return;let i=null==t?void 0:null===(r=t.data)||void 0===r?void 0:r.message;if(i&&i.target===s.wc.PAGE&&await this.isChannelOpenMessage(i)){let r=c.from(i.payload,"hex");if(r.length>=a.Cd+a.S6)try{let i=JSON.parse(await (0,a.a8)(r,this.keyPair.publicKey,this.keyPair.secretKey));e(new s.RO(i.id,i.name,i.publicKey,i.version,await (0,o.I2)(i.publicKey),null==t?void 0:null===(n=t.data)||void 0===n?void 0:n.sender.id))}catch(e){}}};o.Zv.addEventListener("message",t)}async sendPairingRequest(e){let t={target:s.wc.EXTENSION,payload:await new o.ei().serialize(await this.getPairingRequestInfo()),targetId:e};o.Zv.postMessage(t,o.Zv.location.origin)}async isChannelOpenMessage(e){return"object"==typeof e&&e.hasOwnProperty("payload")}async subscribeToMessages(){o.Zv.addEventListener("message",e=>{if(e.source===o.Zv&&e.origin===o.Zv.location.origin&&"object"==typeof e&&e){let t=e.data;t.message&&t.message.target===s.wc.PAGE&&this.activeListeners.forEach(e=>{e(t.message,{origin:s.aP.EXTENSION,id:t.sender.id||""})})}})}constructor(...e){super(...e),this.activeListeners=new Map}}let l=new o.Yd("PostMessageTransport"),d=!1,h=e=>{i||(i=[]),i.some(t=>t.id===e.id)||(i.push(e),o.Zv.postMessage("extensionsUpdated",o.Zv.location.origin))};class f extends o.J7{static async isAvailable(){return new Promise(e=>{let t=r=>{let n=r.data;n&&"pong"===n.payload&&(e(!0),o.Zv.removeEventListener("message",t))};o.Zv.addEventListener("message",t);let r={target:s.wc.EXTENSION,payload:"ping"};o.Zv.postMessage(r,o.Zv.location.origin)})}static async getAvailableExtensions(){return n||i||(i=[],n=new Promise(e=>{f.listenForExtensions(),setTimeout(()=>{e(null!=i?i:[])},1e3)}).finally(()=>{n=void 0}))}static listenForExtensions(){if(d)return;o.Zv.addEventListener("message",e=>{if(e.source!==o.Zv||e.origin!==o.Zv.location.origin)return;let t=e.data,r=t.sender;t&&"pong"===t.payload&&r&&(l.log("getAvailableExtensions",'extension "'.concat(r.name,'" is available'),r),h(r))});let e={target:s.wc.EXTENSION,payload:"ping"};o.Zv.postMessage(e,o.Zv.location.origin),d=!0}async connect(){if(l.log("connect"),this._isConnected!==s.ki.NOT_CONNECTED)return;this._isConnected=s.ki.CONNECTING;let e=await this.getPeers();e.length>0&&(l.log("connect","connecting to ".concat(e.length," peers")),Promise.all(e.map(async e=>this.listen(e.publicKey))).catch(e=>l.error("connect",e))),await this.startOpenChannelListener(),await super.connect()}async startOpenChannelListener(){}async getPairingRequestInfo(){return this.client.getPairingRequestInfo()}async listen(e){l.log("listen",e),await this.client.listenForEncryptedMessage(e,(e,t)=>{let r={origin:s.aP.EXTENSION,id:t.id};this.notifyListeners(e,r).catch(e=>{throw e})}).catch(e=>{throw e})}constructor(e,t,r,n){super(e,new u(e,t),new o.Ou(r,n)),this.type=s.Fl.POST_MESSAGE}}f.getAvailableExtensions()},57084:function(e,t){"use strict";function r(e,t,r){if(r>e.length)throw Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return e.slice(t,r)}function n(e){if(0===e[0])throw Error("invalid RLP: extra zeros");return o(function(e){let t="";for(let r=0;r<e.length;r++)t+=s[e[r]];return t}(e))}function i(e,t){if(e<56)return Uint8Array.from([e+t]);let r=u(e),n=u(t+55+r.length/2);return Uint8Array.from(a(n+r))}t.yH=void 0;let s=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function o(e){let t=Number.parseInt(e,16);if(Number.isNaN(t))throw Error("Invalid byte sequence");return t}function a(e){if("string"!=typeof e)throw TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw Error("hexToBytes: received invalid unpadded hex");let t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){let n=2*r;t[r]=o(e.slice(n,n+2))}return t}function c(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(1===t.length)return t[0];let n=t.reduce((e,t)=>e+t.length,0),i=new Uint8Array(n);for(let e=0,r=0;e<t.length;e++){let n=t[e];i.set(n,r),r+=n.length}return i}function u(e){if(e<0)throw Error("Invalid integer as argument, must be unsigned!");let t=e.toString(16);return t.length%2?"0".concat(t):t}function l(e){return e.length>=2&&"0"===e[0]&&"x"===e[1]}function d(e){if(e instanceof Uint8Array)return e;if("string"==typeof e){var t;return l(e)?a((t="string"!=typeof e?e:l(e)?e.slice(2):e).length%2?"0".concat(t):t):new TextEncoder().encode(e)}if("number"==typeof e||"bigint"==typeof e)return e?a(u(e)):Uint8Array.from([]);if(null==e)return Uint8Array.from([]);throw Error("toBytes: received unsupported type "+typeof e)}t.yH={encode:function e(t){if(Array.isArray(t)){let r=[],n=0;for(let i=0;i<t.length;i++){let s=e(t[i]);r.push(s),n+=s.length}return c(i(n,192),...r)}let r=d(t);return 1===r.length&&r[0]<128?r:c(i(r.length,128),r)},decode:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==e||0===e.length)return Uint8Array.from([]);let i=function e(t){let i,s,o,a,c;let u=[],l=t[0];if(l<=127)return{data:t.slice(0,1),remainder:t.slice(1)};if(l<=183){if(i=l-127,o=128===l?Uint8Array.from([]):r(t,1,i),2===i&&o[0]<128)throw Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:o,remainder:t.slice(i)}}if(l<=191){if(s=l-182,t.length-1<s)throw Error("invalid RLP: not enough bytes for string length");if((i=n(r(t,1,s)))<=55)throw Error("invalid RLP: expected string length to be greater than 55");return{data:o=r(t,s,i+s),remainder:t.slice(i+s)}}if(l<=247){for(a=r(t,1,i=l-191);a.length;)c=e(a),u.push(c.data),a=c.remainder;return{data:u,remainder:t.slice(i)}}{if((i=n(r(t,1,s=l-246)))<56)throw Error("invalid RLP: encoded list too short");let o=s+i;if(o>t.length)throw Error("invalid RLP: total length is larger than the data");for(a=r(t,s,o);a.length;)c=e(a),u.push(c.data),a=c.remainder;return{data:u,remainder:t.slice(o)}}}(d(e));if(t)return i;if(0!==i.remainder.length)throw Error("invalid RLP: remainder must be zero");return i.data}}},65727:function(e,t){"use strict";function r(e){if(!Number.isSafeInteger(e)||e<0)throw Error("Wrong positive integer: ".concat(e))}function n(e){if("boolean"!=typeof e)throw Error("Expected boolean, not ".concat(e))}function i(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(!(e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name))throw Error("Expected Uint8Array");if(r.length>0&&!r.includes(e.length))throw Error("Expected Uint8Array of length ".concat(r,", not of length=").concat(e.length))}function s(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.wrapConstructor");r(e.outputLen),r(e.blockLen)}function o(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function a(e,t){i(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least ".concat(r))}Object.defineProperty(t,"__esModule",{value:!0}),t.output=t.exists=t.hash=t.bytes=t.bool=t.number=void 0,t.number=r,t.bool=n,t.bytes=i,t.hash=s,t.exists=o,t.output=a,t.default={number:r,bool:n,bytes:i,hash:s,exists:o,output:a}},46133:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHA2=void 0;let n=r(65727),i=r(83245);class s extends i.Hash{update(e){(0,n.exists)(this);let{view:t,buffer:r,blockLen:s}=this,o=(e=(0,i.toBytes)(e)).length;for(let n=0;n<o;){let a=Math.min(s-this.pos,o-n);if(a===s){let t=(0,i.createView)(e);for(;s<=o-n;n+=s)this.process(t,n);continue}r.set(e.subarray(n,n+a),this.pos),this.pos+=a,n+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,n.exists)(this),(0,n.output)(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:s,isLE:o}=this,{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(r,0),a=0);for(let e=a;e<s;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,u=n?0:4;e.setUint32(t+c,o,n),e.setUint32(t+u,a,n)}(r,s-8,BigInt(8*this.length),o),this.process(r,0);let c=(0,i.createView)(e),u=this.outputLen;if(u%4)throw Error("_sha2: outputLen should be aligned to 32bit");let l=u/4,d=this.get();if(l>d.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)c.setUint32(4*e,d[e],o)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:s,pos:o}=this;return e.length=n,e.pos=o,e.finished=i,e.destroyed=s,n%t&&e.buffer.set(r),e}constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,i.createView)(this.buffer)}}t.SHA2=s},32125:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=void 0,t.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},23928:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha224=t.sha256=void 0;let n=r(46133),i=r(83245),s=(e,t,r)=>e&t^~e&r,o=(e,t,r)=>e&t^e&r^t&r,a=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),c=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),u=new Uint32Array(64);class l extends n.SHA2{get(){let{A:e,B:t,C:r,D:n,E:i,F:s,G:o,H:a}=this;return[e,t,r,n,i,s,o,a]}set(e,t,r,n,i,s,o,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)u[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=u[e-15],r=u[e-2],n=(0,i.rotr)(t,7)^(0,i.rotr)(t,18)^t>>>3,s=(0,i.rotr)(r,17)^(0,i.rotr)(r,19)^r>>>10;u[e]=s+u[e-7]+n+u[e-16]|0}let{A:r,B:n,C:c,D:l,E:d,F:h,G:f,H:p}=this;for(let e=0;e<64;e++){let t=p+((0,i.rotr)(d,6)^(0,i.rotr)(d,11)^(0,i.rotr)(d,25))+s(d,h,f)+a[e]+u[e]|0,m=((0,i.rotr)(r,2)^(0,i.rotr)(r,13)^(0,i.rotr)(r,22))+o(r,n,c)|0;p=f,f=h,h=d,d=l+t|0,l=c,c=n,n=r,r=t+m|0}r=r+this.A|0,n=n+this.B|0,c=c+this.C|0,l=l+this.D|0,d=d+this.E|0,h=h+this.F|0,f=f+this.G|0,p=p+this.H|0,this.set(r,n,c,l,d,h,f,p)}roundClean(){u.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}constructor(){super(64,32,8,!1),this.A=0|c[0],this.B=0|c[1],this.C=0|c[2],this.D=0|c[3],this.E=0|c[4],this.F=0|c[5],this.G=0|c[6],this.H=0|c[7]}}class d extends l{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}t.sha256=(0,i.wrapConstructor)(()=>new l),t.sha224=(0,i.wrapConstructor)(()=>new d)},83245:function(e,t,r){"use strict";/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.isLE=t.rotr=t.createView=t.u32=t.u8=void 0;let n=r(32125);function i(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}if(t.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength),t.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),t.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),t.rotr=(e,t)=>e<<32-t|e>>>t,t.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!t.isLE)throw Error("Non little-endian hardware is not supported");let s=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));t.bytesToHex=function(e){if(!i(e))throw Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=s[e[r]];return t};let o={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function a(e){return e>=o._0&&e<=o._9?e-o._0:e>=o._A&&e<=o._F?e-(o._A-10):e>=o._a&&e<=o._f?e-(o._a-10):void 0}t.hexToBytes=function(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw Error("padded hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=a(e.charCodeAt(i)),s=a(e.charCodeAt(i+1));if(void 0===r||void 0===s)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+s}return n};let c=async()=>{};async function u(e,r,n){let i=Date.now();for(let s=0;s<e;s++){n(s);let e=Date.now()-i;e>=0&&e<r||(await (0,t.nextTick)(),i+=e)}}function l(e){if("string"!=typeof e)throw Error("utf8ToBytes expected string, got ".concat(typeof e));return new Uint8Array(new TextEncoder().encode(e))}function d(e){if("string"==typeof e&&(e=l(e)),!i(e))throw Error("expected Uint8Array, got ".concat(typeof e));return e}t.nextTick=c,t.asyncLoop=u,t.utf8ToBytes=l,t.toBytes=d,t.concatBytes=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let n=0;for(let e=0;e<t.length;e++){let r=t[e];if(!i(r))throw Error("Uint8Array expected");n+=r.length}let s=new Uint8Array(n);for(let e=0,r=0;e<t.length;e++){let n=t[e];s.set(n,r),r+=n.length}return s};class h{clone(){return this._cloneInto()}}t.Hash=h;let f={}.toString;t.checkOpts=function(e,t){if(void 0!==t&&"[object Object]"!==f.call(t))throw Error("Options should be object or undefined");return Object.assign(e,t)},t.wrapConstructor=function(e){let t=t=>e().update(d(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t},t.wrapConstructorWithOpts=function(e){let t=(t,r)=>e(r).update(d(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},t.wrapXOFConstructorWithOpts=function(e){let t=(t,r)=>e(r).update(d(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},t.randomBytes=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(n.crypto&&"function"==typeof n.crypto.getRandomValues)return n.crypto.getRandomValues(new Uint8Array(e));throw Error("crypto.getRandomValues must be defined")}},27645:function(e,t,r){"use strict";let n;r.d(t,{kx:function(){return rv}});var i,s,o,a,c,u,l,d,h,f,p,m,g,v,b={};r.r(b),r.d(b,{hasBrowserEnv:function(){return ey},hasStandardBrowserEnv:function(){return ew},hasStandardBrowserWebWorkerEnv:function(){return eE}});var y=r(24227),w=r(75388);function E(e,t){return function(){return e.apply(t,arguments)}}let{toString:_}=Object.prototype,{getPrototypeOf:S}=Object,A=(i=Object.create(null),e=>{let t=_.call(e);return i[t]||(i[t]=t.slice(8,-1).toLowerCase())}),T=e=>(e=e.toLowerCase(),t=>A(t)===e),x=e=>t=>typeof t===e,{isArray:I}=Array,R=x("undefined"),O=T("ArrayBuffer"),P=x("string"),k=x("function"),N=x("number"),C=e=>null!==e&&"object"==typeof e,M=e=>{if("object"!==A(e))return!1;let t=S(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},L=T("Date"),B=T("File"),D=T("Blob"),U=T("FileList"),H=T("URLSearchParams");function j(e,t){let r,n,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!=e){if("object"!=typeof e&&(e=[e]),I(e))for(r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else{let n;let s=i?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;for(r=0;r<o;r++)n=s[r],t.call(null,e[n],n,e)}}}function F(e,t){let r;t=t.toLowerCase();let n=Object.keys(e),i=n.length;for(;i-- >0;)if(t===(r=n[i]).toLowerCase())return r;return null}let q="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:window,G=e=>!R(e)&&e!==q,z=(s="undefined"!=typeof Uint8Array&&S(Uint8Array),e=>s&&e instanceof s),K=T("HTMLFormElement"),W=(e=>{let{hasOwnProperty:t}=e;return(e,r)=>t.call(e,r)})(Object.prototype),V=T("RegExp"),J=(e,t)=>{let r=Object.getOwnPropertyDescriptors(e),n={};j(r,(r,i)=>{let s;!1!==(s=t(r,i,e))&&(n[i]=s||r)}),Object.defineProperties(e,n)},Z="abcdefghijklmnopqrstuvwxyz",Q="0123456789",X={DIGIT:Q,ALPHA:Z,ALPHA_DIGIT:Z+Z.toUpperCase()+Q},Y=T("AsyncFunction");var $={isArray:I,isArrayBuffer:O,isBuffer:function(e){return null!==e&&!R(e)&&null!==e.constructor&&!R(e.constructor)&&k(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||k(e.append)&&("formdata"===(t=A(e))||"object"===t&&k(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&O(e.buffer)},isString:P,isNumber:N,isBoolean:e=>!0===e||!1===e,isObject:C,isPlainObject:M,isUndefined:R,isDate:L,isFile:B,isBlob:D,isRegExp:V,isFunction:k,isStream:e=>C(e)&&k(e.pipe),isURLSearchParams:H,isTypedArray:z,isFileList:U,forEach:j,merge:function e(){let{caseless:t}=G(this)&&this||{},r={},n=(n,i)=>{let s=t&&F(r,i)||i;M(r[s])&&M(n)?r[s]=e(r[s],n):M(n)?r[s]=e({},n):I(n)?r[s]=n.slice():r[s]=n};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&j(arguments[e],n);return r},extend:function(e,t,r){let{allOwnKeys:n}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return j(t,(t,n)=>{r&&k(t)?e[n]=E(t,r):e[n]=t},{allOwnKeys:n}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,n)=>{let i,s,o;let a={};if(t=t||{},null==e)return t;do{for(s=(i=Object.getOwnPropertyNames(e)).length;s-- >0;)o=i[s],(!n||n(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=!1!==r&&S(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:A,kindOfTest:T,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;let n=e.indexOf(t,r);return -1!==n&&n===r},toArray:e=>{if(!e)return null;if(I(e))return e;let t=e.length;if(!N(t))return null;let r=Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{let r;let n=(e&&e[Symbol.iterator]).call(e);for(;(r=n.next())&&!r.done;){let n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let r;let n=[];for(;null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:K,hasOwnProperty:W,hasOwnProp:W,reduceDescriptors:J,freezeMethods:e=>{J(e,(t,r)=>{if(k(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;if(k(e[r])){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},toObjectSet:(e,t)=>{let r={};return(e=>{e.forEach(e=>{r[e]=!0})})(I(e)?e:String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,r){return t.toUpperCase()+r}),noop:()=>{},toFiniteNumber:(e,t)=>Number.isFinite(e=+e)?e:t,findKey:F,global:q,isContextDefined:G,ALPHABET:X,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:X.ALPHA_DIGIT,r="",{length:n}=t;for(;e--;)r+=t[Math.random()*n|0];return r},isSpecCompliantForm:function(e){return!!(e&&k(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{let t=Array(10),r=(e,n)=>{if(C(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;let i=I(e)?[]:{};return j(e,(e,t)=>{let s=r(e,n+1);R(s)||(i[t]=s)}),t[n]=void 0,i}}return e};return r(e,0)},isAsyncFn:Y,isThenable:e=>e&&(C(e)||k(e))&&k(e.then)&&k(e.catch)};function ee(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}$.inherits(ee,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});let et=ee.prototype,er={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{er[e]={value:e}}),Object.defineProperties(ee,er),Object.defineProperty(et,"isAxiosError",{value:!0}),ee.from=(e,t,r,n,i,s)=>{let o=Object.create(et);return $.toFlatObject(e,o,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),ee.call(o,e.message,t,r,n,i),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};var en=r(23663).Buffer;function ei(e){return $.isPlainObject(e)||$.isArray(e)}function es(e){return $.endsWith(e,"[]")?e.slice(0,-2):e}function eo(e,t,r){return e?e.concat(t).map(function(e,t){return e=es(e),!r&&t?"["+e+"]":e}).join(r?".":""):t}let ea=$.toFlatObject($,{},null,function(e){return/^is[A-Z]/.test(e)});var ec=function(e,t,r){if(!$.isObject(e))throw TypeError("target must be an object");t=t||new FormData;let n=(r=$.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!$.isUndefined(t[e])})).metaTokens,i=r.visitor||u,s=r.dots,o=r.indexes,a=(r.Blob||"undefined"!=typeof Blob&&Blob)&&$.isSpecCompliantForm(t);if(!$.isFunction(i))throw TypeError("visitor must be a function");function c(e){if(null===e)return"";if($.isDate(e))return e.toISOString();if(!a&&$.isBlob(e))throw new ee("Blob is not supported. Use a Buffer instead.");return $.isArrayBuffer(e)||$.isTypedArray(e)?a&&"function"==typeof Blob?new Blob([e]):en.from(e):e}function u(e,r,i){let a=e;if(e&&!i&&"object"==typeof e){if($.endsWith(r,"{}"))r=n?r:r.slice(0,-2),e=JSON.stringify(e);else{var u;if($.isArray(e)&&(u=e,$.isArray(u)&&!u.some(ei))||($.isFileList(e)||$.endsWith(r,"[]"))&&(a=$.toArray(e)))return r=es(r),a.forEach(function(e,n){$.isUndefined(e)||null===e||t.append(!0===o?eo([r],n,s):null===o?r:r+"[]",c(e))}),!1}}return!!ei(e)||(t.append(eo(i,r,s),c(e)),!1)}let l=[],d=Object.assign(ea,{defaultVisitor:u,convertValue:c,isVisitable:ei});if(!$.isObject(e))throw TypeError("data must be an object");return!function e(r,n){if(!$.isUndefined(r)){if(-1!==l.indexOf(r))throw Error("Circular reference detected in "+n.join("."));l.push(r),$.forEach(r,function(r,s){!0===(!($.isUndefined(r)||null===r)&&i.call(t,r,$.isString(s)?s.trim():s,n,d))&&e(r,n?n.concat(s):[s])}),l.pop()}}(e),t};function eu(e){let t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\x00"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function el(e,t){this._pairs=[],e&&ec(e,this,t)}let ed=el.prototype;function eh(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ef(e,t,r){let n;if(!t)return e;let i=r&&r.encode||eh,s=r&&r.serialize;if(n=s?s(t,r):$.isURLSearchParams(t)?t.toString():new el(t,r).toString(i)){let t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e}ed.append=function(e,t){this._pairs.push([e,t])},ed.toString=function(e){let t=e?function(t){return e.call(this,t,eu)}:eu;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};class ep{use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){$.forEach(this.handlers,function(t){null!==t&&e(t)})}constructor(){this.handlers=[]}}var em={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},eg="undefined"!=typeof URLSearchParams?URLSearchParams:el,ev="undefined"!=typeof FormData?FormData:null,eb="undefined"!=typeof Blob?Blob:null;let ey="undefined"!=typeof document,ew=(o="undefined"!=typeof navigator&&navigator.product,ey&&0>["ReactNative","NativeScript","NS"].indexOf(o)),eE="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts;var e_={...b,isBrowser:!0,classes:{URLSearchParams:eg,FormData:ev,Blob:eb},protocols:["http","https","file","blob","url","data"]},eS=function(e){if($.isFormData(e)&&$.isFunction(e.entries)){let t={};return $.forEachEntry(e,(e,r)=>{!function e(t,r,n,i){let s=t[i++];if("__proto__"===s)return!0;let o=Number.isFinite(+s),a=i>=t.length;return(s=!s&&$.isArray(n)?n.length:s,a)?$.hasOwnProp(n,s)?n[s]=[n[s],r]:n[s]=r:(n[s]&&$.isObject(n[s])||(n[s]=[]),e(t,r,n[s],i)&&$.isArray(n[s])&&(n[s]=function(e){let t,r;let n={},i=Object.keys(e),s=i.length;for(t=0;t<s;t++)n[r=i[t]]=e[r];return n}(n[s]))),!o}($.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0]),r,t,0)}),t}return null};let eA={transitional:em,adapter:["xhr","http"],transformRequest:[function(e,t){let r;let n=t.getContentType()||"",i=n.indexOf("application/json")>-1,s=$.isObject(e);if(s&&$.isHTMLForm(e)&&(e=new FormData(e)),$.isFormData(e))return i?JSON.stringify(eS(e)):e;if($.isArrayBuffer(e)||$.isBuffer(e)||$.isStream(e)||$.isFile(e)||$.isBlob(e))return e;if($.isArrayBufferView(e))return e.buffer;if($.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1){var o,a;return(o=e,a=this.formSerializer,ec(o,new e_.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,n){return e_.isNode&&$.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},a))).toString()}if((r=$.isFileList(e))||n.indexOf("multipart/form-data")>-1){let t=this.env&&this.env.FormData;return ec(r?{"files[]":e}:e,t&&new t,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),function(e,t,r){if($.isString(e))try{return(0,JSON.parse)(e),$.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){let t=this.transitional||eA.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(e&&$.isString(e)&&(r&&!this.responseType||n)){let r=t&&t.silentJSONParsing;try{return JSON.parse(e)}catch(e){if(!r&&n){if("SyntaxError"===e.name)throw ee.from(e,ee.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:e_.classes.FormData,Blob:e_.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$.forEach(["delete","get","head","post","put","patch"],e=>{eA.headers[e]={}});let eT=$.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var ex=e=>{let t,r,n;let i={};return e&&e.split("\n").forEach(function(e){n=e.indexOf(":"),t=e.substring(0,n).trim().toLowerCase(),r=e.substring(n+1).trim(),!t||i[t]&&eT[t]||("set-cookie"===t?i[t]?i[t].push(r):i[t]=[r]:i[t]=i[t]?i[t]+", "+r:r)}),i};let eI=Symbol("internals");function eR(e){return e&&String(e).trim().toLowerCase()}function eO(e){return!1===e||null==e?e:$.isArray(e)?e.map(eO):String(e)}let eP=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ek(e,t,r,n,i){if($.isFunction(n))return n.call(this,t,r);if(i&&(t=r),$.isString(t)){if($.isString(n))return -1!==t.indexOf(n);if($.isRegExp(n))return n.test(t)}}class eN{set(e,t,r){let n=this;function i(e,t,r){let i=eR(t);if(!i)throw Error("header name must be a non-empty string");let s=$.findKey(n,i);s&&void 0!==n[s]&&!0!==r&&(void 0!==r||!1===n[s])||(n[s||t]=eO(e))}let s=(e,t)=>$.forEach(e,(e,r)=>i(e,r,t));return $.isPlainObject(e)||e instanceof this.constructor?s(e,t):$.isString(e)&&(e=e.trim())&&!eP(e)?s(ex(e),t):null!=e&&i(t,e,r),this}get(e,t){if(e=eR(e)){let r=$.findKey(this,e);if(r){let e=this[r];if(!t)return e;if(!0===t)return function(e){let t;let r=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;for(;t=n.exec(e);)r[t[1]]=t[2];return r}(e);if($.isFunction(t))return t.call(this,e,r);if($.isRegExp(t))return t.exec(e);throw TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=eR(e)){let r=$.findKey(this,e);return!!(r&&void 0!==this[r]&&(!t||ek(this,this[r],r,t)))}return!1}delete(e,t){let r=this,n=!1;function i(e){if(e=eR(e)){let i=$.findKey(r,e);i&&(!t||ek(r,r[i],i,t))&&(delete r[i],n=!0)}}return $.isArray(e)?e.forEach(i):i(e),n}clear(e){let t=Object.keys(this),r=t.length,n=!1;for(;r--;){let i=t[r];(!e||ek(this,this[i],i,e,!0))&&(delete this[i],n=!0)}return n}normalize(e){let t=this,r={};return $.forEach(this,(n,i)=>{let s=$.findKey(r,i);if(s){t[s]=eO(n),delete t[i];return}let o=e?i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r):String(i).trim();o!==i&&delete t[i],t[o]=eO(n),r[o]=!0}),this}concat(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.constructor.concat(this,...t)}toJSON(e){let t=Object.create(null);return $.forEach(this,(r,n)=>{null!=r&&!1!==r&&(t[n]=e&&$.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,r]=e;return t+": "+r}).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];let i=new this(e);return r.forEach(e=>i.set(e)),i}static accessor(e){let t=(this[eI]=this[eI]={accessors:{}}).accessors,r=this.prototype;function n(e){let n=eR(e);t[n]||(!function(e,t){let r=$.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(e,r,i){return this[n].call(this,t,e,r,i)},configurable:!0})})}(r,e),t[n]=!0)}return $.isArray(e)?e.forEach(n):n(e),this}constructor(e){e&&this.set(e)}}function eC(e,t){let r=this||eA,n=t||r,i=eN.from(n.headers),s=n.data;return $.forEach(e,function(e){s=e.call(r,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function eM(e){return!!(e&&e.__CANCEL__)}function eL(e,t,r){ee.call(this,null==e?"canceled":e,ee.ERR_CANCELED,t,r),this.name="CanceledError"}eN.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),$.reduceDescriptors(eN.prototype,(e,t)=>{let{value:r}=e,n=t[0].toUpperCase()+t.slice(1);return{get:()=>r,set(e){this[n]=e}}}),$.freezeMethods(eN),$.inherits(eL,ee,{__CANCEL__:!0});var eB=e_.hasStandardBrowserEnv?{write(e,t,r,n,i,s){let o=[e+"="+encodeURIComponent(t)];$.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),$.isString(n)&&o.push("path="+n),$.isString(i)&&o.push("domain="+i),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read(e){let t=document.cookie.match(RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function eD(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e:t}var eU=e_.hasStandardBrowserEnv?function(){let e;let t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function n(e){let n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=n(window.location.href),function(t){let r=$.isString(t)?n(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0},eH=function(e,t){let r;let n=Array(e=e||10),i=Array(e),s=0,o=0;return t=void 0!==t?t:1e3,function(a){let c=Date.now(),u=i[o];r||(r=c),n[s]=a,i[s]=c;let l=o,d=0;for(;l!==s;)d+=n[l++],l%=e;if((s=(s+1)%e)===o&&(o=(o+1)%e),c-r<t)return;let h=u&&c-u;return h?Math.round(1e3*d/h):void 0}};function ej(e,t){let r=0,n=eH(50,250);return i=>{let s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-r,c=n(a);r=s;let u={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:c||void 0,estimated:c&&o&&s<=o?(o-s)/c:void 0,event:i};u[t?"download":"upload"]=!0,e(u)}}let eF={http:null,xhr:"undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(function(t,r){let n,i,s=e.data,o=eN.from(e.headers).normalize(),{responseType:a,withXSRFToken:c}=e;function u(){e.cancelToken&&e.cancelToken.unsubscribe(n),e.signal&&e.signal.removeEventListener("abort",n)}if($.isFormData(s)){if(e_.hasStandardBrowserEnv||e_.hasStandardBrowserWebWorkerEnv)o.setContentType(!1);else if(!1!==(i=o.getContentType())){let[e,...t]=i?i.split(";").map(e=>e.trim()).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...t].join("; "))}}let l=new XMLHttpRequest;if(e.auth){let t=e.auth.username||"",r=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.set("Authorization","Basic "+btoa(t+":"+r))}let d=eD(e.baseURL,e.url);function h(){if(!l)return;let n=eN.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders());!function(e,t,r){let n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new ee("Request failed with status code "+r.status,[ee.ERR_BAD_REQUEST,ee.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}(function(e){t(e),u()},function(e){r(e),u()},{data:a&&"text"!==a&&"json"!==a?l.response:l.responseText,status:l.status,statusText:l.statusText,headers:n,config:e,request:l}),l=null}if(l.open(e.method.toUpperCase(),ef(d,e.params,e.paramsSerializer),!0),l.timeout=e.timeout,"onloadend"in l?l.onloadend=h:l.onreadystatechange=function(){l&&4===l.readyState&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))&&setTimeout(h)},l.onabort=function(){l&&(r(new ee("Request aborted",ee.ECONNABORTED,e,l)),l=null)},l.onerror=function(){r(new ee("Network Error",ee.ERR_NETWORK,e,l)),l=null},l.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",n=e.transitional||em;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(new ee(t,n.clarifyTimeoutError?ee.ETIMEDOUT:ee.ECONNABORTED,e,l)),l=null},e_.hasStandardBrowserEnv&&(c&&$.isFunction(c)&&(c=c(e)),c||!1!==c&&eU(d))){let t=e.xsrfHeaderName&&e.xsrfCookieName&&eB.read(e.xsrfCookieName);t&&o.set(e.xsrfHeaderName,t)}void 0===s&&o.setContentType(null),"setRequestHeader"in l&&$.forEach(o.toJSON(),function(e,t){l.setRequestHeader(t,e)}),$.isUndefined(e.withCredentials)||(l.withCredentials=!!e.withCredentials),a&&"json"!==a&&(l.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&l.addEventListener("progress",ej(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",ej(e.onUploadProgress)),(e.cancelToken||e.signal)&&(n=t=>{l&&(r(!t||t.type?new eL(null,e,l):t),l.abort(),l=null)},e.cancelToken&&e.cancelToken.subscribe(n),e.signal&&(e.signal.aborted?n():e.signal.addEventListener("abort",n)));let f=function(e){let t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(d);if(f&&-1===e_.protocols.indexOf(f)){r(new ee("Unsupported protocol "+f+":",ee.ERR_BAD_REQUEST,e));return}l.send(s||null)})}};$.forEach(eF,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}});let eq=e=>"- ".concat(e),eG=e=>$.isFunction(e)||null===e||!1===e;var ez={getAdapter:e=>{let t,r;let{length:n}=e=$.isArray(e)?e:[e],i={};for(let s=0;s<n;s++){let n;if(r=t=e[s],!eG(t)&&void 0===(r=eF[(n=String(t)).toLowerCase()]))throw new ee("Unknown adapter '".concat(n,"'"));if(r)break;i[n||"#"+s]=r}if(!r){let e=Object.entries(i).map(e=>{let[t,r]=e;return"adapter ".concat(t," ")+(!1===r?"is not supported by the environment":"is not available in the build")});throw new ee("There is no suitable adapter to dispatch the request "+(n?e.length>1?"since :\n"+e.map(eq).join("\n"):" "+eq(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return r},adapters:eF};function eK(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new eL(null,e)}function eW(e){return eK(e),e.headers=eN.from(e.headers),e.data=eC.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),ez.getAdapter(e.adapter||eA.adapter)(e).then(function(t){return eK(e),t.data=eC.call(e,e.transformResponse,t),t.headers=eN.from(t.headers),t},function(t){return!eM(t)&&(eK(e),t&&t.response&&(t.response.data=eC.call(e,e.transformResponse,t.response),t.response.headers=eN.from(t.response.headers))),Promise.reject(t)})}let eV=e=>e instanceof eN?e.toJSON():e;function eJ(e,t){t=t||{};let r={};function n(e,t,r){return $.isPlainObject(e)&&$.isPlainObject(t)?$.merge.call({caseless:r},e,t):$.isPlainObject(t)?$.merge({},t):$.isArray(t)?t.slice():t}function i(e,t,r){return $.isUndefined(t)?$.isUndefined(e)?void 0:n(void 0,e,r):n(e,t,r)}function s(e,t){if(!$.isUndefined(t))return n(void 0,t)}function o(e,t){return $.isUndefined(t)?$.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function a(r,i,s){return s in t?n(r,i):s in e?n(void 0,r):void 0}let c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(e,t)=>i(eV(e),eV(t),!0)};return $.forEach(Object.keys(Object.assign({},e,t)),function(n){let s=c[n]||i,o=s(e[n],t[n],n);$.isUndefined(o)&&s!==a||(r[n]=o)}),r}let eZ="1.6.7",eQ={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{eQ[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});let eX={};eQ.transitional=function(e,t,r){function n(e,t){return"[Axios v"+eZ+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,i,s)=>{if(!1===e)throw new ee(n(i," has been removed"+(t?" in "+t:"")),ee.ERR_DEPRECATED);return t&&!eX[i]&&(eX[i]=!0,console.warn(n(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,i,s)}};var eY={assertOptions:function(e,t,r){if("object"!=typeof e)throw new ee("options must be an object",ee.ERR_BAD_OPTION_VALUE);let n=Object.keys(e),i=n.length;for(;i-- >0;){let s=n[i],o=t[s];if(o){let t=e[s],r=void 0===t||o(t,s,e);if(!0!==r)throw new ee("option "+s+" must be "+r,ee.ERR_BAD_OPTION_VALUE);continue}if(!0!==r)throw new ee("Unknown option "+s,ee.ERR_BAD_OPTION)}},validators:eQ};let e$=eY.validators;class e0{async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t;Error.captureStackTrace?Error.captureStackTrace(t={}):t=Error();let r=t.stack?t.stack.replace(/^.+\n/,""):"";e.stack?r&&!String(e.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+r):e.stack=r}throw e}}_request(e,t){let r,n;"string"==typeof e?(t=t||{}).url=e:t=e||{};let{transitional:i,paramsSerializer:s,headers:o}=t=eJ(this.defaults,t);void 0!==i&&eY.assertOptions(i,{silentJSONParsing:e$.transitional(e$.boolean),forcedJSONParsing:e$.transitional(e$.boolean),clarifyTimeoutError:e$.transitional(e$.boolean)},!1),null!=s&&($.isFunction(s)?t.paramsSerializer={serialize:s}:eY.assertOptions(s,{encode:e$.function,serialize:e$.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=o&&$.merge(o.common,o[t.method]);o&&$.forEach(["delete","get","head","post","put","patch","common"],e=>{delete o[e]}),t.headers=eN.concat(a,o);let c=[],u=!0;this.interceptors.request.forEach(function(e){("function"!=typeof e.runWhen||!1!==e.runWhen(t))&&(u=u&&e.synchronous,c.unshift(e.fulfilled,e.rejected))});let l=[];this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let d=0;if(!u){let e=[eW.bind(this),void 0];for(e.unshift.apply(e,c),e.push.apply(e,l),n=e.length,r=Promise.resolve(t);d<n;)r=r.then(e[d++],e[d++]);return r}n=c.length;let h=t;for(d=0;d<n;){let e=c[d++],t=c[d++];try{h=e(h)}catch(e){t.call(this,e);break}}try{r=eW.call(this,h)}catch(e){return Promise.reject(e)}for(d=0,n=l.length;d<n;)r=r.then(l[d++],l[d++]);return r}getUri(e){return ef(eD((e=eJ(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}constructor(e){this.defaults=e,this.interceptors={request:new ep,response:new ep}}}$.forEach(["delete","get","head","options"],function(e){e0.prototype[e]=function(t,r){return this.request(eJ(r||{},{method:e,url:t,data:(r||{}).data}))}}),$.forEach(["post","put","patch"],function(e){function t(t){return function(r,n,i){return this.request(eJ(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}e0.prototype[e]=t(),e0.prototype[e+"Form"]=t(!0)});class e1{throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new e1(function(t){e=t}),cancel:e}}constructor(e){let t;if("function"!=typeof e)throw TypeError("executor must be a function.");this.promise=new Promise(function(e){t=e});let r=this;this.promise.then(e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null}),this.promise.then=e=>{let t;let n=new Promise(e=>{r.subscribe(e),t=e}).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e(function(e,n,i){r.reason||(r.reason=new eL(e,n,i),t(r.reason))})}}let e2={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(e2).forEach(e=>{let[t,r]=e;e2[r]=t});let e3=function e(t){let r=new e0(t),n=E(e0.prototype.request,r);return $.extend(n,e0.prototype,r,{allOwnKeys:!0}),$.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return e(eJ(t,r))},n}(eA);e3.Axios=e0,e3.CanceledError=eL,e3.CancelToken=e1,e3.isCancel=eM,e3.VERSION=eZ,e3.toFormData=ec,e3.AxiosError=ee,e3.Cancel=e3.CanceledError,e3.all=function(e){return Promise.all(e)},e3.spread=function(e){return function(t){return e.apply(null,t)}},e3.isAxiosError=function(e){return $.isObject(e)&&!0===e.isAxiosError},e3.mergeConfig=eJ,e3.AxiosHeaders=eN,e3.formToJSON=e=>eS($.isHTMLForm(e)?new FormData(e):e),e3.getAdapter=ez.getAdapter,e3.HttpStatusCode=e2,e3.default=e3;var e4=r(99980);(h||(h={})).TEXT="m.text";class e6{static from(e){if(e9(e))return new e6(e.content.msgtype,e.sender,e.content.body,e.origin_server_ts)}constructor(e,t,r,n){this.type=e,this.sender=t,this.content=r,this.timestamp=n}}let e8=e=>"m.room.create"===e.type&&e.content instanceof Object&&"creator"in e.content,e5=e=>"m.room.member"===e.type&&e.content instanceof Object&&"membership"in e.content&&"join"===e.content.membership,e7=e=>"m.room.message"===e.type,e9=e=>e7(e)&&e.content instanceof Object&&"msgtype"in e.content&&e.content.msgtype===h.TEXT;(a=f||(f={}))[a.UNKNOWN=0]="UNKNOWN",a[a.JOINED=1]="JOINED",a[a.INVITED=2]="INVITED",a[a.LEFT=3]="LEFT";class te{static fromSync(e){var t,r,n;if(!e)return[];function i(e,t){return Object.entries(e).map(e=>{let[r,n]=e;return t(r,n)})}return[...i(null!==(t=e.join)&&void 0!==t?t:{},te.fromJoined),...i(null!==(r=e.invite)&&void 0!==r?r:{},te.fromInvited),...i(null!==(n=e.leave)&&void 0!==n?n:{},te.fromLeft)]}static from(e,t){return"string"==typeof e?new te(e,t||f.UNKNOWN):void 0!==t?new te(e.id,t,e.members,e.messages):e}static merge(e,t){return t&&t.id===e.id?new te(e.id,e.status,[...t.members,...e.members].filter((e,t,r)=>r.indexOf(e)===t),[...t.messages,...e.messages]):te.from(e)}static fromJoined(e,t){let r=[...t.state.events,...t.timeline.events],n=te.getMembersFromEvents(r),i=te.getMessagesFromEvents(r);return new te(e,f.JOINED,n,i)}static fromInvited(e,t){let r=te.getMembersFromEvents(t.invite_state.events);return new te(e,f.INVITED,r)}static fromLeft(e,t){let r=[...t.state.events,...t.timeline.events],n=te.getMembersFromEvents(r),i=te.getMessagesFromEvents(r);return new te(e,f.LEFT,n,i)}static getMembersFromEvents(e){return te.getUniqueEvents(e.filter(e=>e8(e)||e5(e))).map(e=>e.sender).filter((e,t,r)=>r.indexOf(e)===t)}static getMessagesFromEvents(e){return te.getUniqueEvents(e.filter(e7)).map(e=>e6.from(e)).filter(Boolean)}static getUniqueEvents(e){let t={},r=[];return e.forEach((e,n)=>{let i=e.event_id;void 0!==i&&i in t||(void 0!==i&&(t[i]=n),r.push(e))}),r}constructor(e,t=f.UNKNOWN,r=[],n=[]){this.id=e,this.status=t,this.members=r,this.messages=n}}var tt=r(1937);let tr=["syncToken","rooms"];class tn{get(e){return this.state[e]}getRoom(e){let t=te.from(e,f.UNKNOWN);return this.state.rooms[t.id]||t}async update(e){await this.waitReady();let t=Object.assign({},this.state);this.setState(e),this.updateStorage(e),this.notifyListeners(t,this.state,e)}onStateChanged(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];r.length>0?r.forEach(t=>{this.onStateChangedListeners.set(t,e)}):this.onStateChangedListeners.set("all",e)}async waitReady(){return this.waitReadyPromise}async initFromStorage(){let e=await this.storage.get(tt.Qt.MATRIX_PRESERVED_STATE);this.setState(e)}prepareData(e){let t=["rooms"].some(t=>void 0!==e[t])?JSON.parse(JSON.stringify(e)):e;return Object.values(t.rooms||{}).forEach(e=>{e.messages=[]}),t}updateStorage(e){if(Object.entries(e).filter(e=>{let[t,r]=e;return tr.includes(t)&&!!r}).length>0){let e={};tr.forEach(t=>{e[t]=this.state[t]}),this.storage.set(tt.Qt.MATRIX_PRESERVED_STATE,this.prepareData(e))}}setState(e){this.state={isRunning:e.isRunning||this.state.isRunning,userId:e.userId||this.state.userId,deviceId:e.deviceId||this.state.deviceId,txnNo:e.txnNo||this.state.txnNo,accessToken:e.accessToken||this.state.accessToken,syncToken:e.syncToken||this.state.syncToken,pollingTimeout:e.pollingTimeout||this.state.pollingTimeout,pollingRetries:e.pollingRetries||this.state.pollingRetries,rooms:this.mergeRooms(this.state.rooms,e.rooms)}}mergeRooms(e,t){if(!t)return e;let r=Array.isArray(t)?t:Object.values(t),n=Object.assign({},e);return r.forEach(t=>{n[t.id]=te.merge(t,e[t.id])}),n}notifyListeners(e,t,r){let n=this.onStateChangedListeners.get("all");n&&n(e,t,r),(0,e4.XP)(r).filter(e=>void 0!==r[e]).forEach(n=>{let i=this.onStateChangedListeners.get(n);i&&i(e,t,r)})}constructor(e){this.state={isRunning:!1,userId:void 0,deviceId:void 0,txnNo:0,accessToken:void 0,syncToken:void 0,pollingTimeout:void 0,pollingRetries:0,rooms:{}},this.onStateChangedListeners=new Map,this.storage=e,this.waitReadyPromise=new Promise(async(e,t)=>{try{await this.initFromStorage(),e()}catch(e){t(e)}})}}let ti=new y.Yd("MatrixHttpClient");class ts{async get(e,t,r){return this.send("GET",e,r,t)}async post(e,t,r,n){return this.send("POST",e,r,n,t)}async put(e,t,r,n){return this.send("PUT",e,r,n,t)}async cancelAllRequests(){return this.cancelTokenSource.cancel("Manually cancelled")}async send(e,t,r,n,i){let s;let o=r?this.getHeaders(r):void 0,a=n?this.getParams(n):void 0;try{s=await e3.request({method:e,url:t,baseURL:this.apiUrl("/_matrix/client/r0"),headers:o,data:i,params:a,cancelToken:this.cancelTokenSource.token})}catch(e){throw ti.error("send",e.code,e.message,e.response.data),e.response.data}return s.data}getHeaders(e){let t={},r=[];if(e.accessToken&&r.push(["Authorization","Bearer ".concat(e.accessToken)]),0!==r.length){for(let[e,n]of r)t[e]=n;return t}}getParams(e){if(!e)return;let t=Object.assign(e,{});return(0,e4.XP)(t).forEach(e=>void 0===t[e]&&delete t[e]),t}apiUrl(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return[this.baseUrl.endsWith("/")?this.baseUrl.substr(0,this.baseUrl.length-1):this.baseUrl,...t.map(e=>e.startsWith("/")?e.substr(1):e)].join("/")}constructor(e){this.baseUrl=e,this.cancelTokenSource=e3.CancelToken.source()}}class to{async createRoom(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.httpClient.post("/createRoom",t,{accessToken:e})}async inviteToRoom(e,t,r){return r.status!==f.JOINED&&r.status!==f.UNKNOWN?Promise.reject("User is not a member of room ".concat(r.id,".")):this.httpClient.post("/rooms/".concat(encodeURIComponent(r.id),"/invite"),{user_id:t},{accessToken:e})}async joinRoom(e,t){return t.status===f.JOINED?Promise.resolve({room_id:t.id}):this.httpClient.post("/rooms/".concat(encodeURIComponent(t.id),"/join"),{},{accessToken:e})}async getJoinedRooms(e){return this.httpClient.get("/joined_rooms",void 0,{accessToken:e})}constructor(e){this.httpClient=e}}class ta{async login(e,t,r){return this.httpClient.post("/login",{type:"m.login.password",identifier:{type:"m.id.user",user:e},password:t,device_id:r})}constructor(e){this.httpClient=e}}class tc{async sync(e,t){return this.withCache("sync",()=>this.httpClient.get("/sync",{timeout:t?t.pollingTimeout:void 0,since:t?t.syncToken:void 0},{accessToken:e}))}async sendMessage(e,t,r,n){return new Promise((i,s)=>this.scheduleEvent({accessToken:e,roomId:t,type:"m.room.message",content:r,txnId:n,onSuccess:i,onError:s}))}scheduleEvent(e){this.sendEvent(e)}async sendEvent(e){let{roomId:t,type:r,txnId:n,content:i,accessToken:s}=e;try{let o=await this.httpClient.put("/rooms/".concat(encodeURIComponent(t),"/send/").concat(r,"/").concat(encodeURIComponent(n)),i,{accessToken:s});e.onSuccess(o)}catch(t){e.onError(t)}}withCache(e,t){let r=this.cachedPromises.get(e);return r||(r=t().finally(()=>{this.cachedPromises.delete(e)}),this.cachedPromises.set(e,r)),r}constructor(e){this.cachedPromises=new Map,this.httpClient=e}}class tu{on(e,t){return"object"!=typeof this.events[e]&&(this.events[e]=[]),this.events[e].push(t),()=>this.removeListener(e,t)}removeListener(e,t){if("object"!=typeof this.events[e])return;if(!t){this.events[e]=[];return}let r=this.events[e].indexOf(t);r>-1&&this.events[e].splice(r,1)}removeAllListeners(){Object.keys(this.events).forEach(e=>this.events[e].splice(0,this.events[e].length))}emit(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];"object"==typeof this.events[e]&&[...this.events[e]].forEach(e=>e.apply(this,r))}once(e,t){var r=this;let n=this.on(e,function(){for(var e=arguments.length,i=Array(e),s=0;s<e;s++)i[s]=arguments[s];n(),t.apply(r,i)});return n}constructor(){this.events={}}}(c=p||(p={})).INVITE="invite",c.MESSAGE="message";class tl extends tu{onStateChanged(e,t,r){for(let e of(0,e4.XP)(p))this.emitIfEvent(p[e],r)}emitIfEvent(e,t){let r=this.eventEmitProviders.get(e);if(r){let[n,i]=r();n(t)&&i(e,t)}}emitClientEvent(e,t,r){this.emit(e,{type:e,content:t,timestamp:r})}isInvite(e){return!!e.rooms&&e.rooms.some(e=>e.status===f.INVITED)}emitInvite(e,t){t.rooms.filter(e=>e.status===f.INVITED).map(e=>[e.id,e.members]).forEach(t=>{let[r,n]=t;this.emitClientEvent(e,{roomId:r,members:n})})}isMessage(e){return!!e.rooms&&e.rooms.some(e=>e.messages.length>0)}emitMessage(e,t){t.rooms.filter(e=>e.messages.length>0).map(e=>e.messages.map(t=>[e.id,t,t.timestamp])).reduce((e,t)=>e.concat(t),[]).forEach(t=>{let[r,n,i]=t;this.emitClientEvent(e,{roomId:r,message:n},i)})}constructor(...e){super(...e),this.eventEmitProviders=new Map([[p.INVITE,()=>[this.isInvite,this.emitInvite.bind(this)]],[p.MESSAGE,()=>[this.isMessage,this.emitMessage.bind(this)]]])}}let td=new y.Yd("MatrixClient");class th{static create(e){let t=new tn(e.storage),r=new tl,n=new ts(e.baseUrl);return new th(t,r,new ta(n),new to(n),new tc(n),n)}get joinedRooms(){return new Promise(async e=>{await this.isConnected(),e(Object.values(this.store.get("rooms")).filter(e=>e.status===f.JOINED))})}get invitedRooms(){return new Promise(async e=>{await this.isConnected(),e(Object.values(this.store.get("rooms")).filter(e=>e.status===f.INVITED))})}get leftRooms(){return new Promise(async e=>{await this.isConnected(),e(Object.values(this.store.get("rooms")).filter(e=>e.status===f.LEFT))})}async start(e){let t=await this.userService.login(e.id,e.password,e.deviceId);await this.store.update({accessToken:t.access_token});let r=new Promise(async(e,t)=>{await this.poll(0,async t=>{this.store.get("isRunning")||e(),await this.store.update({isRunning:!0,syncToken:t.next_batch,pollingTimeout:3e4,pollingRetries:0,rooms:te.fromSync(t.rooms)})},async e=>{this.store.get("isRunning")||t(e),await this.store.update({isRunning:!1,pollingRetries:this.store.get("pollingRetries")+1})})});return r.then(()=>{this._isReady.resolve()}).catch(console.error),r}async isConnected(){return this._isReady.promise}async stop(){return td.log("MATRIX CLIENT STOPPED"),this.isActive=!1,this._isReady=new e4.$H,this.httpClient.cancelAllRequests()}subscribe(e,t){this.eventEmitter.on(e,t)}unsubscribe(e,t){t&&this.eventEmitter.removeListener(e,t)}unsubscribeAll(e){this.eventEmitter.removeListener(e)}async getRoomById(e){return await this.isConnected(),this.store.getRoom(e)}async createTrustedPrivateRoom(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return await this.isConnected(),this.requiresAuthorization("createRoom",async e=>(await this.roomService.createRoom(e,{room_version:"5",invite:t,preset:"public_chat",is_direct:!0})).room_id)}async inviteToRooms(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];await this.isConnected(),await this.requiresAuthorization("invite",t=>Promise.all(r.map(r=>{let n=this.store.getRoom(r);this.roomService.inviteToRoom(t,e,n).catch(e=>td.warn("inviteToRooms",e))})))}async joinRooms(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];await this.isConnected(),await this.requiresAuthorization("join",e=>Promise.all(t.map(t=>{let r=this.store.getRoom(t);return this.roomService.joinRoom(e,r)})))}async sendTextMessage(e,t){await this.isConnected(),await this.requiresAuthorization("send",async r=>{let n=await this.createTxnId();return this.eventService.sendMessage(r,e,{msgtype:"m.text",body:t},n)})}async poll(e,t,r){let n=this.store,i=this.sync.bind(this),s=async(o,a)=>{let c=0;try{let e=await i();t(e)}catch(e){r(e),c=n.get("pollingRetries"),this.isActive&&td.log("Retry syncing... ".concat(c," retries so far"))}finally{this.isActive?setTimeout(async()=>{await s(o,a)},c>3?5e3+e:e):a(Error("Syncing stopped manually."))}};return new Promise(s)}async sync(){return this.requiresAuthorization("sync",async e=>this.eventService.sync(e,{pollingTimeout:this.store.get("pollingTimeout"),syncToken:this.store.get("syncToken")}))}async requiresAuthorization(e,t){let r=this.store.get("accessToken");return r?t(r):Promise.reject("".concat(e," requires authorization but no access token has been provided."))}async createTxnId(){let e=new Date().getTime(),t=this.store.get("txnNo");return await this.store.update({txnNo:t+1}),"m".concat(e,".").concat(t)}constructor(e,t,r,n,i,s){this.isActive=!0,this._isReady=new e4.$H,this.store=e,this.eventEmitter=t,this.userService=r,this.roomService=n,this.eventService=i,this.httpClient=s,this.store.onStateChanged((e,t,r)=>{this.eventEmitter.onStateChanged(e,t,r)},"rooms")}}var tf=r(40106),tp=r(39798),tm=r(23663).Buffer;let tg=new y.Yd("P2PCommunicationClient"),tv={[tt.gr.EUROPE_WEST]:["beacon-node-1.diamond.papers.tech","beacon-node-1.sky.papers.tech","beacon-node-2.sky.papers.tech","beacon-node-1.hope.papers.tech","beacon-node-1.hope-2.papers.tech","beacon-node-1.hope-3.papers.tech","beacon-node-1.hope-4.papers.tech","beacon-node-1.hope-5.papers.tech"],[tt.gr.NORTH_AMERICA_EAST]:["beacon-node-1.beacon-server-1.papers.tech"],[tt.gr.NORTH_AMERICA_WEST]:["beacon-node-1.beacon-server-2.papers.tech"],[tt.gr.ASIA_EAST]:["beacon-node-1.beacon-server-3.papers.tech"],[tt.gr.AUSTRALIA]:["beacon-node-1.beacon-server-4.papers.tech"]},tb=e=>new Promise(t=>setTimeout(t,e));class ty extends y.cs{async getPairingRequestInfo(){let e=new tt.y7(await (0,e4.qs)(),this.name,await this.getPublicKey(),y.jX,(await this.getRelayServer()).server);return this.iconUrl&&(e.icon=this.iconUrl),this.appUrl&&(e.appUrl=this.appUrl),e}async getPairingResponseInfo(e){let t=new tt.X6(e.id,this.name,await this.getPublicKey(),e.version,(await this.getRelayServer()).server);return this.iconUrl&&(t.icon=this.iconUrl),this.appUrl&&(t.appUrl=this.appUrl),t}async findBestRegionAndGetServer(){if(this.selectedRegion){var e;return null===(e=this.relayServer)||void 0===e?void 0:e.promiseResult}let t=Object.keys(this.ENABLED_RELAY_SERVERS),r=[],n=new e4.$H,i=0,s=new e4.$H;t.forEach(e=>{var t,o=this;let a=null!==(t=this.ENABLED_RELAY_SERVERS[e])&&void 0!==t?t:[];if(0===a.length)return;i+=2;let c=function(){let t=!(arguments.length>0)||void 0===arguments[0]||arguments[0],a=Date.now();Promise.race([o.getBeaconInfo(l),s.promise]).then(s=>{"boolean"!=typeof s&&(r.push({time:Date.now()-a,server:l,region:e,result:s}),r.length>=i&&n.resolve(void 0),t||c(!0))})},u=Math.floor(Math.random()*a.length),l=a[u];c(!1)}),await Promise.race([n.promise,tb(1e3)]);let o=0;for(;r.length<=0;){if(o>=100)throw Error("No server responded.");await tb(50),o++}s.resolve(!0);let a=r.reduce((e,t)=>e.time<t.time?e:t);return this.selectedRegion=a.region,{server:a.server,timestamp:a.result.timestamp}}async getRelayServer(){if(this.relayServer){let e=await this.relayServer.promise;if(Date.now()-e.localTimestamp<6e4)return{server:e.server,timestamp:e.timestamp};let t=await this.getBeaconInfo(e.server);return this.relayServer.resolve({server:e.server,timestamp:t.timestamp,localTimestamp:new Date().getTime()}),{server:e.server,timestamp:t.timestamp}}this.relayServer=new e4.$H;let e=await this.storage.get(tt.Qt.MATRIX_SELECTED_NODE);if(e&&e.length>0){let t=await this.getBeaconInfo(e);return this.relayServer.resolve({server:e,timestamp:t.timestamp,localTimestamp:new Date().getTime()}),{server:e,timestamp:t.timestamp}}let t=await this.findBestRegionAndGetServer();if(!t)throw Error("No servers found");return this.storage.set(tt.Qt.MATRIX_SELECTED_NODE,t.server).catch(e=>tg.log(e)),this.relayServer.resolve({server:t.server,timestamp:t.timestamp,localTimestamp:new Date().getTime()}),{server:t.server,timestamp:t.timestamp}}async getBeaconInfo(e){return e3.get("https://".concat(e,"/_synapse/client/beacon/info")).then(e=>({region:e.data.region,known_servers:e.data.known_servers,timestamp:Math.floor(e.data.timestamp)}))}async tryJoinRooms(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;try{await (await this.client.promise).joinRooms(e)}catch(r){t<=10&&"M_FORBIDDEN"===r.errcode?(tg.log("Retrying to join...",r),setTimeout(async()=>{await this.tryJoinRooms(e,t+1)},200)):tg.log("Failed to join after ".concat(t," tries."),r)}}async start(){var e,t;tg.log("start","starting client"),tg.log("start","connecting to server");let r=await this.getRelayServer(),n=th.create({baseUrl:"https://".concat(r.server),storage:this.storage});if(this.initialListener=async e=>{this.initialEvent&&this.initialEvent.timestamp&&e&&e.timestamp?this.initialEvent.timestamp<e.timestamp&&(this.initialEvent=e):this.initialEvent=e},n.subscribe(p.MESSAGE,this.initialListener),n.subscribe(p.INVITE,async e=>{let t;1===e.content.members.length&&(t=e.content.members[0]),await this.tryJoinRooms(e.content.roomId),t&&(await this.updateRelayServer(t),await this.updatePeerRoom(t,e.content.roomId))}),!r.timestamp)throw Error("No timestamp received from relay server");let i=Math.floor(r.timestamp),s="login:".concat(Math.floor(i/300));tg.log("start","login ".concat(s,", ").concat(await this.getPublicKeyHash()," on ").concat(r.server));let o=(0,tf.hash)((0,tp.cv)(s),32),a=null!==(e=this.keyPair.secretKey)&&void 0!==e?e:this.keyPair.privateKey,c=(0,w.Xx)(a,o);try{await n.start({id:await this.getPublicKeyHash(),password:"ed:".concat((0,e4.NC)(c),":").concat(await this.getPublicKey()),deviceId:(0,e4.NC)(this.keyPair.publicKey)})}catch(e){if(tg.error("start","Could not log in, retrying"),await this.reset(),!this.selectedRegion)throw Error("No region selected.");if(this.loginCounter<=(null!==(t=this.ENABLED_RELAY_SERVERS[this.selectedRegion])&&void 0!==t?t:[]).length){this.loginCounter++,this.start();return}throw tg.error("start","Tried to log in to every known beacon node, but no login was successful."),Error("Could not connect to any beacon nodes. Try again later.")}tg.log("start","login successful, client is ready"),this.client.resolve(n)}async stop(){tg.log("stop","stopping client"),this.client.isResolved()&&await (await this.client.promise).stop().catch(e=>tg.error(e)),await this.reset()}async reset(){tg.log("reset","resetting connection"),await this.storage.delete(tt.Qt.MATRIX_PEER_ROOM_IDS).catch(e=>tg.log(e)),await this.storage.delete(tt.Qt.MATRIX_PRESERVED_STATE).catch(e=>tg.log(e)),await this.storage.delete(tt.Qt.MATRIX_SELECTED_NODE).catch(e=>tg.log(e)),this.relayServer=void 0,this.client=new e4.$H,this.initialEvent=void 0,this.initialListener=void 0}async listenForEncryptedMessage(e,t){if(this.activeListeners.has(e))return;tg.log("listenForEncryptedMessage","start listening for encrypted messages from publicKey ".concat(e));let r=await this.createCryptoBoxServer(e,this.keyPair),n=async n=>{if(this.isTextMessage(n.content)&&await this.isSender(n,e)){let i;await this.updateRelayServer(n.content.message.sender),await this.updatePeerRoom(n.content.message.sender,n.content.roomId);try{i=tm.from(n.content.message.content,"hex")}catch(e){}if(i&&i.length>=e4.Cd+e4.S6)try{let n=await (0,e4.b8)(i,r.receive);tg.log("listenForEncryptedMessage","received a message from ".concat(e),n),t(n)}catch(e){}}};this.activeListeners.set(e,n),(await this.client.promise).subscribe(p.MESSAGE,n);let i=this.initialEvent;i&&i.timestamp&&new Date().getTime()-i.timestamp<3e5?(tg.log("listenForEncryptedMessage","Handling previous event"),await n(i)):tg.log("listenForEncryptedMessage","No previous event found");let s=this.initialListener;s&&(await this.client.promise).unsubscribe(p.MESSAGE,s),this.initialListener=void 0,this.initialEvent=void 0}async unsubscribeFromEncryptedMessage(e){let t=this.activeListeners.get(e);t&&((await this.client.promise).unsubscribe(p.MESSAGE,t),this.activeListeners.delete(e))}async unsubscribeFromEncryptedMessages(){(await this.client.promise).unsubscribeAll(p.MESSAGE),this.activeListeners.clear()}async sendMessage(e,t){let r=await this.createCryptoBoxClient(t.publicKey,this.keyPair),n=await (0,e4.vx)(tm.from(t.publicKey,"hex")),i=(0,e4.yk)(n,t.relayServer),s=await this.getRelevantRoom(i);await this.waitForJoin(s);let o=await (0,e4.rk)(e,r.send);tg.log("sendMessage","sending encrypted message",t.publicKey,s,e),(await this.client.promise).sendTextMessage(s,o).catch(async e=>{if("M_FORBIDDEN"===e.errcode){tg.log("sendMessage","M_FORBIDDEN",s,e),await this.deleteRoomIdFromRooms(s);let t=await this.getRelevantRoom(i);tg.log("sendMessage","Old room deleted, new room created",t),(await this.client.promise).sendTextMessage(t,o).catch(async e=>{tg.log("sendMessage","inner error",t,e)})}else tg.log("sendMessage","unexpected error",e)})}async updatePeerRoom(e,t){tg.log("updatePeerRoom",e,t);let r=e.split(":");if(r.length<2||!r[0].startsWith("@"))throw Error("Invalid sender");let n=await this.storage.get(tt.Qt.MATRIX_PEER_ROOM_IDS),i=n[e];i===t&&tg.debug("updatePeerRoom","rooms are the same, not updating"),tg.debug("updatePeerRoom","current room",i,"new room",t),i&&i[1]&&(tg.log("updatePeerRoom",'adding room "'.concat(i[1],'" to ignored array')),this.ignoredRooms.push(i[1])),n[e]=t,await this.storage.set(tt.Qt.MATRIX_PEER_ROOM_IDS,n)}async deleteRoomIdFromRooms(e){let t=Object.entries(await this.storage.get(tt.Qt.MATRIX_PEER_ROOM_IDS)).filter(t=>t[1]!==e).reduce((e,t)=>({...e,[t[0]]:t[1]}),{});await this.storage.set(tt.Qt.MATRIX_PEER_ROOM_IDS,t),this.ignoredRooms.push(e)}async listenForChannelOpening(e){tg.debug("listenForChannelOpening"),(await this.client.promise).subscribe(p.MESSAGE,async t=>{if(this.isTextMessage(t.content)&&await this.isChannelOpenMessage(t.content)){tg.log("listenForChannelOpening","channel opening received, trying to decrypt",JSON.stringify(t)),await this.updateRelayServer(t.content.message.sender),await this.updatePeerRoom(t.content.message.sender,t.content.roomId);let r=t.content.message.content.split(":"),n=tm.from(r[r.length-1],"hex");if(n.length>=e4.Cd+e4.S6)try{let t=JSON.parse(await (0,e4.a8)(n,this.keyPair.publicKey,this.keyPair.secretKey));tg.log("listenForChannelOpening","channel opening received and decrypted",JSON.stringify(t)),e({...t,senderId:await (0,y.I2)(t.publicKey)})}catch(e){}}})}async waitForJoin(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=await (await this.client.promise).getRoomById(e);if(tg.log("waitForJoin","Currently ".concat(r.members.length," members, we need at least 2")),!(r.members.length>=2)){if(t<=200)return tg.log("Waiting for join... Try: ".concat(t)),new Promise(r=>{setTimeout(()=>{r(this.waitForJoin(e,t+1))},100*(t>50?10:1))});throw Error("No one joined after ".concat(t," tries."))}}async sendPairingResponse(e){tg.log("sendPairingResponse");let t=await (0,e4.vx)(tm.from(e.publicKey,"hex")),r=(0,e4.yk)(t,e.relayServer),n=await (await this.client.promise).createTrustedPrivateRoom(r);tg.debug("sendPairingResponse",'Connecting to room "'.concat(n,'"')),await this.updatePeerRoom(r,n),await this.waitForJoin(n),tg.debug("sendPairingResponse","Successfully joined room.");let i=void 0===e.version?await this.getPublicKey():JSON.stringify(await this.getPairingResponseInfo(e));tg.debug("sendPairingResponse","Sending pairing response",i);let s=["@channel-open",r,await this.encryptMessageAsymmetric(e.publicKey,i)].join(":");(await this.client.promise).sendTextMessage(n,s).catch(async e=>{if("M_FORBIDDEN"===e.errcode){tg.log("sendPairingResponse","M_FORBIDDEN",n,e),await this.deleteRoomIdFromRooms(n);let t=await this.getRelevantRoom(r);tg.log("sendPairingResponse","Old room deleted, new room created",t),(await this.client.promise).sendTextMessage(t,s).catch(async e=>{tg.log("sendPairingResponse","inner error",t,e)})}else tg.log("sendPairingResponse","unexpected error",e)})}isTextMessage(e){return e.message.type===h.TEXT}async updateRelayServer(e){tg.log("updateRelayServer",e);let t=e.split(":");if(t.length<2||!t[0].startsWith("@"))throw Error("Invalid sender");let r=t.shift(),n=t.join(":"),i=localStorage.getItem("beacon:communication-peers-dapp")?new y.Ou(this.storage,tt.Qt.TRANSPORT_P2P_PEERS_DAPP):new y.Ou(this.storage,tt.Qt.TRANSPORT_P2P_PEERS_WALLET),s=(await i.getPeers()).map(async e=>{"@".concat(await (0,e4.vx)(tm.from(e.publicKey,"hex")))===r&&e.relayServer!==n&&(e.relayServer=n,await i.addPeer(e))});await Promise.all(s)}async isChannelOpenMessage(e){return e.message.content.startsWith("@channel-open:@".concat(await (0,e4.vx)(tm.from(await this.getPublicKey(),"hex"))))}async isSender(e,t){return e.content.message.sender.startsWith("@".concat(await (0,e4.vx)(tm.from(t,"hex"))))}async getRelevantRoom(e){let t=await this.storage.get(tt.Qt.MATRIX_PEER_ROOM_IDS),r=t[e];if(!r){tg.log("getRelevantRoom","No room found for peer ".concat(e,", checking joined ones."));let n=await this.getRelevantJoinedRoom(e);r=n.id,t[e]=n.id,await this.storage.set(tt.Qt.MATRIX_PEER_ROOM_IDS,t)}return tg.log("getRelevantRoom","Using room ".concat(r)),r}async getRelevantJoinedRoom(e){let t;let r=await (await this.client.promise).joinedRooms;tg.log("checking joined rooms",r,e);let n=r.filter(e=>!this.ignoredRooms.some(t=>e.id===t)).filter(t=>t.members.some(t=>t===e));if(0===n.length||this.ignoredRooms.length>0){tg.log("getRelevantJoinedRoom","no relevant rooms found, creating new one");let r=await (await this.client.promise).createTrustedPrivateRoom(e);t=await (await this.client.promise).getRoomById(r),tg.log("getRelevantJoinedRoom","waiting for other party to join room: ".concat(t.id)),await this.waitForJoin(r),tg.log("getRelevantJoinedRoom","new room created and peer invited: ".concat(t.id))}else t=n[0],tg.log("getRelevantJoinedRoom","channel already open, reusing room ".concat(t.id));return t}constructor(e,t,r,n,i,s,o){super(t),this.client=new e4.$H,this.activeListeners=new Map,this.ignoredRooms=[],this.loginCounter=0,this.name=e,this.replicationCount=r,this.storage=n,this.iconUrl=s,this.appUrl=o,tg.log("constructor","P2PCommunicationClient created"),this.ENABLED_RELAY_SERVERS=tv,i&&(this.ENABLED_RELAY_SERVERS={...tv,...i})}}let tw=new y.Yd("P2PTransport");class tE extends y.J7{static async isAvailable(){return Promise.resolve(!0)}async connect(){if(this._isConnected!==tt.ki.NOT_CONNECTED)return;tw.log("connect"),this._isConnected=tt.ki.CONNECTING,await this.client.start();let e=await this.getPeers();return e.length>0&&(tw.log("connect","connecting to ".concat(e.length," peers")),Promise.all(e.map(async e=>this.listen(e.publicKey))).catch(e=>tw.error("connect",e))),await this.startOpenChannelListener(),super.connect()}async disconnect(){return await this.client.stop(),super.disconnect()}async startOpenChannelListener(){}async getPairingRequestInfo(){return this.client.getPairingRequestInfo()}async listen(e){await this.client.listenForEncryptedMessage(e,t=>{let r={origin:tt.aP.P2P,id:e};this.notifyListeners(t,r).catch(e=>{throw e})}).catch(e=>{throw e})}constructor(e,t,r,n,i,s,o){super(e,new ty(e,t,1,r,n,s,o),new y.Ou(r,i)),this.type=tt.Fl.P2P}}var t_=r(97378),tS=r(3248),tA=r(78110);let tT=e=>e.length>=12?"".concat(e.substr(0,5),"...").concat(e.substr(-5)):e,tx=new y.Yd("BeaconEvents");(u=m||(m={})).PERMISSION_REQUEST_SENT="PERMISSION_REQUEST_SENT",u.PERMISSION_REQUEST_SUCCESS="PERMISSION_REQUEST_SUCCESS",u.PERMISSION_REQUEST_ERROR="PERMISSION_REQUEST_ERROR",u.PROOF_OF_EVENT_CHALLENGE_REQUEST_SENT="PROOF_OF_EVENT_CHALLENGE_REQUEST_SENT",u.PROOF_OF_EVENT_CHALLENGE_REQUEST_SUCCESS="PROOF_OF_EVENT_CHALLENGE_REQUEST_SUCCESS",u.PROOF_OF_EVENT_CHALLENGE_REQUEST_ERROR="PROOF_OF_EVENT_CHALLENGE_REQUEST_ERROR",u.OPERATION_REQUEST_SENT="OPERATION_REQUEST_SENT",u.OPERATION_REQUEST_SUCCESS="OPERATION_REQUEST_SUCCESS",u.OPERATION_REQUEST_ERROR="OPERATION_REQUEST_ERROR",u.SIGN_REQUEST_SENT="SIGN_REQUEST_SENT",u.SIGN_REQUEST_SUCCESS="SIGN_REQUEST_SUCCESS",u.SIGN_REQUEST_ERROR="SIGN_REQUEST_ERROR",u.BROADCAST_REQUEST_SENT="BROADCAST_REQUEST_SENT",u.BROADCAST_REQUEST_SUCCESS="BROADCAST_REQUEST_SUCCESS",u.BROADCAST_REQUEST_ERROR="BROADCAST_REQUEST_ERROR",u.ACKNOWLEDGE_RECEIVED="ACKNOWLEDGE_RECEIVED",u.LOCAL_RATE_LIMIT_REACHED="LOCAL_RATE_LIMIT_REACHED",u.NO_PERMISSIONS="NO_PERMISSIONS",u.ACTIVE_ACCOUNT_SET="ACTIVE_ACCOUNT_SET",u.ACTIVE_TRANSPORT_SET="ACTIVE_TRANSPORT_SET",u.SHOW_PREPARE="SHOW_PREPARE",u.HIDE_UI="HIDE_UI",u.INVALID_ACTIVE_ACCOUNT_STATE="INVALID_ACTIVE_ACCOUNT_STATE",u.PAIR_INIT="PAIR_INIT",u.PAIR_SUCCESS="PAIR_SUCCESS",u.CHANNEL_CLOSED="CHANNEL_CLOSED",u.INTERNAL_ERROR="INTERNAL_ERROR",u.UNKNOWN="UNKNOWN";let tI=async e=>{let t;let r=[];if(e.walletInfo.deeplink&&("web"===e.walletInfo.type||"mobile"===e.walletInfo.type&&(0,tS.tq)(window)||"desktop"===e.walletInfo.type&&!(0,tS.tq)(window))){let r=e.walletInfo.deeplink;t=async()=>{let e=document.createElement("a");e.setAttribute("rel","noopener"),e.setAttribute("href",r),e.setAttribute("target","_blank"),e.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}))}}r.push({text:"No answer from your wallet received yet. Please make sure the wallet is open.",isBold:!0}),r.push({text:"Wallet not receiving request?",actionText:"Reset Connection",actionCallback:async()=>{await (0,tS.yg)();let t=e.extraInfo.resetCallback;t&&(tx.log("showSentToast","resetCallback invoked"),await t())}}),(0,tS.eS)({body:"Request sent to\xa0 {{wallet}}",walletInfo:e.walletInfo,state:"loading",actions:r,openWalletAction:t}).catch(e=>console.error(e))},tR=async e=>{(0,tS.eS)({body:"Awaiting confirmation in\xa0 {{wallet}}",state:"acknowledge",walletInfo:e.walletInfo}).catch(e=>console.error(e))},tO=async e=>{let t=e.walletInfo?"Preparing Request for\xa0 {{wallet}}...":"Preparing Request...";(0,tS.eS)({body:t,state:"prepare",walletInfo:e.walletInfo}).catch(e=>console.error(e))},tP=async e=>{e?(e.includes("alert")&&await (0,tS.ys)(),e.includes("toast")&&await (0,tS.yg)()):await (0,tS.yg)()},tk=async()=>{await (0,tS.qR)({title:"No Permission",body:"Please allow the wallet to handle this type of request."})},tN=async()=>{await (0,tS.qR)({title:"Invalid state",body:"No subscription found for the received active account."})},tC=async(e,t)=>{let r=e.errorResponse.errorType?y.o8.getError(e.errorResponse.errorType,e.errorResponse.errorData):new y.hh,n=[{text:r.title,isBold:!0}];if(e.errorResponse.errorType===tt.$l.TRANSACTION_INVALID_ERROR&&e.errorResponse.errorData){var i,s,o,a,c,u;let l=e.errorResponse.errorData,d=e.errorMessages,h=!1;if((null===(i=l[0])||void 0===i?void 0:i.contract_handle)&&d&&(null==d?void 0:d[l[0].contract_handle])){let e=null!==(u=null===(o=l[1])||void 0===o?void 0:null===(s=o.with)||void 0===s?void 0:s.int)&&void 0!==u?u:null===(c=l[1])||void 0===c?void 0:null===(a=c.with)||void 0===a?void 0:a.string,t=null==d?void 0:d[l[0].contract_handle];e&&(null==t?void 0:t[e])&&(n.push({text:null==t?void 0:t[e],isBold:!0}),h=!0)}h||n.push({text:r.description}),n.push({text:"",actionText:"Show Details",actionCallback:async()=>{await (0,tS.yg)(),await (0,tS.qR)({title:r.title,body:r.fullDescription.description,data:r.fullDescription.data,buttons:t})}})}await (0,tS.eS)({body:"{{wallet}}\xa0 has returned an error",timer:e.errorResponse.errorType===tt.$l.ABORTED_ERROR?5e3:void 0,state:"finished",walletInfo:e.walletInfo,actions:n})},tM=async()=>{(0,tS.qR)({title:"Error",body:"Rate limit reached. Please slow down",buttons:[{text:"Done",style:"outline"}],timer:3e3}).catch(e=>console.error(e))},tL=async()=>{await (0,tS.ys)()},tB=async()=>{await (0,tS.qR)({title:"Channel closed",body:"Your peer has closed the connection.",buttons:[{text:"Done",style:"outline"}],timer:1500})},tD=async e=>{var t;let r=[...null!==(t=e.buttons)&&void 0!==t?t:[]];r.push({text:"Done",style:"outline"});let n={title:"Internal Error",body:e.text,buttons:r};await (0,tS.qR)(n)},tU=async e=>{tx.log("showPairAlert");let t={title:"Choose your preferred wallet",body:"<p></p>",pairingPayload:{p2pSyncCode:e.p2pPeerInfo,walletConnectSyncCode:e.walletConnectPeerInfo,postmessageSyncCode:e.postmessagePeerInfo,networkType:e.networkType},closeButtonCallback:e.abortedHandler,disclaimerText:e.disclaimerText,analytics:e.analytics,featuredWallets:e.featuredWallets};await (0,tS.qR)(t)},tH=async e=>{let{output:t}=e;await (0,tS.eS)({body:"{{wallet}}\xa0 has granted permission",timer:5e3,walletInfo:e.walletInfo,state:"finished",actions:[{text:"Address",actionText:tT(t.address),isBold:!0},{text:"Network",actionText:"".concat(t.network.type)},{text:"Permissions",actionText:t.scopes.join(", ")}]})},tj=async e=>{let{output:t}=e;await (0,tS.eS)({body:"{{wallet}}\xa0 has ".concat(t.isAccepted?"accepted":"refused"," the challenge"),timer:5e3,walletInfo:e.walletInfo,state:"finished",actions:[{text:"Challenge Id",actionText:t.dAppChallengeId}]})},tF=async e=>{let{account:t,output:r,blockExplorer:n}=e;await (0,tS.eS)({body:"{{wallet}}\xa0 successfully submitted operation",timer:5e3,state:"finished",walletInfo:e.walletInfo,actions:[{text:tT(r.transactionHash),isBold:!0,actionText:"Open Blockexplorer",actionLogo:"external",actionCallback:async()=>{let e=await n.getTransactionLink(r.transactionHash,t.network);window.open(e,"_blank","noopener"),await (0,tS.yg)()}}]})},tq=async e=>{let t=e.output;await (0,tS.eS)({body:"{{wallet}}\xa0 successfully signed payload",timer:5e3,state:"finished",walletInfo:e.walletInfo,actions:[{text:"Signature: ".concat(tT(t.signature)),actionText:"Copy to clipboard",actionCallback:async()=>{navigator.clipboard.writeText(t.signature).then(()=>{tx.log("showSignSuccessAlert","Copying to clipboard was successful!")},e=>{tx.error("showSignSuccessAlert","Could not copy text to clipboard: ",e)}),await (0,tS.yg)()}}]})},tG=async e=>{let{network:t,output:r,blockExplorer:n}=e;await (0,tS.eS)({body:"{{wallet}}\xa0 successfully injected operation",timer:5e3,state:"finished",walletInfo:e.walletInfo,actions:[{text:tT(r.transactionHash),isBold:!0,actionText:"Open Blockexplorer",actionLogo:"external",actionCallback:async()=>{let e=await n.getTransactionLink(r.transactionHash,t);window.open(e,"_blank","noopener"),await (0,tS.yg)()}}]})},tz=()=>async()=>{},tK={[m.PERMISSION_REQUEST_SENT]:tI,[m.PERMISSION_REQUEST_SUCCESS]:tH,[m.PERMISSION_REQUEST_ERROR]:tC,[m.PROOF_OF_EVENT_CHALLENGE_REQUEST_SENT]:tI,[m.PROOF_OF_EVENT_CHALLENGE_REQUEST_SUCCESS]:tj,[m.PROOF_OF_EVENT_CHALLENGE_REQUEST_ERROR]:tC,[m.OPERATION_REQUEST_SENT]:tI,[m.OPERATION_REQUEST_SUCCESS]:tF,[m.OPERATION_REQUEST_ERROR]:tC,[m.SIGN_REQUEST_SENT]:tI,[m.SIGN_REQUEST_SUCCESS]:tq,[m.SIGN_REQUEST_ERROR]:tC,[m.BROADCAST_REQUEST_SENT]:tI,[m.BROADCAST_REQUEST_SUCCESS]:tG,[m.BROADCAST_REQUEST_ERROR]:tC,[m.ACKNOWLEDGE_RECEIVED]:tR,[m.LOCAL_RATE_LIMIT_REACHED]:tM,[m.NO_PERMISSIONS]:tk,[m.ACTIVE_ACCOUNT_SET]:tz(),[m.ACTIVE_TRANSPORT_SET]:tz(),[m.INVALID_ACTIVE_ACCOUNT_STATE]:tN,[m.SHOW_PREPARE]:tO,[m.HIDE_UI]:tP,[m.PAIR_INIT]:tU,[m.PAIR_SUCCESS]:tL,[m.CHANNEL_CLOSED]:tB,[m.INTERNAL_ERROR]:tD,[m.UNKNOWN]:tz()};class tW{async on(e,t){let r=this.callbackMap[e]||[];r.push(t),this.callbackMap[e]=r}async emit(e,t,r){let n=this.callbackMap[e];n&&n.length>0&&n.forEach(async n=>{try{await n(t,r)}catch(t){tx.error("error handling event ".concat(e),t)}})}overrideDefaults(e){Object.keys(e).forEach(t=>{let r=e[t];r&&(this.callbackMap[t]=[r.handler])})}setAllHandlers(e){Object.keys(this.callbackMap).forEach(t=>{this.callbackMap[t]=[],e?this.callbackMap[t].push(e):this.callbackMap[t].push(function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];tx.log(t,...r)})})}constructor(e={},t){this.callbackMap={[m.PERMISSION_REQUEST_SENT]:[tK.PERMISSION_REQUEST_SENT],[m.PERMISSION_REQUEST_SUCCESS]:[tK.PERMISSION_REQUEST_SUCCESS],[m.PERMISSION_REQUEST_ERROR]:[tK.PERMISSION_REQUEST_ERROR],[m.PROOF_OF_EVENT_CHALLENGE_REQUEST_SENT]:[tK.PERMISSION_REQUEST_SENT],[m.PROOF_OF_EVENT_CHALLENGE_REQUEST_SUCCESS]:[tK.PROOF_OF_EVENT_CHALLENGE_REQUEST_SUCCESS],[m.PROOF_OF_EVENT_CHALLENGE_REQUEST_ERROR]:[tK.PROOF_OF_EVENT_CHALLENGE_REQUEST_ERROR],[m.OPERATION_REQUEST_SENT]:[tK.OPERATION_REQUEST_SENT],[m.OPERATION_REQUEST_SUCCESS]:[tK.OPERATION_REQUEST_SUCCESS],[m.OPERATION_REQUEST_ERROR]:[tK.OPERATION_REQUEST_ERROR],[m.SIGN_REQUEST_SENT]:[tK.SIGN_REQUEST_SENT],[m.SIGN_REQUEST_SUCCESS]:[tK.SIGN_REQUEST_SUCCESS],[m.SIGN_REQUEST_ERROR]:[tK.SIGN_REQUEST_ERROR],[m.BROADCAST_REQUEST_SENT]:[tK.BROADCAST_REQUEST_SENT],[m.BROADCAST_REQUEST_SUCCESS]:[tK.BROADCAST_REQUEST_SUCCESS],[m.BROADCAST_REQUEST_ERROR]:[tK.BROADCAST_REQUEST_ERROR],[m.ACKNOWLEDGE_RECEIVED]:[tK.ACKNOWLEDGE_RECEIVED],[m.LOCAL_RATE_LIMIT_REACHED]:[tK.LOCAL_RATE_LIMIT_REACHED],[m.NO_PERMISSIONS]:[tK.NO_PERMISSIONS],[m.ACTIVE_ACCOUNT_SET]:[tK.ACTIVE_ACCOUNT_SET],[m.ACTIVE_TRANSPORT_SET]:[tK.ACTIVE_TRANSPORT_SET],[m.INVALID_ACTIVE_ACCOUNT_STATE]:[tK.INVALID_ACTIVE_ACCOUNT_STATE],[m.SHOW_PREPARE]:[tK.SHOW_PREPARE],[m.HIDE_UI]:[tK.HIDE_UI],[m.PAIR_INIT]:[tK.PAIR_INIT],[m.PAIR_SUCCESS]:[tK.PAIR_SUCCESS],[m.CHANNEL_CLOSED]:[tK.CHANNEL_CLOSED],[m.INTERNAL_ERROR]:[tK.INTERNAL_ERROR],[m.UNKNOWN]:[tK.UNKNOWN]},t&&this.setAllHandlers(),this.overrideDefaults(e)}}let tV={[tt.e3.BlockchainRequest]:{sent:m.UNKNOWN,success:m.UNKNOWN,error:m.UNKNOWN},[tt.e3.BlockchainResponse]:{sent:m.UNKNOWN,success:m.UNKNOWN,error:m.UNKNOWN},[tt.e3.PermissionRequest]:{sent:m.PERMISSION_REQUEST_SENT,success:m.PERMISSION_REQUEST_SUCCESS,error:m.PERMISSION_REQUEST_ERROR},[tt.e3.PermissionResponse]:{sent:m.UNKNOWN,success:m.UNKNOWN,error:m.UNKNOWN},[tt.e3.ProofOfEventChallengeRequest]:{sent:m.PROOF_OF_EVENT_CHALLENGE_REQUEST_SENT,success:m.PROOF_OF_EVENT_CHALLENGE_REQUEST_SUCCESS,error:m.PROOF_OF_EVENT_CHALLENGE_REQUEST_ERROR},[tt.e3.ProofOfEventChallengeResponse]:{sent:m.UNKNOWN,success:m.UNKNOWN,error:m.UNKNOWN},[tt.e3.ProofOfEventChallengeRecorded]:{sent:m.UNKNOWN,success:m.UNKNOWN,error:m.UNKNOWN},[tt.e3.OperationRequest]:{sent:m.OPERATION_REQUEST_SENT,success:m.OPERATION_REQUEST_SUCCESS,error:m.OPERATION_REQUEST_ERROR},[tt.e3.OperationResponse]:{sent:m.UNKNOWN,success:m.UNKNOWN,error:m.UNKNOWN},[tt.e3.SignPayloadRequest]:{sent:m.SIGN_REQUEST_SENT,success:m.SIGN_REQUEST_SUCCESS,error:m.SIGN_REQUEST_ERROR},[tt.e3.SignPayloadResponse]:{sent:m.UNKNOWN,success:m.UNKNOWN,error:m.UNKNOWN},[tt.e3.BroadcastRequest]:{sent:m.BROADCAST_REQUEST_SENT,success:m.BROADCAST_REQUEST_SUCCESS,error:m.BROADCAST_REQUEST_ERROR},[tt.e3.BroadcastResponse]:{sent:m.UNKNOWN,success:m.UNKNOWN,error:m.UNKNOWN},[tt.e3.ChangeAccountRequest]:{sent:m.UNKNOWN,success:m.UNKNOWN,error:m.UNKNOWN},[tt.e3.Acknowledge]:{sent:m.UNKNOWN,success:m.UNKNOWN,error:m.UNKNOWN},[tt.e3.Disconnect]:{sent:m.UNKNOWN,success:m.UNKNOWN,error:m.UNKNOWN},[tt.e3.Error]:{sent:m.UNKNOWN,success:m.UNKNOWN,error:m.UNKNOWN}};class tJ{async getLinkForNetwork(e){return this.rpcUrls[e.type]}constructor(e){this.rpcUrls=e}}class tZ extends tJ{async getAddressLink(e,t){let r=await this.getLinkForNetwork(t);return"".concat(r,"/").concat(e)}async getTransactionLink(e,t){let r=await this.getLinkForNetwork(t);return"".concat(r,"/").concat(e)}constructor(e={[tt.td.MAINNET]:"https://tzkt.io",[tt.td.GHOSTNET]:"https://ghostnet.tzkt.io",[tt.td.WEEKLYNET]:"https://weeklynet.tzkt.io",[tt.td.DAILYNET]:"https://dailynet.tzkt.io",[tt.td.DELPHINET]:"https://delphinet.tzkt.io",[tt.td.EDONET]:"https://edonet.tzkt.io",[tt.td.FLORENCENET]:"https://florencenet.tzkt.io",[tt.td.GRANADANET]:"https://granadanet.tzkt.io",[tt.td.HANGZHOUNET]:"https://hangzhounet.tzkt.io",[tt.td.ITHACANET]:"https://ithacanet.tzkt.io",[tt.td.JAKARTANET]:"https://jakartanet.tzkt.io",[tt.td.KATHMANDUNET]:"https://kathmandunet.tzkt.io",[tt.td.LIMANET]:"https://limanet.tzkt.io",[tt.td.MUMBAINET]:"https://mumbainet.tzkt.io",[tt.td.NAIROBINET]:"https://nairobinet.tzkt.io",[tt.td.OXFORDNET]:"https://oxfordnet.tzkt.io",[tt.td.CUSTOM]:"https://oxfordnet.tzkt.io"}){super(e),this.rpcUrls=e}}let tQ=new y.Yd("DappPostMessageTransport");class tX extends t_.O{async startOpenChannelListener(){return this.client.listenForChannelOpening(async e=>{tQ.log("connect","received PostMessagePairingResponse",e),await this.addPeer(e),this._isConnected=tt.ki.CONNECTED,this.newPeerListener&&(this.newPeerListener(e),this.newPeerListener=void 0)})}async listenForNewPeer(e){tQ.log("listenForNewPeer"),this.newPeerListener=e}async stopListeningForNewPeers(){tQ.log("stopListeningForNewPeers"),this.newPeerListener=void 0}constructor(e,t,r){super(e,t,r,tt.Qt.TRANSPORT_POSTMESSAGE_PEERS_DAPP)}}let tY=new y.Yd("DappP2PTransport");class t$ extends tE{async startOpenChannelListener(){return this.client.listenForChannelOpening(async e=>{tY.log("listenForNewPeer","new publicKey",e.publicKey),await this.addPeer(e),this._isConnected=tt.ki.CONNECTED,this.newPeerListener&&(this.newPeerListener(e),this.newPeerListener=void 0)})}async listenForNewPeer(e){tY.log("listenForNewPeer"),this.newPeerListener=e}async stopListeningForNewPeers(){tY.log("stopListeningForNewPeers"),this.newPeerListener=void 0}constructor(e,t,r,n,i,s){super(e,t,r,n,tt.Qt.TRANSPORT_P2P_PEERS_DAPP,i,s)}}var t0=r(70947),t1=r(86006);class t2 extends Error{constructor(e,t,r,n){super(),this.name="InvalidReceivedSessionNamespace",this.messageWc=e,this.codeWc=t,this.data=n;let i="".concat(t,": ").concat(e,".");this.message=n?"incomplete"===r?" ".concat(i,' "').concat(n,'" is missing in the session namespace.'):" ".concat(i,' "').concat(n,'" is invalid.'):i}}class t3 extends Error{constructor(){super("Not connected, no active session"),this.name="NotConnected"}}class t4 extends Error{constructor(e){super(e),this.name="InvalidSession"}}class t6 extends Error{constructor(e){super('Required permission scope were not granted for "'.concat(e,'"')),this.name="MissingRequiredScope",this.requiredScopes=e}}class t8 extends Error{constructor(){super('Please specify the active network using the "setActiveNetwork" method.'),this.name="ActiveNetworkUnspecified"}}class t5 extends Error{constructor(){super('Please specify the active account using the "setActiveAccount" method.'),this.name="ActiveAccountUnspecified"}}class t7 extends Error{constructor(e,t){super('No permission. The combinaison "'.concat(e,'" and "').concat(t,'" is not part of the active session.')),this.name="InvalidNetworkOrAccount",this.network=e,this.pkh=t}}let t9="tezos",re=new y.Yd("WalletConnectCommunicationClient");(l=g||(g={})).GET_ACCOUNTS="tezos_getAccounts",l.OPERATION_REQUEST="tezos_send",l.SIGN="tezos_sign",(d=v||(v={})).CHAIN_CHANGED="chainChanged",d.ACCOUNTS_CHANGED="accountsChanged",d.REQUEST_ACKNOWLEDGED="requestAcknowledged";class rt extends y.cs{static getInstance(e){return rt.instance||(rt.instance=new rt(e)),rt.instance}async listenForEncryptedMessage(e,t){if(this.activeListeners.has(e))return;let r=async e=>{t(e)};this.activeListeners.set(e,r)}async listenForChannelOpening(e){let t=async t=>{e(t)};this.channelOpeningListeners.set("channelOpening",t)}async unsubscribeFromEncryptedMessages(){}async unsubscribeFromEncryptedMessage(e){}checkWalletReadiness(e){var t;null===(t=this.signClient)||void 0===t||t.core.pairing.ping({topic:e}).then(()=>{if(this.messageIds.length)this.acknowledgeRequest(this.messageIds[0]);else{let e=this.eventHandlers.get("WC_ACK_NOTIFICATION");e&&e("pending")}}).catch(e=>re.error(e.message))}async sendMessage(e,t){let r=new y.ei,n=await r.deserialize(e);if(n)switch(this.messageIds.unshift(n.id),n.type){case tt.e3.PermissionRequest:this.requestPermissions(n);break;case tt.e3.OperationRequest:this.sendOperations(n);break;case tt.e3.SignPayloadRequest:this.signPayload(n);break;default:return}}async fetchAccounts(e,t){return(await this.getSignClient()).request({topic:e,chainId:t,request:{method:g.GET_ACCOUNTS,params:{}}})}async notifyListenersWithPermissionResponse(e,t){var r,n,i,s,o,a;let c;if((null===(r=e.sessionProperties)||void 0===r?void 0:r.pubkey)&&(null===(n=e.sessionProperties)||void 0===n?void 0:n.algo)&&(null===(i=e.sessionProperties)||void 0===i?void 0:i.address))c=null===(s=e.sessionProperties)||void 0===s?void 0:s.pubkey,re.log('[requestPermissions]: Have pubkey in sessionProperties, skipping "get_accounts" call',e.sessionProperties);else{let r=this.getTezosNamespace(e.namespaces).accounts[0].split(":",3)[2];if(r.startsWith("edpk"))c=r;else{if(t.type!==this.wcOptions.network)throw Error("Network in permission request is not the same as preferred network!");let r=await this.fetchAccounts(e.topic,"".concat(t9,":").concat(t.type));if(!r||r.length<1)throw Error("No account shared by wallet");if(r.some(e=>!e.pubkey))throw Error("Public Key in `tezos_getAccounts` is empty!");c=null===(o=r[0])||void 0===o?void 0:o.pubkey}}if(!c)throw Error("Public Key in `tezos_getAccounts` is empty!");let u={type:tt.e3.PermissionResponse,appMetadata:{senderId:e.pairingTopic,name:e.peer.metadata.name,icon:e.peer.metadata.icons[0]},publicKey:c,network:t,scopes:[tt.UW.SIGN,tt.UW.OPERATION_REQUEST],id:null!==(a=this.messageIds.pop())&&void 0!==a?a:"",walletType:"implicit"};this.notifyListeners(e.pairingTopic,u)}async requestPermissions(e){if(re.log("#### Requesting permissions"),!this.getPermittedMethods().includes(g.GET_ACCOUNTS))throw new t6(g.GET_ACCOUNTS);if(this.activeAccount)try{await this.openSession()}catch(e){re.error(e.message);return}this.setDefaultAccountAndNetwork(),this.notifyListenersWithPermissionResponse(this.getSession(),e.network)}async signPayload(e){let t=await this.getSignClient(),r=this.getSession();if(!this.getPermittedMethods().includes(g.SIGN))throw new t6(g.SIGN);let n=this.getActiveNetwork(),i=await this.getPKH();this.validateNetworkAndAccount(n,i),this.checkWalletReadiness(r.pairingTopic),t.request({topic:r.topic,chainId:"".concat(t9,":").concat(n),request:{method:g.SIGN,params:{account:i,payload:e.payload}}}).then(t=>{let n={type:tt.e3.SignPayloadResponse,signingType:e.signingType,signature:null==t?void 0:t.signature,id:this.messageIds.pop()};this.notifyListeners(r.pairingTopic,n),this.session&&this.messageIds.length&&this.checkWalletReadiness(this.session.pairingTopic)}).catch(async()=>{let e={type:tt.e3.Error,id:this.messageIds.pop(),errorType:tt.$l.ABORTED_ERROR};this.notifyListeners(r.pairingTopic,e),this.session&&this.messageIds.length&&this.checkWalletReadiness(this.session.pairingTopic)})}async sendOperations(e){let t=await this.getSignClient(),r=this.getSession();if(!this.getPermittedMethods().includes(g.OPERATION_REQUEST))throw new t6(g.OPERATION_REQUEST);let n=this.getActiveNetwork(),i=await this.getPKH();this.validateNetworkAndAccount(n,i),this.checkWalletReadiness(r.pairingTopic),t.request({topic:r.topic,chainId:"".concat(t9,":").concat(n),request:{method:g.OPERATION_REQUEST,params:{account:i,operations:e.operationDetails}}}).then(e=>{var t,n,i,s;let o={type:tt.e3.OperationResponse,transactionHash:null!==(i=null!==(n=null!==(t=e.operationHash)&&void 0!==t?t:e.transactionHash)&&void 0!==n?n:e.hash)&&void 0!==i?i:"",id:null!==(s=this.messageIds.pop())&&void 0!==s?s:""};this.notifyListeners(r.pairingTopic,o),this.session&&this.messageIds.length&&this.checkWalletReadiness(this.session.pairingTopic)}).catch(async()=>{let e={type:tt.e3.Error,id:this.messageIds.pop(),errorType:tt.$l.ABORTED_ERROR};this.notifyListeners(r.pairingTopic,e),this.session&&this.messageIds.length&&this.checkWalletReadiness(this.session.pairingTopic)})}async init(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=await this.getSignClient();e&&await this.closePairings();let r=t.session.getAll();if(r&&r.length>0){this.session=r[0],this.setDefaultAccountAndNetwork();return}let{uri:n,topic:i}=await t.core.pairing.create();return t.core.pairing.ping({topic:i}).then(async()=>{await t.core.pairing.activate({topic:i});try{let e=await this.openSession(i),t=new tt.oO(i,e.peer.metadata.name,e.peer.publicKey,"3",i,e.peer.metadata.name);this.channelOpeningListeners.forEach(e=>{e(t)})}catch(t){re.error(t.message);let e=this.eventHandlers.get("CLOSE_ALERT");e&&e(tt.Fl.WALLETCONNECT);return}}),{uri:n,topic:i}}async close(){await this.closePairings()}subscribeToSessionEvents(e){e.on("session_event",e=>{e.params.event.name===v.REQUEST_ACKNOWLEDGED&&this.messageIds.length&&this.acknowledgeRequest(this.messageIds[0])}),e.on("session_update",t=>{this.session=e.session.get(t.topic),this.updateActiveAccount(t.params.namespaces),this.notifyListenersWithPermissionResponse(this.session,{type:this.wcOptions.network})}),e.on("session_delete",t=>{this.disconnect(e,{type:"session",topic:t.topic})}),e.on("session_expire",t=>{this.disconnect(e,{type:"session",topic:t.topic})}),e.core.pairing.events.on("pairing_delete",t=>{this.disconnect(e,{type:"pairing",topic:t.topic})}),e.core.pairing.events.on("pairing_expire",t=>{this.disconnect(e,{type:"pairing",topic:t.topic})})}async acknowledgeRequest(e){let t=this.getSession(),r={type:tt.e3.Acknowledge,id:e};this.notifyListeners(t.pairingTopic,r)}async updateActiveAccount(e){try{let r=this.getTezosNamespace(e).accounts;if(1===r.length){let e;let[n,i,s]=r[0].split(":",3),o=this.getSession();if(this.activeNetwork=i,s.startsWith("edpk"))e=s,this.activeAccount=await (0,e4.EJ)(e);else{var t;this.activeAccount=s;let r=await this.fetchAccounts(o.topic,"".concat(t9,":").concat(i));e=null==r?void 0:null===(t=r.find(e=>{let{address:t}=e;return s===t}))||void 0===t?void 0:t.pubkey}if(!e)throw Error("Public key for the new account not provided");this.notifyListeners(o.pairingTopic,{id:await (0,e4.qs)(),type:tt.e3.ChangeAccountRequest,publicKey:e,network:{type:i},scopes:[tt.UW.SIGN,tt.UW.OPERATION_REQUEST],walletType:"implicit"})}}catch(e){}}async disconnect(e,t){let r;if("session"===t.type&&(r=await this.onSessionClosed(e,t.topic)),"pairing"===t.type&&(r=await this.onPairingClosed(e,t.topic)),!this.activeAccount){let e=this.eventHandlers.get("RESET_STATE");e&&e(tt.Fl.WALLETCONNECT)}r&&(this.notifyListeners(r.pairingTopic,{id:await (0,e4.qs)(),type:tt.e3.Disconnect}),this.clearState())}async onPairingClosed(e,t){var r;let n=(null===(r=this.session)||void 0===r?void 0:r.pairingTopic)===t?this.session:e.session.getAll().find(e=>e.pairingTopic===t);if(n){try{await e.disconnect({topic:n.topic,reason:{code:-1,message:"Pairing deleted"}})}catch(e){re.warn(e)}return n}}async onSessionClosed(e,t){if(this.session&&this.session.topic===t){try{await e.core.pairing.disconnect({topic:this.session.pairingTopic})}catch(e){re.warn(e.message)}return this.session}}async getPairingRequestInfo(){let e="",t="";try{var r;let{uri:n,topic:i}=null!==(r=await this.init(!0))&&void 0!==r?r:{uri:"",topic:""};e=n,t=i}catch(e){console.warn(e.message)}return new tt.Vb(t,"WalletConnect",await (0,e4.qs)(),y.jX,await (0,e4.qs)(),e)}async closePairings(){var e;await this.closeSessions();let t=await this.getSignClient(),r=null!==(e=t.pairing.getAll())&&void 0!==e?e:[];r.length&&await Promise.allSettled(r.map(e=>t.core.pairing.disconnect({topic:e.topic}))),await this.storage.resetState()}async closeSessions(){var e;let t=await this.getSignClient(),r=null!==(e=t.session.getAll())&&void 0!==e?e:[];r.length&&await Promise.allSettled(r.map(e=>t.disconnect({topic:e.topic,reason:{code:0,message:"Force new connection"}}))),this.clearState()}async openSession(e){var t,r,n,i;let s=await this.getSignClient(),o={networks:[this.wcOptions.network],events:[],methods:[g.GET_ACCOUNTS,g.OPERATION_REQUEST,g.SIGN]},a={networks:[this.wcOptions.network],events:[v.REQUEST_ACKNOWLEDGED],methods:[]},c={requiredNamespaces:{[t9]:this.permissionScopeParamsToNamespaces(o)},optionalNamespaces:{[t9]:this.permissionScopeParamsToNamespaces(a)},pairingTopic:null!=e?e:null===(t=s.core.pairing.getPairings()[0])||void 0===t?void 0:t.topic};this.checkWalletReadiness(c.pairingTopic);let{approval:u}=await s.connect(c);try{let e=await u();(null==e?void 0:e.controller)!==(null===(r=this.session)||void 0===r?void 0:r.controller)&&(this.activeAccount&&this.closeActiveSession(this.activeAccount),this.session=void 0),this.session=null!==(n=this.session)&&void 0!==n?n:e,this.validateReceivedNamespace(o,this.session.namespaces)}catch(t){if(re.error(t.message),0===this.activeListeners.size){let e=this.eventHandlers.get("WC_ACK_NOTIFICATION");e&&e("error")}else{let t=null!=e?e:null===(i=s.core.pairing.getPairings()[0])||void 0===i?void 0:i.topic,r={type:tt.e3.Error,id:this.messageIds.pop(),errorType:tt.$l.ABORTED_ERROR};this.notifyListeners(t,r)}}if(this.session)return this.session;throw new t4("No session set.")}permissionScopeParamsToNamespaces(e){var t;return{chains:e.networks.map(e=>"".concat(t9,":").concat(e)),methods:e.methods,events:null!==(t=e.events)&&void 0!==t?t:[]}}validateReceivedNamespace(e,t){if(t[t9])this.validateMethods(e.methods,t[t9].methods),e.events&&this.validateEvents(e.events,t.tezos.events),this.validateAccounts(e.networks,t[t9].accounts);else throw this.clearState(),new t2("All namespaces must be approved",(0,t1.D6)("USER_REJECTED").code,"incomplete","tezos")}validateMethods(e,t){let r=[];if(e.forEach(e=>{t.includes(e)||r.push(e)}),r.length>0)throw this.clearState(),new t2("All methods must be approved",(0,t1.D6)("USER_REJECTED_METHODS").code,"incomplete",r)}validateEvents(e,t){let r=[];if(e.forEach(e=>{t.includes(e)||r.push(e)}),r.length>0)throw this.clearState(),new t2("All events must be approved",(0,t1.D6)("USER_REJECTED_EVENTS").code,"incomplete",r)}validateAccounts(e,t){if(0===t.length)throw this.clearState(),new t2("Accounts must not be empty",(0,t1.D6)("USER_REJECTED_CHAINS").code,"incomplete");let r=[],n=[],i=[],s=[];if(t.forEach(e=>{let t=e.split(":");3!==t.length&&n.push(e),t[0]!==t9&&s.push(e);let i=t[1];r.includes(i)||r.push(i)}),n.length>0)throw this.clearState(),new t2("Accounts must be CAIP-10 compliant",(0,t1.D6)("USER_REJECTED_CHAINS").code,"invalid",n);if(s.length>0)throw this.clearState(),new t2("Accounts must be defined in matching namespace",(0,t1.D6)("UNSUPPORTED_ACCOUNTS").code,"invalid",s);if(e.forEach(e=>{r.includes(e)||i.push(e)}),i.length>0)throw this.clearState(),new t2("All chains must have at least one account",(0,t1.D6)("USER_REJECTED_CHAINS").code,"incomplete",i)}async closeActiveSession(e){var t;try{this.validateNetworkAndAccount(this.getActiveNetwork(),e)}catch(e){re.error(e.message);return}let r=this.getSession();await (null===(t=this.signClient)||void 0===t?void 0:t.disconnect({topic:r.topic,reason:{code:0,message:"Force new connection"}}))}validateNetworkAndAccount(e,t){if(!this.getTezosNamespace().accounts.includes("".concat(t9,":").concat(e,":").concat(t)))throw new t7(e,t)}getActiveNetwork(){if(!this.activeNetwork)throw this.getSession(),new t8;return this.activeNetwork}setDefaultAccountAndNetwork(){let e=this.getAccounts();e.length&&(this.activeAccount=e[0]);let t=this.getNetworks();t.length&&(this.activeNetwork=t[0])}getAccounts(){return this.getTezosNamespace().accounts.map(e=>e.split(":")[2])}getNetworks(){return this.getPermittedNetwork()}getTezosNamespace(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSession().namespaces;if(t9 in e)return e[t9];throw new t4("Tezos not found in namespaces")}getPermittedMethods(){return this.getTezosRequiredNamespace().methods}getPermittedNetwork(){return this.getTezosRequiredNamespace().chains.map(e=>e.split(":")[1])}getTezosRequiredNamespace(){return{chains:["".concat(t9,":").concat(this.wcOptions.network)],events:[],methods:["tezos_getAccounts","tezos_send","tezos_sign"]}}async notifyListeners(e,t){let r={...t,version:"2",senderId:e},n=new y.ei,i=await n.serialize(r);this.activeListeners.forEach(e=>{e(i)})}currentSession(){return this.session}async getSignClient(){return void 0===this.signClient&&(this.signClient=await t0.TN.init(this.wcOptions.opts),this.subscribeToSessionEvents(this.signClient)),this.signClient}getSession(){if(!this.session)throw new t3;return this.session}async getPKH(){if(!this.activeAccount)throw this.getSession(),new t5;return this.activeAccount}clearState(){this.session=void 0,this.activeAccount=void 0,this.activeNetwork=void 0}constructor(e){super(),this.activeListeners=new Map,this.channelOpeningListeners=new Map,this.storage=new y.mE,this.messageIds=[],this.wcOptions=e,this.getSignClient()}}class rr extends y.J7{static async isAvailable(){return Promise.resolve(!0)}async connect(){if(this._isConnected!==tt.ki.NOT_CONNECTED)return;this._isConnected=tt.ki.CONNECTING,await this.client.init();let e=await this.getPeers();return e.length>0&&e.map(async e=>this.listen(e.publicKey)),await this.startOpenChannelListener(),super.connect()}async hasPairings(){var e,t;return!!await this.client.storage.hasPairings()||!!(null===(t=this.client.signClient)||void 0===t?void 0:null===(e=t.pairing.getAll())||void 0===e?void 0:e.length)}async hasSessions(){var e,t;return!!await this.client.storage.hasSessions()||!!(null===(t=this.client.signClient)||void 0===t?void 0:null===(e=t.session.getAll())||void 0===e?void 0:e.length)}async closeActiveSession(e){await this.hasPairings()&&await this.hasPairings()?await this.client.closeActiveSession(e.address):await this.disconnect()}async getPeers(){let e=rt.getInstance(this.wcOptions).currentSession();return e?[{senderId:e.peer.publicKey,extensionId:e.peer.metadata.name,id:e.peer.publicKey,type:"walletconnect-pairing-response",name:"peer",publicKey:e.peer.publicKey,version:"first"}]:[]}async disconnect(){return await this.client.close(),super.disconnect()}async startOpenChannelListener(){}getPairingRequestInfo(){return this.client.getPairingRequestInfo()}async listen(e){await this.client.listenForEncryptedMessage(e,t=>{let r={origin:tt.aP.WALLETCONNECT,id:e};this.notifyListeners(t,r).catch(e=>{throw e})}).catch(e=>{throw e})}constructor(e,t,r,n,i){super(e,rt.getInstance(i),new y.Ou(r,n)),this.wcOptions=i}}let rn=new y.Yd("DappWalletConnectTransport");class ri extends rr{async listenForNewPeer(e){this.newPeerListener=e}async stopListeningForNewPeers(){rn.log("stopListeningForNewPeers"),this.newPeerListener=void 0}constructor(e,t,r,n){super(e,t,r,tt.Qt.TRANSPORT_WALLETCONNECT_PEERS_DAPP,n),this.client.listenForChannelOpening(async e=>{await this.addPeer(e),this._isConnected=tt.ki.CONNECTED,this.newPeerListener&&(this.newPeerListener(e),this.newPeerListener=void 0)})}}var rs=r(23663).Buffer;let ro=new y.Yd("DAppClient");class ra extends y.KU{async initInternalTransports(){var e,t;let r=await this.keyPair;if(this.postMessageTransport||this.p2pTransport||this.walletConnectTransport)return;this.postMessageTransport=new tX(this.name,r,this.storage),await this.addListener(this.postMessageTransport),this.p2pTransport=new t$(this.name,r,this.storage,this.matrixNodes,this.iconUrl,this.appUrl),await this.addListener(this.p2pTransport);let n={projectId:this.wcProjectId,relayUrl:this.wcRelayUrl,metadata:{name:this.name,description:null!==(e=this.description)&&void 0!==e?e:"",url:null!==(t=this.appUrl)&&void 0!==t?t:"",icons:this.iconUrl?[this.iconUrl]:[]}};this.walletConnectTransport=new ri(this.name,r,this.storage,{network:this.network.type,opts:n}),this.initEvents(),await this.addListener(this.walletConnectTransport)}initEvents(){this.walletConnectTransport&&(this.walletConnectTransport.setEventHandler("CLOSE_ALERT",this.hideUI.bind(this,["alert"])),this.walletConnectTransport.setEventHandler("RESET_STATE",this.channelClosedHandler.bind(this)),this.walletConnectTransport.setEventHandler("WC_ACK_NOTIFICATION",this.wcToastHandler.bind(this)))}async wcToastHandler(e){let t=await (async()=>{try{return await this.getWalletInfo()}catch(e){return{name:"wallet"}}})();await this.events.emit(m.HIDE_UI,["alert"]),"pending"===e?this.events.emit(m.ACKNOWLEDGE_RECEIVED,{message:{},extraInfo:{},walletInfo:t}):this.events.emit(m.PERMISSION_REQUEST_ERROR,{errorResponse:{errorType:tt.$l.ABORTED_ERROR},walletInfo:t})}async channelClosedHandler(e){let t=await this.transport;e&&t.type!==e||(await this.events.emit(m.CHANNEL_CLOSED),this.setActiveAccount(void 0),await this.destroy())}async destroy(){await super.destroy()}async init(e){if(this._initPromise)return this._initPromise;try{await this.activeAccountLoaded}catch(e){}return this._initPromise=new Promise(async t=>{if(e)await this.addListener(e),t(await super.init(e));else if(this._transport.isSettled())await (await this.transport).connect(),t(await super.init(await this.transport));else{let e=await this.getActiveAccount(),r=()=>{this.postMessageTransport&&this.postMessageTransport.stopListeningForNewPeers().catch(console.error),this.p2pTransport&&this.p2pTransport.stopListeningForNewPeers().catch(console.error),this.walletConnectTransport&&this.walletConnectTransport.stopListeningForNewPeers().catch(console.error)};if(await this.initInternalTransports(),!this.postMessageTransport||!this.p2pTransport||!this.walletConnectTransport)return;if(this.postMessageTransport.connect().then().catch(console.error),e&&e.origin){let r=e.origin.type;r===tt.aP.EXTENSION?t(await super.init(this.postMessageTransport)):r===tt.aP.P2P?t(await super.init(this.p2pTransport)):r===tt.aP.WALLETCONNECT&&t(await super.init(this.walletConnectTransport))}else{let e=this.p2pTransport,n=this.postMessageTransport,i=this.walletConnectTransport;n.listenForNewPeer(e=>{ro.log("init","postmessage transport peer connected",e),this.analytics.track("event","DAppClient","Extension connected",{peerName:e.name}),this.events.emit(m.PAIR_SUCCESS,e).catch(e=>console.warn(e)),this.setActivePeer(e).catch(console.error),this.setTransport(this.postMessageTransport).catch(console.error),r(),t(tt.Fl.POST_MESSAGE)}).catch(console.error),e.listenForNewPeer(e=>{ro.log("init","p2p transport peer connected",e),this.analytics.track("event","DAppClient","Beacon Wallet connected",{peerName:e.name}),this.events.emit(m.PAIR_SUCCESS,e).catch(e=>console.warn(e)),this.setActivePeer(e).catch(console.error),this.setTransport(this.p2pTransport).catch(console.error),r(),t(tt.Fl.P2P)}).catch(console.error),i.listenForNewPeer(e=>{ro.log("init","walletconnect transport peer connected",e),this.analytics.track("event","DAppClient","WalletConnect Wallet connected",{peerName:e.name}),this.events.emit(m.PAIR_SUCCESS,e).catch(e=>console.warn(e)),this.setActivePeer(e).catch(console.error),this.setTransport(this.walletConnectTransport).catch(console.error),r(),t(tt.Fl.WALLETCONNECT)}).catch(console.error),t_.O.getAvailableExtensions().then(async e=>{this.analytics.track("event","DAppClient","Extensions detected",{extensions:e})}).catch(e=>{this._initPromise=void 0,console.error(e)}),this.events.emit(m.PAIR_INIT,{p2pPeerInfo:()=>(e.connect().then().catch(console.error),e.getPairingRequestInfo()),postmessagePeerInfo:()=>n.getPairingRequestInfo(),walletConnectPeerInfo:()=>i.getPairingRequestInfo(),networkType:this.network.type,abortedHandler:async()=>{ro.log("init","ABORTED"),await Promise.all([n.disconnect(),i.disconnect()]),this._initPromise=void 0},disclaimerText:this.disclaimerText,analytics:this.analytics,featuredWallets:this.featuredWallets}).catch(e=>console.warn(e))}}}),this._initPromise}async getActiveAccount(){return this._activeAccount.promise}async isInvalidState(e){let t=await this._activeAccount.promise;return!!t&&(null==t?void 0:t.address)!==e.address&&!this.isGetActiveAccountHandled}async setActiveAccount(e){if(e&&this._activeAccount.isSettled()&&await this.isInvalidState(e)){await this.destroy(),await this.setActiveAccount(void 0),await this.events.emit(m.INVALID_ACTIVE_ACCOUNT_STATE);return}if(!e&&this._activeAccount.isResolved()&&await this.getActiveAccount()){let e=await this.transport,t=await this.getActiveAccount();if(!e||!t)return;e instanceof rr&&await e.closeActiveSession(t)}if(this._activeAccount.isSettled()?this._activeAccount=e4.$H.resolve(e):this._activeAccount.resolve(e),e){let t=e.origin.type;await this.initInternalTransports(),t===tt.aP.EXTENSION?await this.setTransport(this.postMessageTransport):t===tt.aP.P2P?await this.setTransport(this.p2pTransport):t===tt.aP.WALLETCONNECT&&await this.setTransport(this.walletConnectTransport);let r=await this.getPeer(e);await this.setActivePeer(r)}else await this.setActivePeer(void 0),await this.setTransport(void 0);await this.storage.set(tt.Qt.ACTIVE_ACCOUNT,e?e.accountIdentifier:void 0),await this.events.emit(m.ACTIVE_ACCOUNT_SET,e)}clearActiveAccount(){return this.setActiveAccount()}async setColorMode(e){return(0,tS.qj)(e)}async getColorMode(){return(0,tS.Fg)()}async getAppMetadata(){return this.getOwnAppMetadata()}async showPrepare(){let e=await (async()=>{try{return await this.getWalletInfo()}catch(e){return}})();await this.events.emit(m.SHOW_PREPARE,{walletInfo:e})}async hideUI(e,t){if(await this.events.emit(m.HIDE_UI,["alert","toast"]),e.includes("alert")){var r,n,i,s;let e=await this.transport;t&&e.type!==t?t===tt.Fl.WALLETCONNECT?null===(i=this.walletConnectTransport)||void 0===i||i.disconnect():null===(s=this.postMessageTransport)||void 0===s||s.disconnect():(await Promise.all([null===(r=this.postMessageTransport)||void 0===r?void 0:r.disconnect(),null===(n=this.walletConnectTransport)||void 0===n?void 0:n.disconnect()]),this._initPromise=void 0)}}async removeAccount(e){let t=super.removeAccount(e),r=await this.getActiveAccount();return r&&r.accountIdentifier===e&&await this.setActiveAccount(void 0),t}async removeAllAccounts(){await super.removeAllAccounts(),await this.setActiveAccount(void 0)}async removePeer(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=await this.transport,n=r.removePeer(e);return await this.removeAccountsForPeers([e]),t&&await this.sendDisconnectToPeer(e,r),n}async removeAllPeers(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=await this.transport,r=await t.getPeers(),n=t.removeAllPeers();if(await this.removeAccountsForPeers(r),e){let e=r.map(e=>this.sendDisconnectToPeer(e,t));await Promise.all(e)}return n}async subscribeToEvent(e,t){e===m.ACTIVE_ACCOUNT_SET&&(this.isGetActiveAccountHandled=!0),await this.events.on(e,t)}async checkPermissions(e){if([tt.e3.PermissionRequest,tt.e3.ProofOfEventChallengeRequest,tt.e3.ProofOfEventChallengeRecorded].includes(e))return!0;let t=await this.getActiveAccount();if(!t)throw await this.sendInternalError("No active account set!");let r=t.scopes;switch(e){case tt.e3.OperationRequest:return r.includes(tt.UW.OPERATION_REQUEST);case tt.e3.SignPayloadRequest:return r.includes(tt.UW.SIGN);case tt.e3.BroadcastRequest:return!0;default:return!1}}async sendNotification(e,t,r,n){var i,s,o;let a=await this.getActiveAccount();if(!a||a&&!a.scopes.includes(tt.UW.NOTIFICATION)&&!a.notification)throw Error("notification permissions not given");if(!(null===(i=a.notification)||void 0===i?void 0:i.token))throw Error("No AccessToken");let c=null===(s=a.notification)||void 0===s?void 0:s.apiUrl;if(!c)throw Error("No Push URL set");return this.sendNotificationWithAccessToken({url:c,recipient:a.address,title:e,body:t,payload:r,protocolIdentifier:n,accessToken:null===(o=a.notification)||void 0===o?void 0:o.token})}addBlockchain(e){this.blockchains.set(e.identifier,e),e.getWalletLists().then(e=>{(0,tS.wr)(e.desktopList),(0,tS.ah)(e.extensionList),(0,tS.Ry)(e.webList),(0,tS.B4)(e.iOSList)})}removeBlockchain(e){this.blockchains.delete(e)}async permissionRequest(e){ro.log("permissionRequest",e);let t=this.blockchains.get(e.blockchainIdentifier);if(!t)throw Error('Blockchain "'.concat(e.blockchainIdentifier,'" not supported by dAppClient'));let r={...e,type:tt.e3.PermissionRequest,blockchainData:{...e.blockchainData,appMetadata:await this.getOwnAppMetadata()}};ro.log("REQUESTION PERMIMISSION V3","xxx",r);let{message:n,connectionInfo:i}=await this.makeRequestV3(r).catch(async e=>{throw Error("TODO")});ro.log("RESPONSE V3",n,i);let s=await t.getAccountInfosFromPermissionResponse(n.message),o={accountIdentifier:s[0].accountId,senderId:n.senderId,origin:{type:i.origin,id:i.id},address:s[0].address,publicKey:s[0].publicKey,scopes:n.message.blockchainData.scopes,connectedAt:new Date().getTime(),chainData:n.message.blockchainData};return await this.accountManager.addAccount(o),await this.setActiveAccount(o),await t.handleResponse({request:r,account:o,output:n,blockExplorer:this.blockExplorer,connectionContext:i,walletInfo:await this.getWalletInfo()}),await this.notifySuccess(r,{account:o,output:{address:s[0].address,network:{type:tt.td.MAINNET},scopes:[tt.UW.OPERATION_REQUEST]},blockExplorer:this.blockExplorer,connectionContext:i,walletInfo:await this.getWalletInfo()}),n.message}async request(e){ro.log("request",e);let t=this.blockchains.get(e.blockchainIdentifier);if(!t)throw Error('Blockchain "'.concat(t,'" not supported by dAppClient'));await t.validateRequest(e);let r=await this.getActiveAccount();if(!r)throw await this.sendInternalError("No active account!");let n={...e,type:tt.e3.BlockchainRequest,accountId:r.accountIdentifier},{message:i,connectionInfo:s}=await this.makeRequestV3(n).catch(async e=>{throw console.error(e),Error("TODO")});return await t.handleResponse({request:n,account:r,output:i,blockExplorer:this.blockExplorer,connectionContext:s,walletInfo:await this.getWalletInfo()}),i.message}async requestPermissions(e){var t;(null==e?void 0:e.network)!==void 0&&this.network.type!==(null==e?void 0:null===(t=e.network)||void 0===t?void 0:t.type)&&console.error("[BEACON] The network specified in the DAppClient constructor does not match the network set in the permission request. Please set the network in the constructor. Setting it during the Permission Request is deprecated.");let r={appMetadata:await this.getOwnAppMetadata(),type:tt.e3.PermissionRequest,network:this.network,scopes:e&&e.scopes?e.scopes:[tt.UW.OPERATION_REQUEST,tt.UW.SIGN]};this.analytics.track("event","DAppClient","Permission requested");let{message:n,connectionInfo:i}=await this.makeRequest(r).catch(async e=>{throw await this.handleRequestError(r,e)});ro.log("requestPermissions","######## MESSAGE #######"),ro.log("requestPermissions",n);let s=await this.onNewAccount(n,i);ro.log("requestPermissions","######## ACCOUNT INFO #######"),ro.log("requestPermissions",JSON.stringify(s)),await this.accountManager.addAccount(s),await this.setActiveAccount(s);let o={...n,walletKey:s.walletKey,address:s.address,accountInfo:s};return await this.notifySuccess(r,{account:s,output:o,blockExplorer:this.blockExplorer,connectionContext:i,walletInfo:await this.getWalletInfo()}),this.analytics.track("event","DAppClient","Permission received",{address:s.address}),o}async requestProofOfEventChallenge(e){let t=await this.getActiveAccount();if(!t)throw Error("Please request permissions before doing a proof of event challenge");if("abstracted_account"!==t.walletType&&"proof_of_event"!==t.verificationType)throw Error("This wallet is not an abstracted account and thus cannot perform proof of event");let r={type:tt.e3.ProofOfEventChallengeRequest,contractAddress:t.address,...e},{message:n,connectionInfo:i}=await this.makeRequest(r).catch(async e=>{throw await this.handleRequestError(r,e)});return this.analytics.track("event","DAppClient","Proof of event challenge ".concat(n.isAccepted?"accepted":"refused"),{address:t.address}),n.isAccepted&&await this.recordProofOfEventChallenge(e),await this.notifySuccess(r,{account:t,output:n,blockExplorer:this.blockExplorer,connectionContext:i,walletInfo:await this.getWalletInfo()}),n}async recordProofOfEventChallenge(e){if(!await this.getActiveAccount())throw Error("Active account is undefined. Please request permissions before recording a proof of event challenge");let t={type:tt.e3.ProofOfEventChallengeRecorded,dAppChallengeId:e.dAppChallengeId,success:!0,errorMessage:""};await this.makeRequest(t,!0).catch(async e=>{throw await this.handleRequestError(t,e)})}async requestSignPayload(e){if(!e.payload)throw await this.sendInternalError("Payload must be provided");let t=await this.getActiveAccount();if(!t)throw await this.sendInternalError("No active account!");let r=e.payload;if("string"!=typeof r)throw Error("Payload must be a string");let n=(()=>{switch(e.signingType){case tt.Jr.OPERATION:if(!r.startsWith("03"))throw Error('When using signing type "OPERATION", the payload must start with prefix "03"');return tt.Jr.OPERATION;case tt.Jr.MICHELINE:if(!r.startsWith("05"))throw Error('When using signing type "MICHELINE", the payload must start with prefix "05"');return tt.Jr.MICHELINE;case tt.Jr.RAW:default:return tt.Jr.RAW}})();this.analytics.track("event","DAppClient","Signature requested");let i={type:tt.e3.SignPayloadRequest,signingType:n,payload:r,sourceAddress:e.sourceAddress||t.address},{message:s,connectionInfo:o}=await this.makeRequest(i).catch(async e=>{throw await this.handleRequestError(i,e)});return await this.notifySuccess(i,{account:t,output:s,connectionContext:o,walletInfo:await this.getWalletInfo()}),this.analytics.track("event","DAppClient","Signature response"),s}async requestOperation(e){if(!e.operationDetails)throw await this.sendInternalError("Operation details must be provided");let t=await this.getActiveAccount();if(!t)throw await this.sendInternalError("No active account!");let r={type:tt.e3.OperationRequest,network:t.network||this.network,operationDetails:e.operationDetails,sourceAddress:t.address||""};this.analytics.track("event","DAppClient","Operation requested");let{message:n,connectionInfo:i}=await this.makeRequest(r).catch(async e=>{throw await this.handleRequestError(r,e)});return await this.notifySuccess(r,{account:t,output:n,blockExplorer:this.blockExplorer,connectionContext:i,walletInfo:await this.getWalletInfo()}),this.analytics.track("event","DAppClient","Operation response"),n}async requestBroadcast(e){var t;if(!e.signedTransaction)throw await this.sendInternalError("Signed transaction must be provided");void 0!==e.network&&this.network.type!==(null===(t=e.network)||void 0===t?void 0:t.type)&&console.error("[BEACON] The network specified in the DAppClient constructor does not match the network set in the broadcast request. Please set the network in the constructor. Setting it during the Broadcast Request is deprecated.");let r={type:tt.e3.BroadcastRequest,network:this.network,signedTransaction:e.signedTransaction};this.analytics.track("event","DAppClient","Broadcast requested");let{message:n,connectionInfo:i}=await this.makeRequest(r).catch(async e=>{throw await this.handleRequestError(r,e)});return await this.notifySuccess(r,{network:this.network,output:n,blockExplorer:this.blockExplorer,connectionContext:i,walletInfo:await this.getWalletInfo()}),this.analytics.track("event","DAppClient","Broadcast response"),n}async setActivePeer(e){this._activePeer.isSettled()?this._activePeer=e4.$H.resolve(e):this._activePeer.resolve(e),e&&(await this.initInternalTransports(),"postmessage-pairing-response"===e.type?await this.setTransport(this.postMessageTransport):"p2p-pairing-response"===e.type&&await this.setTransport(this.p2pTransport))}async setTransport(e){e||(this._initPromise=void 0);let t=super.setTransport(e);return await this.events.emit(m.ACTIVE_TRANSPORT_SET,e),t}async sendInternalError(e){throw await this.events.emit(m.INTERNAL_ERROR,{text:e}),Error(e)}async removeAccountsForPeers(e){let t=e.map(e=>e.senderId);return this.removeAccountsForPeerIds(t)}async removeAccountsForPeerIds(e){let t=(await this.accountManager.getAccounts()).filter(t=>e.includes(t.senderId)).map(e=>e.accountIdentifier);await this.accountManager.removeAccounts(t);let r=await this.getActiveAccount();r&&t.includes(r.accountIdentifier)&&await this.setActiveAccount(void 0)}async handleRequestError(e,t){if(ro.error("handleRequestError","error response",t),t.errorType){let r=[];if(t.errorType===tt.$l.NO_PRIVATE_KEY_FOUND_ERROR){let t=async()=>{let t;if(e.sourceAddress&&e.network){let r=await (0,y.Nn)(e.sourceAddress,e.network);(t=await this.getAccount(r))&&await this.removeAccount(t.accountIdentifier)}};r.push({text:"Remove account",actionCallback:t})}let n=await this.getPeer(),i=await this.getActiveAccount();throw e.type===tt.e3.PermissionRequest&&await this.getActiveAccount()===void 0&&(this._initPromise=void 0,this.postMessageTransport=void 0,this.p2pTransport=void 0,this.walletConnectTransport=void 0,await this.setTransport(),await this.setActivePeer()),this.events.emit(tV[e.type].error,{errorResponse:t,walletInfo:await this.getWalletInfo(n,i),errorMessages:this.errorMessages},r).catch(e=>ro.error("handleRequestError",e)),y.o8.getError(t.errorType,t.errorData)}throw t}async notifySuccess(e,t){this.events.emit(tV[e.type].success,t).catch(e=>console.warn(e))}async getWalletInfoFromStorage(){return await this.storage.get(tt.Qt.LAST_SELECTED_WALLET)}async getWalletInfo(e,t){var r,n,i,s,o;let a,c,u;let l=t||await this.getActiveAccount(),d=e||await this.getPeer(l);l&&(a=await this.appMetadataManager.getAppMetadata(l.senderId)),a||(a={name:null!==(n=null!==(r=null==d?void 0:d.name)&&void 0!==r?r:await this.getWalletInfoFromStorage())&&void 0!==n?n:"",icon:null==d?void 0:d.icon});let h=(e,t)=>!!e&&!!t&&e.toLowerCase()===t.toLowerCase(),f=e=>e.split(/[_\s]+/)[0],p=[...(0,tS.aC)(),...(0,tS.eT)(),...(0,tS.If)(),...(0,tS.fU)()].filter(e=>{var t;return h(f(e.key),f(null!==(t=null==a?void 0:a.name)&&void 0!==t?t:"wallet"))}),m=p.find(e=>e.universalLink),g=p.find(e=>e.links),v=p.find(e=>e.downloadLink),b=p.find(e=>e.id);if((0,tS.jU)(window)&&g?(c=g,u="web"):(0,tS.nI)(window)&&v?(c=v,u="desktop"):(0,tS.jU)(window)&&b?(c=b,u="extension"):m&&(c=m,u="mobile"),c){let e;return c.hasOwnProperty("links")?e=c.links[null!==(i=null==l?void 0:l.network.type)&&void 0!==i?i:this.network.type]:c.hasOwnProperty("deepLink")&&(e=c.deepLink),{name:null!==(s=null==c?void 0:c.name)&&void 0!==s?s:a.name,icon:null!==(o=null==c?void 0:c.logo)&&void 0!==o?o:a.icon,deeplink:e,type:u}}return a}async getPeer(e){let t;if(e){var r,n,i,s,o,a;ro.log("getPeer","We have an account",e);let c=[...null!==(s=await (null===(r=this.postMessageTransport)||void 0===r?void 0:r.getPeers()))&&void 0!==s?s:[],...null!==(o=await (null===(n=this.p2pTransport)||void 0===n?void 0:n.getPeers()))&&void 0!==o?o:[],...null!==(a=await (null===(i=this.walletConnectTransport)||void 0===i?void 0:i.getPeers()))&&void 0!==a?a:[]];ro.log("getPeer","Found peers",c,e),(t=c.find(t=>t.senderId===e.senderId))||(t=c.find(t=>t.extensionId===e.origin.id))}else t=await this._activePeer.promise,ro.log("getPeer","Active peer",t);return t}async makeRequest(e,t){var r,n,i;let s;let o=await (0,e4.qs)();this._initPromise&&this.isInitPending&&(await Promise.all([null===(r=this.postMessageTransport)||void 0===r?void 0:r.disconnect(),null===(n=this.walletConnectTransport)||void 0===n?void 0:n.disconnect()]),this._initPromise=void 0,this.hideUI(["toast"])),ro.time(!0,o),ro.log("makeRequest","starting"),this.isInitPending=!0,await this.init(),this.isInitPending=!1,ro.timeLog(o,"init done"),ro.log("makeRequest","after init");let a=await this.transport;if(a instanceof rr&&await this.getActiveAccount()&&!await a.hasPairings()&&!await a.hasSessions())throw await this.channelClosedHandler(a.type),Error("No active pairing nor session found");if(await this.addRequestAndCheckIfRateLimited())throw this.events.emit(m.LOCAL_RATE_LIMIT_REACHED).catch(e=>console.warn(e)),Error("rate limit reached");if(!await this.checkPermissions(e.type))throw this.events.emit(m.NO_PERMISSIONS).catch(e=>console.warn(e)),Error("No permissions to send this request to wallet!");if(!this.beaconId)throw await this.sendInternalError("BeaconID not defined");let c={id:o,version:"2",senderId:await (0,y.I2)(await this.beaconId),...e};t||(s=new e4.$H,this.addOpenRequest(c.id,s));let u=await new y.ei().serialize(c),l=await this.getActiveAccount(),d=await this.getPeer(l),h=await this.getWalletInfo(d,l);ro.log("makeRequest","sending message",c),ro.timeLog("makeRequest",o,"sending");try{await a.send(u,d)}catch(e){throw this.events.emit(m.INTERNAL_ERROR,{text:"Unable to send message. If this problem persists, please reset the connection and pair your wallet again.",buttons:[{text:"Reset Connection",actionCallback:async()=>{await (0,tS.yg)(),this.disconnect()}}]}),ro.timeLog("makeRequest",o,"send error"),e}return ro.timeLog("makeRequest",o,"sent"),this.events.emit(tV[e.type].sent,{walletInfo:{...h,name:null!==(i=h.name)&&void 0!==i?i:"Wallet"},extraInfo:{resetCallback:async()=>{this.disconnect()}}}).catch(e=>console.warn(e)),null==s?void 0:s.promise}async makeRequestV3(e){var t,r,n;this._initPromise&&this.isInitPending&&(await Promise.all([null===(t=this.postMessageTransport)||void 0===t?void 0:t.disconnect(),null===(r=this.walletConnectTransport)||void 0===r?void 0:r.disconnect()]),this._initPromise=void 0,this.hideUI(["toast"]));let i=await (0,e4.qs)();if(ro.time(!0,i),ro.log("makeRequest","starting"),this.isInitPending=!0,await this.init(),this.isInitPending=!1,ro.timeLog("makeRequest",i,"init done"),ro.log("makeRequest","after init"),await this.addRequestAndCheckIfRateLimited())throw this.events.emit(m.LOCAL_RATE_LIMIT_REACHED).catch(e=>console.warn(e)),Error("rate limit reached");let s=await this.transport;if(s instanceof rr&&await this.getActiveAccount()&&!await s.hasPairings()&&!await s.hasSessions())throw await this.channelClosedHandler(s.type),Error("No active pairing nor session found");if(!this.beaconId)throw await this.sendInternalError("BeaconID not defined");let o={id:i,version:"3",senderId:await (0,y.I2)(await this.beaconId),message:e},a=new e4.$H;this.addOpenRequest(o.id,a);let c=await new y.ei().serialize(o),u=await this.getActiveAccount(),l=await this.getPeer(u),d=await this.getWalletInfo(l,u);ro.log("makeRequest","sending message",o),ro.timeLog("makeRequest",i,"sending");try{await s.send(c,l)}catch(e){throw this.events.emit(m.INTERNAL_ERROR,{text:"Unable to send message. If this problem persists, please reset the connection and pair your wallet again.",buttons:[{text:"Reset Connection",actionCallback:async()=>{await (0,tS.yg)(),this.disconnect()}}]}),ro.timeLog("makeRequest",i,"send error"),e}ro.timeLog("makeRequest",i,"sent");let h=e.type;return this.events.emit(tV[h].sent,{walletInfo:{...d,name:null!==(n=d.name)&&void 0!==n?n:"Wallet"},extraInfo:{resetCallback:async()=>{this.disconnect()}}}).catch(e=>console.warn(e)),a.promise}async disconnect(){this.postMessageTransport=void 0,this.p2pTransport=void 0,this.walletConnectTransport=void 0,await Promise.all([this.clearActiveAccount(),(await this.transport).disconnect()])}addOpenRequest(e,t){ro.log("addOpenRequest",this.name,"adding request ".concat(e," and waiting for answer")),this.openRequests.set(e,t)}async sendNotificationWithAccessToken(e){let{url:t,recipient:r,title:n,body:i,payload:s,protocolIdentifier:o,accessToken:a}=e,c=new Date().toISOString(),u=await this.keyPair,l=u.publicKey,d=rs.from(new Uint8Array([13,15,37,217])),h=tA.encode(rs.concat([d,rs.from(l)])),f=["Tezos Signed Message: ",r,n,i,c,s].join(" "),p=(0,e4.NC)(f),m="0501"+p.length.toString(16).padStart(8,"0")+p,g=await (0,e4.l)(m,{secretKey:rs.from(u.secretKey)});return(await e3.post("".concat(t,"/send"),{recipient:r,title:n,body:i,timestamp:c,payload:s,accessToken:a,protocolIdentifier:o,sender:{name:this.name,publicKey:h,signature:g}})).data}async onNewAccount(e,t){var r,n;let i=e.publicKey||e.pubkey||e.pubKey,s=i?await (0,e4.S9)(i):void 0;if(!s&&!e.address)throw Error("PublicKey or Address must be defined");let o=null!==(r=e.address)&&void 0!==r?r:await (0,e4.EJ)(s);if(!(0,e4.At)(o))throw Error('Invalid address: "'.concat(o,'"'));if("abstracted_account"===e.walletType&&o.substring(0,3)!==e4.zF)throw Error('Invalid abstracted account address "'.concat(o,'", it should be a ').concat(e4.zF," address"));ro.log("######## MESSAGE #######"),ro.log("onNewAccount",e);let a=await this.storage.get(tt.Qt.LAST_SELECTED_WALLET),c={accountIdentifier:await (0,y.Nn)(o,e.network),senderId:e.senderId,origin:{type:t.origin,id:t.id},walletKey:a,address:o,publicKey:s,network:e.network,scopes:e.scopes,threshold:e.threshold,notification:e.notification,connectedAt:new Date().getTime(),walletType:null!==(n=e.walletType)&&void 0!==n?n:"implicit",verificationType:e.verificationType,..."proof_of_event"===e.verificationType?{hasVerifiedChallenge:!1}:{}};return ro.log("accountInfo","######## ACCOUNT INFO #######"),ro.log("accountInfo",c),await this.accountManager.addAccount(c),await this.setActiveAccount(c),c}constructor(e){var t,r,n,i,s,o,a,c;super({storage:e&&e.storage?e.storage:new y.mM,...e}),this.events=new tW,this.isGetActiveAccountHandled=!1,this.openRequests=new Map,this._activeAccount=new e4.$H,this._activePeer=new e4.$H,this.isInitPending=!1,this.blockchains=new Map,this.description=e.description,this.wcProjectId=(null===(t=e.walletConnectOptions)||void 0===t?void 0:t.projectId)||"24469fd0a06df227b6e5f7dc7de0ff4f",this.wcRelayUrl=null===(r=e.walletConnectOptions)||void 0===r?void 0:r.relayUrl,this.featuredWallets=e.featuredWallets,this.events=new tW(e.eventHandlers,null!==(n=e.disableDefaultEvents)&&void 0!==n&&n),this.blockExplorer=null!==(i=e.blockExplorer)&&void 0!==i?i:new tZ,this.network=null!==(o=e.network)&&void 0!==o?o:{type:null!==(s=e.preferredNetwork)&&void 0!==s?s:tt.td.MAINNET},(0,tS.qj)(null!==(a=e.colorMode)&&void 0!==a?a:tt.UX.LIGHT),this.disclaimerText=e.disclaimerText,this.errorMessages=null!==(c=e.errorMessages)&&void 0!==c?c:{},this.appMetadataManager=new y.iC(this.storage),this.storage.subscribeToStorageChanged(async e=>{if("storageCleared"===e.eventType)this.setActiveAccount(void 0);else if("entryModified"===e.eventType&&e.key===this.storage.getPrefixedKey(tt.Qt.ACTIVE_ACCOUNT)){let t=e.newValue;if(t&&"undefined"!==t){let e=await this.getAccount(t);this.setActiveAccount(e)}else this.setActiveAccount(void 0)}}),this.activeAccountLoaded=this.storage.get(tt.Qt.ACTIVE_ACCOUNT).then(async e=>{if(e){let t=await this.accountManager.getAccount(e);return await this.setActiveAccount(t),t}await this.setActiveAccount(void 0)}).catch(async e=>{await this.setActiveAccount(void 0),console.error(e)}),this.handleResponse=async(e,t)=>{var r,n,i,s,o,a,c,u;let l=this.openRequests.get(e.id);if(ro.log("### openRequest ###",l),ro.log("handleResponse","Received message",e,t),ro.log("### message ###",JSON.stringify(e)),ro.log("### connectionInfo ###",t),"3"===e.version){if(l&&(null===(r=e.message)||void 0===r?void 0:r.type)===tt.e3.Acknowledge)this.analytics.track("event","DAppClient","Acknowledge received from Wallet"),ro.log("handleResponse","acknowledge message received for ".concat(e.id)),ro.timeLog("handleResponse",e.id,"acknowledge"),this.events.emit(m.ACKNOWLEDGE_RECEIVED,{message:e.message,extraInfo:{},walletInfo:await this.getWalletInfo()}).catch(console.error);else if(l){let r=e.message.blockchainData.appMetadata;(null===(n=e.message)||void 0===n?void 0:n.type)===tt.e3.PermissionResponse&&r&&await this.appMetadataManager.addAppMetadata(r),ro.timeLog("handleResponse",e.id,"response"),ro.time(!1,e.id),(null===(i=e.message)||void 0===i?void 0:i.type)===tt.e3.Error?l.reject(e.message):l.resolve({message:e,connectionInfo:t}),this.openRequests.delete(e.id)}else if((null===(s=e.message)||void 0===s?void 0:s.type)===tt.e3.Disconnect){this.analytics.track("event","DAppClient","Disconnect received from Wallet");let r=t.origin===tt.aP.P2P?this.p2pTransport:t.origin===tt.aP.WALLETCONNECT?this.walletConnectTransport:null!==(a=this.postMessageTransport)&&void 0!==a?a:await this.transport;if(r){let t=(await r.getPeers()).find(t=>t.senderId===e.senderId);t&&await r.removePeer(t),await this.removeAccountsForPeerIds([e.senderId]),await this.events.emit(m.CHANNEL_CLOSED)}}else(null===(o=e.message)||void 0===o?void 0:o.type)===tt.e3.ChangeAccountRequest?await this.onNewAccount(e.message,t):ro.error("handleResponse","no request found for id ",e.id,e)}else if(l&&e.type===tt.e3.Acknowledge)ro.log("handleResponse","acknowledge message received for ".concat(e.id)),this.analytics.track("event","DAppClient","Acknowledge received from Wallet"),ro.timeLog("handleResponse",e.id,"acknowledge"),this.events.emit(m.ACKNOWLEDGE_RECEIVED,{message:e,extraInfo:{},walletInfo:await this.getWalletInfo()}).catch(console.error);else if(l)e.type===tt.e3.PermissionResponse&&e.appMetadata&&await this.appMetadataManager.addAppMetadata(e.appMetadata),ro.timeLog("handleResponse",e.id,"response"),ro.time(!1,e.id),e.type===tt.e3.Error||e.errorType?l.reject(e):l.resolve({message:e,connectionInfo:t}),this.openRequests.delete(e.id);else if(e.type===tt.e3.Disconnect||(null==e?void 0:null===(c=e.typedMessage)||void 0===c?void 0:c.type)===tt.e3.Disconnect){this.analytics.track("event","DAppClient","Disconnect received from Wallet");let r=t.origin===tt.aP.P2P?this.p2pTransport:t.origin===tt.aP.WALLETCONNECT?this.walletConnectTransport:null!==(u=this.postMessageTransport)&&void 0!==u?u:await this.transport;if(r){let t=(await r.getPeers()).find(t=>t.senderId===e.senderId);t&&await r.removePeer(t),await this.removeAccountsForPeerIds([e.senderId]),await this.events.emit(m.CHANNEL_CLOSED)}}else e.type===tt.e3.ChangeAccountRequest?await this.onNewAccount(e,t):ro.error("handleResponse","no request found for id ",e.id,e)},this.activeAccountLoaded.then(e=>{e&&"p2p"!==e.origin.type&&this.init()})}}let rc=(e,t)=>(n&&t&&(n.disconnect(),n=void 0),n||n||(n=new ra(e)),n);var ru=r(91813),rl=r(2240),rd=r.n(rl),rh=r(19497),rf=r(75410);function rp(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})}"function"==typeof SuppressedError&&SuppressedError;class rm extends ru.sO{constructor(){super(),this.name="BeaconWalletNotInitialized",this.message='BeaconWallet needs to be initialized by calling `await BeaconWallet.requestPermissions({network: {type: "chosen_network"}})` first.'}}class rg extends ru.sO{constructor(e){super(),this.requiredScopes=e,this.name="MissingRequiredScopes",this.message="Required permissions scopes: ".concat(e.join(",")," were not granted.")}}class rv{validateRequiredScopesOrFail(e,t){let r=new Set(t);for(let t of e)r.has(t)&&r.delete(t);if(r.size>0)throw new rg(Array.from(r))}requestPermissions(e){return rp(this,void 0,void 0,function*(){yield this.client.requestPermissions(e)})}getPKH(){return rp(this,void 0,void 0,function*(){let e=yield this.client.getActiveAccount();if(!e)throw new rm;return e.address})}getPK(){var e;return rp(this,void 0,void 0,function*(){let t=yield this.client.getActiveAccount();if(!t)throw new rm;return null!==(e=t.publicKey)&&void 0!==e?e:""})}mapTransferParamsToWalletParams(e){return rp(this,void 0,void 0,function*(){let t;yield this.client.showPrepare();try{t=yield e()}catch(e){throw yield this.client.hideUI(["alert"]),e}return this.removeDefaultParams(t,(yield(0,rh.qm)(this.formatParameters(t))))})}mapIncreasePaidStorageWalletParams(e){return rp(this,void 0,void 0,function*(){let t;yield this.client.showPrepare();try{t=yield e()}catch(e){throw yield this.client.hideUI(["alert"]),e}return this.removeDefaultParams(t,(yield(0,rh.S$)(this.formatParameters(t))))})}mapOriginateParamsToWalletParams(e){return rp(this,void 0,void 0,function*(){let t;yield this.client.showPrepare();try{t=yield e()}catch(e){throw yield this.client.hideUI(["alert"]),e}return this.removeDefaultParams(t,(yield(0,rh.fx)(this.formatParameters(t))))})}mapDelegateParamsToWalletParams(e){return rp(this,void 0,void 0,function*(){let t;yield this.client.showPrepare();try{t=yield e()}catch(e){throw yield this.client.hideUI(["alert"]),e}return this.removeDefaultParams(t,(yield(0,rh.Vy)(this.formatParameters(t))))})}formatParameters(e){return e.fee&&(e.fee=e.fee.toString()),e.storageLimit&&(e.storageLimit=e.storageLimit.toString()),e.gasLimit&&(e.gasLimit=e.gasLimit.toString()),e}removeDefaultParams(e,t){return e.fee||delete t.fee,e.storageLimit||delete t.storage_limit,e.gasLimit||delete t.gas_limit,t}sendOperations(e){return rp(this,void 0,void 0,function*(){let t=yield this.client.getActiveAccount();if(!t)throw new rm;let r=t.scopes;this.validateRequiredScopesOrFail(r,[tt.UW.OPERATION_REQUEST]);let{transactionHash:n}=yield this.client.requestOperation({operationDetails:e});return n})}disconnect(){return rp(this,void 0,void 0,function*(){yield this.client.destroy()})}clearActiveAccount(){return rp(this,void 0,void 0,function*(){yield this.client.setActiveAccount()})}sign(e,t){return rp(this,void 0,void 0,function*(){let r=(0,rf.Yu)(e);void 0!==t&&(r=(0,rf.dd)(t,r));let n=(0,rf.Cw)(rd()(r)),i=this.getSigningType(t);if(i!==tt.Jr.OPERATION)throw new ru.s("Taquito Beacon Wallet currently only supports signing operations, not ".concat(i));let{signature:s}=yield this.client.requestSignPayload({payload:n,signingType:i});return s})}getSigningType(e){if(!e||0===e.length)return tt.Jr.RAW;if(1===e.length){if(5===e[0])return tt.Jr.MICHELINE;if(3===e[0])return tt.Jr.OPERATION}throw Error("Invalid watermark ".concat(JSON.stringify(e)))}constructor(e){this.client=rc(e)}}},91813:function(e,t,r){"use strict";r.d(t,{$$:function(){return g},BZ:function(){return S},F7:function(){return c},JH:function(){return v},L7:function(){return d},Rj:function(){return _},Uj:function(){return m},WO:function(){return n},Wo:function(){return y},Yy:function(){return i},bS:function(){return l},e5:function(){return w},f7:function(){return p},hJ:function(){return b},lt:function(){return s},mu:function(){return f},p:function(){return E},rJ:function(){return o},s:function(){return a},sO:function(){return u},xE:function(){return h}});class n extends Error{}class i extends n{}class s extends n{}class o extends n{}class a extends n{}class c extends n{}class u extends n{}class l extends i{constructor(e,t){super(),this.address=e,this.errorDetail=t,this.name="InvalidAddressError",this.message='Invalid address "'.concat(e,'"'),this.message+=t?" ".concat(t,"."):"."}}class d extends i{constructor(e,t){super(),this.blockHash=e,this.errorDetail=t,this.name="InvalidBlockHashError",this.message='Invalid block hash "'.concat(e,'"'),this.message+=t?" ".concat(t,"."):"."}}class h extends i{constructor(e){super(),this.amount=e,this.name="InvalidAmountError",this.message='Invalid amount "'.concat(e,'"')}}class f extends i{constructor(e,t){super(),this.hexString=e,this.errorDetail=t,this.name="InvalidHexStringError",this.message='Invalid hex string "'.concat(e,'"'),this.message+=t?" ".concat(t,"."):"."}}class p extends i{constructor(e,t){super(),this.msg=e,this.errorDetail=t,this.name="InvalidMessageError",this.message='Invalid message "'.concat(e,'"'),this.message+=t?" ".concat(t,"."):"."}}class m extends i{constructor(e,t,r,n){super(),this.viewName=e,this.sigs=t,this.args=r,this.cause=n,this.name="InvalidViewParameterError",this.message="Invalid view arguments ".concat(JSON.stringify(r),' received for name "').concat(e,'" expecting one of the following signatures ').concat(JSON.stringify(t),".")}}class g extends i{constructor(e,t){super(),this.publicKey=e,this.errorDetail=t,this.name="InvalidPublicKeyError",this.message='Invalid public key "'.concat(e,'"'),this.message+=t?" ".concat(t,"."):"."}}class v extends i{constructor(e,t){super(),this.contractAddress=e,this.errorDetail=t,this.name="InvalidContractAddressError",this.message='Invalid contract address "'.concat(e,'"'),this.message+=t?" ".concat(t,"."):"."}}class b extends i{constructor(e,t){super(),this.chainId=e,this.errorDetail=t,this.name="InvalidChainIdError",this.message='Invalid chain id "'.concat(e,'"'),this.message+=t?" ".concat(t,"."):"."}}class y extends i{constructor(e,t){super(),this.keyHash=e,this.errorDetail=t,this.name="InvalidKeyHashError",this.message='Invalid public key hash "'.concat(e,'"'),this.message+=t?" ".concat(t,"."):"."}}class w extends i{constructor(e,t){super(),this.operationHash=e,this.errorDetail=t,this.name="InvalidOperationHashError",this.message='Invalid operation hash "'.concat(e,'"'),this.message+=t?" ".concat(t,"."):"."}}class E extends i{constructor(e,t){super(),this.operationKind=e,this.errorDetail=t,this.name="InvalidOperationKindError",this.message='Invalid operation kind "'.concat(e,'"'),this.message+=t?" ".concat(t,"."):"."}}class _ extends a{constructor(e){super(),this.message=e,this.name="DeprecationError"}}class S extends n{constructor(e,t){super(),this.pkh=e,this.cause=t,this.name="PublicKeyNotFoundError",this.message='Public key not found of this address "'.concat(e,'" in either wallet or contract API.')}}},36582:function(e,t,r){"use strict";r.d(t,{MU:function(){return i},jN:function(){return h},mk:function(){return u}});var n,i,s,o=r(91813),a=r(49079);"function"==typeof SuppressedError&&SuppressedError;class c extends o.F7{constructor(e,t,r){super(),this.method=e,this.url=t,this.cause=r,this.name="HttpRequestFailed",this.message="".concat(e," ").concat(t," ").concat(String(r))}}class u extends o.F7{constructor(e,t,r,n,i){super(),this.message=e,this.status=t,this.statusText=r,this.body=n,this.url=i,this.name="HttpResponseError"}}class l extends o.F7{constructor(e,t){super(),this.timeout=e,this.url=t,this.name="HttpTimeoutError",this.message="HTTP request timeout of ".concat(e,"ms exceeded")}}(n=i||(i={}))[n.CONTINUE=100]="CONTINUE",n[n.SWITCHING_PROTOCOLS=101]="SWITCHING_PROTOCOLS",n[n.PROCESSING=102]="PROCESSING",n[n.OK=200]="OK",n[n.CREATED=201]="CREATED",n[n.ACCEPTED=202]="ACCEPTED",n[n.NON_AUTHORITATIVE_INFORMATION=203]="NON_AUTHORITATIVE_INFORMATION",n[n.NO_CONTENT=204]="NO_CONTENT",n[n.RESET_CONTENT=205]="RESET_CONTENT",n[n.PARTIAL_CONTENT=206]="PARTIAL_CONTENT",n[n.MULTI_STATUS=207]="MULTI_STATUS",n[n.ALREADY_REPORTED=208]="ALREADY_REPORTED",n[n.IM_USED=226]="IM_USED",n[n.MULTIPLE_CHOICES=300]="MULTIPLE_CHOICES",n[n.MOVED_PERMANENTLY=301]="MOVED_PERMANENTLY",n[n.FOUND=302]="FOUND",n[n.SEE_OTHER=303]="SEE_OTHER",n[n.NOT_MODIFIED=304]="NOT_MODIFIED",n[n.USE_PROXY=305]="USE_PROXY",n[n.SWITCH_PROXY=306]="SWITCH_PROXY",n[n.TEMPORARY_REDIRECT=307]="TEMPORARY_REDIRECT",n[n.PERMANENT_REDIRECT=308]="PERMANENT_REDIRECT",n[n.BAD_REQUEST=400]="BAD_REQUEST",n[n.UNAUTHORIZED=401]="UNAUTHORIZED",n[n.PAYMENT_REQUIRED=402]="PAYMENT_REQUIRED",n[n.FORBIDDEN=403]="FORBIDDEN",n[n.NOT_FOUND=404]="NOT_FOUND",n[n.METHOD_NOT_ALLOWED=405]="METHOD_NOT_ALLOWED",n[n.NOT_ACCEPTABLE=406]="NOT_ACCEPTABLE",n[n.PROXY_AUTHENTICATION_REQUIRED=407]="PROXY_AUTHENTICATION_REQUIRED",n[n.REQUEST_TIMEOUT=408]="REQUEST_TIMEOUT",n[n.CONFLICT=409]="CONFLICT",n[n.GONE=410]="GONE",n[n.LENGTH_REQUIRED=411]="LENGTH_REQUIRED",n[n.PRECONDITION_FAILED=412]="PRECONDITION_FAILED",n[n.PAYLOAD_TOO_LARGE=413]="PAYLOAD_TOO_LARGE",n[n.URI_TOO_LONG=414]="URI_TOO_LONG",n[n.UNSUPPORTED_MEDIA_TYPE=415]="UNSUPPORTED_MEDIA_TYPE",n[n.RANGE_NOT_SATISFIABLE=416]="RANGE_NOT_SATISFIABLE",n[n.EXPECTATION_FAILED=417]="EXPECTATION_FAILED",n[n.I_AM_A_TEAPOT=418]="I_AM_A_TEAPOT",n[n.MISDIRECTED_REQUEST=421]="MISDIRECTED_REQUEST",n[n.UNPROCESSABLE_ENTITY=422]="UNPROCESSABLE_ENTITY",n[n.LOCKED=423]="LOCKED",n[n.FAILED_DEPENDENCY=424]="FAILED_DEPENDENCY",n[n.UPGRADE_REQUIRED=426]="UPGRADE_REQUIRED",n[n.PRECONDITION_REQUIRED=428]="PRECONDITION_REQUIRED",n[n.TOO_MANY_REQUESTS=429]="TOO_MANY_REQUESTS",n[n.REQUEST_HEADER_FIELDS_TOO_LARGE=431]="REQUEST_HEADER_FIELDS_TOO_LARGE",n[n.UNAVAILABLE_FOR_LEGAL_REASONS=451]="UNAVAILABLE_FOR_LEGAL_REASONS",n[n.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",n[n.NOT_IMPLEMENTED=501]="NOT_IMPLEMENTED",n[n.BAD_GATEWAY=502]="BAD_GATEWAY",n[n.SERVICE_UNAVAILABLE=503]="SERVICE_UNAVAILABLE",n[n.GATEWAY_TIMEOUT=504]="GATEWAY_TIMEOUT",n[n.HTTP_VERSION_NOT_SUPPORTED=505]="HTTP_VERSION_NOT_SUPPORTED",n[n.VARIANT_ALSO_NEGOTIATES=506]="VARIANT_ALSO_NEGOTIATES",n[n.INSUFFICIENT_STORAGE=507]="INSUFFICIENT_STORAGE",n[n.LOOP_DETECTED=508]="LOOP_DETECTED",n[n.NOT_EXTENDED=510]="NOT_EXTENDED",n[n.NETWORK_AUTHENTICATION_REQUIRED=511]="NETWORK_AUTHENTICATION_REQUIRED";let d=null==globalThis?void 0:globalThis.fetch;void 0!==a&&(null===(s=null==a?void 0:a.versions)||void 0===s?void 0:s.node)&&(d=r(86630));class h{serialize(e){if(!e)return"";let t=[];for(let r in e)if(e.hasOwnProperty(r)&&void 0!==e[r]){let n="function"==typeof e[r].toJSON?e[r].toJSON():e[r];if(null===n){t.push(encodeURIComponent(r));continue}if(Array.isArray(n)){n.forEach(e=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(e))});continue}t.push(encodeURIComponent(r)+"="+encodeURIComponent(n))}let r=t.join("&");return r?"?".concat(r):""}createRequest(e,t){var r,n,i,s;let{url:o,method:a,timeout:h=this.timeout,query:f,headers:p={},json:m=!0}=e;return r=this,n=void 0,i=void 0,s=function*(){let e=o+this.serialize(f);p["Content-Type"]||(p["Content-Type"]="application/json");let r=new AbortController,n=setTimeout(()=>r.abort(),h);try{let n=yield d(e,{method:a,headers:p,body:JSON.stringify(t),signal:r.signal});if(void 0===n)throw Error("Response is undefined");if(n.status>=400){let t=yield n.text();throw new u("Http error response: (".concat(n.status,") ").concat(t),n.status,n.statusText,t,e)}if(m)return n.json();return n.text()}catch(t){if(t instanceof Error&&"AbortError"===t.name)throw new l(h,e);if(t instanceof u)throw t;throw new c(String(a),e,t)}finally{clearTimeout(n)}},new(i||(i=Promise))(function(e,t){function o(e){try{c(s.next(e))}catch(e){t(e)}}function a(e){try{c(s.throw(e))}catch(e){t(e)}}function c(t){var r;t.done?e(t.value):((r=t.value)instanceof i?r:new i(function(e){e(r)})).then(o,a)}c((s=s.apply(r,n||[])).next())})}constructor(e=3e4){this.timeout=e}}},23914:function(e,t,r){"use strict";r.d(t,{P$:function(){return eV}});var n,i,s,o,a=r(75410),c=r(91813),u=r(22840),l=r(23663).Buffer;let d=e=>e.reduce((e,t)=>e+t.toString(16).padStart(2,"0"),""),h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;return e.toString(16).padStart(t,"0")};(n=s||(s={})).SECRET="secret",n.RAW="raw",n.TZ1="tz1",n.BRANCH="branch",n.ZARITH="zarith",n.PUBLIC_KEY="public_key",n.PKH="pkh",n.PKH_ARR="pkhArr",n.DELEGATE="delegate",n.SCRIPT="script",n.BALLOT_STATEMENT="ballotStmt",n.PROPOSAL="proposal",n.PROPOSAL_ARR="proposalArr",n.INT32="int32",n.INT16="int16",n.PARAMETERS="parameters",n.ADDRESS="address",n.SMART_CONTRACT_ADDRESS="smart_contract_address",n.SMART_ROLLUP_ADDRESS="smart_rollup_address",n.SMART_ROLLUP_COMMITMENT_HASH="smart_rollup_commitment_hash",n.VALUE="value",n.PADDED_BYTES="padded_bytes",n.SMART_ROLLUP_MESSAGE="smart_rollup_message",n.MANAGER="manager",n.BLOCK_PAYLOAD_HASH="blockPayloadHash",n.ENTRYPOINT="entrypoint",n.OPERATION="operation",n.OP_ACTIVATE_ACCOUNT="activate_account",n.OP_DELEGATION="delegation",n.OP_TRANSACTION="transaction",n.OP_ORIGINATION="origination",n.OP_BALLOT="ballot",n.OP_FAILING_NOOP="failing_noop",n.OP_ATTESTATION="attestation",n.OP_ENDORSEMENT="endorsement",n.OP_SEED_NONCE_REVELATION="seed_nonce_revelation",n.OP_REVEAL="reveal",n.OP_PROPOSALS="proposals",n.OP_REGISTER_GLOBAL_CONSTANT="register_global_constant",n.OP_TRANSFER_TICKET="transfer_ticket",n.BURN_LIMIT="burn_limit",n.OP_INCREASE_PAID_STORAGE="increase_paid_storage",n.OP_UPDATE_CONSENSUS_KEY="update_consensus_key",n.OP_DRAIN_DELEGATE="drain_delegate",n.DEPOSITS_LIMIT="deposits_limit",n.OP_SET_DEPOSITS_LIMIT="set_deposits_limit",n.OP_SMART_ROLLUP_ORIGINATE="smart_rollup_originate",n.PVM_KIND="pvm_kind",n.OP_SMART_ROLLUP_ADD_MESSAGES="smart_rollup_add_messages",n.OP_SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE="smart_rollup_execute_outbox_message";let f={"00":"parameter","01":"storage","02":"code","03":"False","04":"Elt","05":"Left","06":"None","07":"Pair","08":"Right","09":"Some","0a":"True","0b":"Unit","0c":"PACK","0d":"UNPACK","0e":"BLAKE2B","0f":"SHA256",10:"SHA512",11:"ABS",12:"ADD",13:"AMOUNT",14:"AND",15:"BALANCE",16:"CAR",17:"CDR",18:"CHECK_SIGNATURE",19:"COMPARE","1a":"CONCAT","1b":"CONS","1c":"CREATE_ACCOUNT","1d":"CREATE_CONTRACT","1e":"IMPLICIT_ACCOUNT","1f":"DIP",20:"DROP",21:"DUP",22:"EDIV",23:"EMPTY_MAP",24:"EMPTY_SET",25:"EQ",26:"EXEC",27:"FAILWITH",28:"GE",29:"GET","2a":"GT","2b":"HASH_KEY","2c":"IF","2d":"IF_CONS","2e":"IF_LEFT","2f":"IF_NONE",30:"INT",31:"LAMBDA",32:"LE",33:"LEFT",34:"LOOP",35:"LSL",36:"LSR",37:"LT",38:"MAP",39:"MEM","3a":"MUL","3b":"NEG","3c":"NEQ","3d":"NIL","3e":"NONE","3f":"NOT",40:"NOW",41:"OR",42:"PAIR",43:"PUSH",44:"RIGHT",45:"SIZE",46:"SOME",47:"SOURCE",48:"SENDER",49:"SELF","4a":"STEPS_TO_QUOTA","4b":"SUB","4c":"SWAP","4d":"TRANSFER_TOKENS","4e":"SET_DELEGATE","4f":"UNIT",50:"UPDATE",51:"XOR",52:"ITER",53:"LOOP_LEFT",54:"ADDRESS",55:"CONTRACT",56:"ISNAT",57:"CAST",58:"RENAME",59:"bool","5a":"contract","5b":"int","5c":"key","5d":"key_hash","5e":"lambda","5f":"list",60:"map",61:"big_map",62:"nat",63:"option",64:"or",65:"pair",66:"set",67:"signature",68:"string",69:"bytes","6a":"mutez","6b":"timestamp","6c":"unit","6d":"operation","6e":"address","6f":"SLICE",70:"DIG",71:"DUG",72:"EMPTY_BIG_MAP",73:"APPLY",74:"chain_id",75:"CHAIN_ID",76:"LEVEL",77:"SELF_ADDRESS",78:"never",79:"NEVER","7a":"UNPAIR","7b":"VOTING_POWER","7c":"TOTAL_VOTING_POWER","7d":"KECCAK","7e":"SHA3","7f":"PAIRING_CHECK",80:"bls12_381_g1",81:"bls12_381_g2",82:"bls12_381_fr",83:"sapling_state",84:"sapling_transaction_deprecated",85:"SAPLING_EMPTY_STATE",86:"SAPLING_VERIFY_UPDATE",87:"ticket",88:"TICKET_DEPRECATED",89:"READ_TICKET","8a":"SPLIT_TICKET","8b":"JOIN_TICKETS","8c":"GET_AND_UPDATE","8d":"chest","8e":"chest_key","8f":"OPEN_CHEST",90:"VIEW",91:"view",92:"constant",93:"SUB_MUTEZ",94:"tx_rollup_l2_address",95:"MIN_BLOCK_TIME",96:"sapling_transaction",97:"EMIT",98:"Lambda_rec",99:"LAMBDA_REC","9a":"TICKET","9b":"BYTES","9c":"NAT"},p=(()=>{let e={};return Object.keys(f).forEach(t=>{e[f[t]]=t}),e})(),m={4:"activate_account",107:"reveal",110:"delegation",108:"transaction",109:"origination",6:"ballot",21:"attestation",1:"seed_nonce_revelation",5:"proposals",111:"register_global_constant",158:"transfer_ticket",112:"set_deposits_limit",113:"increase_paid_storage",114:"update_consensus_key",9:"drain_delegate",200:"smart_rollup_originate",201:"smart_rollup_add_messages",206:"smart_rollup_execute_outbox_message",17:"failing_noop"},g=(()=>{let e={};return Object.keys(m).forEach(t=>{let r="string"==typeof t?parseInt(t,10):t;e[m[r]]=h(r,2)}),e})(),v={"00":"default","01":"root","02":"do","03":"set_delegate","04":"remove_delegate","05":"deposit","06":"stake","07":"unstake","08":"finalize_unstake","09":"set_delegate_parameters"},b=(()=>{let e={};return Object.keys(v).forEach(t=>{e[v[t]]=t}),e})();class y extends c.Yy{constructor(e,t){super(),this.operation=e,this.errorDetail=t,this.name="InvalidOperationSchemaError",this.message="Invalid operation content recevied",t&&(this.message+=" ".concat(t,"."))}}class w extends c.Yy{constructor(e){super(),this.entrypoint=e,this.name="OversizedEntryPointError",this.message='Invalid entrypoint length "'.concat(e.length,'", maximum length is "').concat(31,'".')}}class E extends c.Yy{constructor(e){super(),this.ballotValue=e,this.name="InvalidBallotValueError",this.message='Invalid ballot value "'.concat(e,'" expecting one of the following: "yay", "nay", "pass".')}}class _ extends c.Yy{constructor(e){super(),this.ballotValue=e,this.name="DecodeBallotValueError",this.message='Invalid ballot value "'.concat(e,'", cannot be decoded.')}}class S extends c.Yy{constructor(e){super(),this.value=e,this.name="UnexpectedMichelsonValueError",this.message='Invalid Michelson value "'.concat(e,'", unalbe to encode.')}}class A extends c.Yy{constructor(e){super(),this.message=e,this.name="OperationDecodingError"}}class T extends c.Yy{constructor(e){super(),this.message=e,this.name="OperationEncodingError"}}class x extends c.Yy{constructor(e){super(),this.op=e,this.name="UnsupportedOperationError",this.message='Unsupported operation "'.concat(e,'", can submit an issue on our github for feature request.')}}class I extends c.Yy{constructor(e){super(),this.pvm=e,this.name="UnsupportedPvmKindError",this.message='Invalid Pvm kind "'.concat(e,'" expecting either "arith" or "wasm_2_0_0".')}}class R extends c.Yy{constructor(e){super(),this.pvm=e,this.name="DecodePvmKindError",this.message='Invalid Pvm kind "'.concat(e,'", cannot be decoded.')}}class O extends c.Yy{constructor(e,t){super(),this.address=e,this.errorDetail=t,this.name="InvalidSmartRollupAddress",this.message='Invalid smart rollup address "'.concat(e,'"'),t&&(this.message+=" ".concat(t,"."))}}class P extends c.Yy{constructor(e,t){super(),this.hash=e,this.errorDetail=t,this.name="InvalidSmartRollupCommitmentHashError",this.message='Invalid smart rollup commitment hash "'.concat(e,'"'),t&&(this.message+=" ".concat(t,"."))}}class k{static fromHexString(e){let t=e.toLowerCase();if(/^(([a-f]|\d){2})*$/.test(t))return new k(new Uint8Array((t.match(/([a-z]|\d){2}/g)||[]).map(e=>parseInt(e,16))));throw new c.mu(t)}consume(e){let t=this.arr.subarray(this.offset,this.offset+e);return this.offset+=e,t}get(e){return this.arr[this.offset+e]}length(){return this.arr.length-this.offset}slice(e,t){return new k(this.arr.slice(e,t))}constructor(e,t=0){this.arr=e,this.offset=t}}let N=e=>"prim"in e,C=e=>"bytes"in e&&"string"==typeof e.bytes,M=e=>"string"in e&&"string"==typeof e.string,L=e=>"int"in e&&"string"==typeof e.int,B=e=>{if(Array.isArray(e)){let t=e.map(e=>B(e)).join(""),r=t.length/2;return"02".concat(h(r)).concat(t)}if(N(e))return W(e);if(C(e))return j(e);if(M(e))return q(e);if(L(e))return z(e);throw new S(JSON.stringify(e))},D=e=>{let t=e.consume(1);switch(t[0]){case 10:return F(e);case 1:return G(e);case 0:return K(e);case 2:{let t=new k(U(e)),r=[];for(;t.length()>0;)r.push(D(t));return r}default:return V(e,t)}},U=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,r=e.consume(t),n=parseInt(l.from(r).toString("hex"),16);return e.consume(n)},H=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,r=[],n=e;for(;n.length();){let e=n.consume(t),i=parseInt(l.from(e).toString("hex"),16);r.push(n.consume(i)),n=n.slice(i+t)}return r},j=e=>{if(!/^([A-Fa-f0-9]{2})*$/.test(e.bytes))throw new c.mu(e.bytes);let t=e.bytes.length/2;return"0a".concat(h(t)).concat(e.bytes)},F=e=>{let t=U(e);return{bytes:l.from(t).toString("hex")}},q=e=>{let t=l.from(e.string,"utf8").toString("hex"),r=t.length/2;return"01".concat(h(r)).concat(t)},G=e=>{let t=U(e);return{string:l.from(t).toString("utf8")}},z=e=>{let{int:t}=e,r=new u.O(t,10),n="-"===r.toString(2)[0]?"1":"0",i=r.toString(2).replace(/-/g,""),s=i.length<=6?6:(i.length-6)%7?i.length+7-(i.length-6)%7:i.length,o=i.padStart(s,"0").match(/\d{6,7}/g).reverse();o[0]=n+o[0];let a=o.map((e,t)=>parseInt((t===o.length-1?"0":"1")+e,2).toString(16).padStart(2,"0"));return"00".concat(a.join(""))},K=e=>{let t=e.consume(1)[0],r=[];for(;128&t;)r.push(t),t=e.consume(1)[0];r.push(t);let n=!!(64&r[0]);r[0]=127&r[0];let i=r.map((e,t)=>e.toString(2).slice(0===t?-6:-7).padStart(0===t?6:7,"0")).reverse(),s=new u.O(i.join(""),2);return n&&(s=s.times(-1)),{int:s.toFixed()}},W=e=>{let t=+Array.isArray(e.annots),r=Array.isArray(e.args)?e.args.length:0,n=h(Math.min(2*r+t+3,9),2),i=p[e.prim],s=(e.args||[]).map(e=>B(e)).join(""),o=Array.isArray(e.annots)?Q(e.annots):"";return("LAMBDA"===e.prim||"LAMBDA_REC"===e.prim)&&r&&(s=h(s.length/2)+s+h(0)),("pair"===e.prim||"Pair"===e.prim)&&r>2&&(s=""===o?h(s.length/2)+s+h(0):h(s.length/2)+s),"view"===e.prim&&e.args&&(s=h(s.length/2)+s+h(0)),"".concat(n).concat(i).concat(s).concat(o)},V=(e,t)=>{let r,n;let i=(t[0]-3)%2==1,s=Math.floor((t[0]-3)/2),o=e.consume(1)[0].toString(16).padStart(2,"0"),a={prim:f[o]};if(("LAMBDA"===f[o]||"LAMBDA_REC"===f[o])&&e.consume(4),"view"===f[o])return 0!=s?J(e,a):a;("pair"===f[o]||"Pair"===f[o])&&s>2&&(r=Z(e),s=0,n=X(e));let c=Array(s).fill(0).map(()=>D(e));return("LAMBDA"===f[o]||"LAMBDA_REC"===f[o])&&e.consume(4),r?a.args=r:c.length&&(a.args=c),n&&""!==n[0]?a.annots=n:i&&(a.annots=X(e)),a},J=(e,t)=>(e.consume(4),t.args=[,,,,].fill(0).map(()=>D(e)),e.consume(4),t),Z=e=>{let t=new k(U(e)),r=[];for(;t.length()>0;)r.push(D(t));return r},Q=e=>{let t=e.map(e=>l.from(e,"utf8").toString("hex")).join("20"),r=t.length/2;return"".concat(h(r)).concat(t)},X=e=>{let t=e.consume(4),r=parseInt(l.from(t).toString("hex"),16),n=e.consume(r);return l.from(n).toString("hex").split("20").map(e=>l.from(e,"hex").toString("utf8"))},Y=e=>t=>(0,a.Cw)(l.from((0,a.sA)(t,a.O4[e]))),$=e=>t=>{let r=t.consume(a.r9[e]);return(0,a.kM)(r,a.O4[e])},ee=$(a.oT.TZ1),et=$(a.oT.B),er=e=>{let t=e.consume(1);return 0===t[0]?$(a.oT.TZ1)(e):1===t[0]?$(a.oT.TZ2)(e):2===t[0]?$(a.oT.TZ3)(e):void 0},en=Y(a.oT.B),ei=Y(a.oT.TZ1),es=e=>e?"ff":"00",eo=e=>Y(a.oT.P)(e),ea=e=>$(a.oT.P)(e),ec=e=>255===e.consume(1)[0],eu=e=>{switch(e.substring(0,3)){case a.oT.TZ1:return"00"+Y(a.oT.TZ1)(e);case a.oT.TZ2:return"01"+Y(a.oT.TZ2)(e);case a.oT.TZ3:return"02"+Y(a.oT.TZ3)(e);case a.oT.TZ4:return"03"+Y(a.oT.TZ4)(e);default:throw new a.Wo(e,(0,a.f4)(a.nd.NO_PREFIX_MATCHED)+' expecting one for the following "'.concat(a.oT.TZ1,'", "').concat(a.oT.TZ2,'", "').concat(a.oT.TZ3,'" or "').concat(a.oT.TZ4,'".'))}},el=e=>{let t=[],r=new u.Z(e,10);if(r.isNaN())throw TypeError("Invalid zarith number ".concat(e));for(;;){if(r.lt(128)){r.lt(16)&&t.push("0"),t.push(r.toString(16));break}{let e=r.mod(128);r=(r=r.minus(e)).dividedBy(128),e=e.plus(128),t.push(e.toString(16))}}return t.join("")},ed=e=>{let t=0;for(;t<e.length()&&(128&e.get(t))!=0;)t+=1;let r=new u.Z(0);for(let n=t;n>=0;n-=1){let t=127&e.get(n);r=(r=r.multipliedBy(128)).plus(t)}return e.consume(t+1),new u.Z(r).toString()},eh=e=>{let t=h(e.consume(1)[0],2);if(t in v)return v[t];{let t=U(e,1),r=l.from(t).toString("utf8");if(r.length>31)throw new w(r);return r}},ef=e=>{if(e in b)return"".concat(b[e]);if(e.length>31)throw new w(e);return"ff".concat(B({string:e}).slice(8))},ep=Y(a.oT.VH),em=$(a.oT.VH),eg={branch:s.BRANCH,contents:[s.OPERATION]},ev={pkh:s.TZ1,secret:s.SECRET},eb={source:s.PKH,fee:s.ZARITH,counter:s.ZARITH,gas_limit:s.ZARITH,storage_limit:s.ZARITH,public_key:s.PUBLIC_KEY},ey={source:s.PKH,fee:s.ZARITH,counter:s.ZARITH,gas_limit:s.ZARITH,storage_limit:s.ZARITH,delegate:s.DELEGATE},ew={source:s.PKH,fee:s.ZARITH,counter:s.ZARITH,gas_limit:s.ZARITH,storage_limit:s.ZARITH,amount:s.ZARITH,destination:s.ADDRESS,parameters:s.PARAMETERS},eE={source:s.PKH,fee:s.ZARITH,counter:s.ZARITH,gas_limit:s.ZARITH,storage_limit:s.ZARITH,balance:s.ZARITH,delegate:s.DELEGATE,script:s.SCRIPT},e_={source:s.PKH,period:s.INT32,proposal:s.PROPOSAL,ballot:s.BALLOT_STATEMENT},eS={slot:s.INT16,level:s.INT32,round:s.INT32,block_payload_hash:s.BLOCK_PAYLOAD_HASH},eA={slot:s.INT16,level:s.INT32,round:s.INT32,block_payload_hash:s.BLOCK_PAYLOAD_HASH},eT={level:s.INT32,nonce:s.RAW},ex={source:s.PKH,period:s.INT32,proposals:s.PROPOSAL_ARR},eI={source:s.PKH,fee:s.ZARITH,counter:s.ZARITH,gas_limit:s.ZARITH,storage_limit:s.ZARITH,value:s.VALUE},eR={source:s.PKH,fee:s.ZARITH,counter:s.ZARITH,gas_limit:s.ZARITH,storage_limit:s.ZARITH,ticket_contents:s.VALUE,ticket_ty:s.VALUE,ticket_ticketer:s.ADDRESS,ticket_amount:s.ZARITH,destination:s.ADDRESS,entrypoint:s.ENTRYPOINT},eO={source:s.PKH,fee:s.ZARITH,counter:s.ZARITH,gas_limit:s.ZARITH,storage_limit:s.ZARITH,amount:s.ZARITH,destination:s.SMART_CONTRACT_ADDRESS},eP={source:s.PKH,fee:s.ZARITH,counter:s.ZARITH,gas_limit:s.ZARITH,storage_limit:s.ZARITH,pk:s.PUBLIC_KEY},ek={consensus_key:s.PKH,delegate:s.PKH,destination:s.PKH},eN={source:s.PKH,fee:s.ZARITH,counter:s.ZARITH,gas_limit:s.ZARITH,storage_limit:s.ZARITH,limit:s.DEPOSITS_LIMIT},eC={source:s.PKH,fee:s.ZARITH,counter:s.ZARITH,gas_limit:s.ZARITH,storage_limit:s.ZARITH,pvm_kind:s.PVM_KIND,kernel:s.PADDED_BYTES,parameters_ty:s.VALUE,whitelist:s.PKH_ARR},eM={source:s.PKH,fee:s.ZARITH,counter:s.ZARITH,gas_limit:s.ZARITH,storage_limit:s.ZARITH,message:s.SMART_ROLLUP_MESSAGE},eL={source:s.PKH,fee:s.ZARITH,counter:s.ZARITH,gas_limit:s.ZARITH,storage_limit:s.ZARITH,rollup:s.SMART_ROLLUP_ADDRESS,cemented_commitment:s.SMART_ROLLUP_COMMITMENT_HASH,output_proof:s.PADDED_BYTES},eB={arbitrary:s.PADDED_BYTES},eD=e=>t=>r=>Object.keys(t).reduce((n,i)=>{let s=t[i];if(!(r&&Array.isArray(s)))return n+(0,e[s])(r[i]);{let t=e[s[0]],o=r[i];if(!Array.isArray(o))throw new T('Invalid operation value "'.concat(JSON.stringify(o),'" of key "').concat(i,", expected value to be Array."));return n+o.reduce((e,r)=>e+t(r),"")}},""),eU=e=>t=>r=>Object.keys(t).reduce((n,i)=>{let s=t[i];if(Array.isArray(s)){let t=e[s[0]],o=[],a=r.length();for(;r.length()>0;)if(o.push(t(r)),a===r.length())throw new A("Unable to decode value");return Object.assign(Object.assign({},n),{[i]:o})}{let t=(0,e[s])(r);return void 0!==t?Object.assign(Object.assign({},n),{[i]:t}):Object.assign({},n)}},{}),eH={[s.SECRET]:e=>d(e.consume(20)),[s.RAW]:e=>d(e.consume(32)),[s.TZ1]:ee,[s.BRANCH]:et,[s.ZARITH]:ed,[s.PUBLIC_KEY]:e=>{switch(e.consume(1)[0]){case 0:return $(a.oT.EDPK)(e);case 1:return $(a.oT.SPPK)(e);case 2:return $(a.oT.P2PK)(e);default:throw new a.$$(e.toString(),(0,a.f4)(a.nd.NO_PREFIX_MATCHED))}},[s.PKH]:er,[s.PKH_ARR]:e=>{if(!ec(e))return;let t=[];for(e.consume(4);e.length()>0;)t.push(er(e));return t},[s.DELEGATE]:e=>{if(ec(e))return er(e)},[s.INT32]:e=>{let t=e.consume(4),r=0;for(let e=0;e<t.length;e++)r|=t[e]<<(t.length-(e+1))*8;return r},[s.SCRIPT]:e=>{let t=U(e),r=U(e);return{code:D(new k(t)),storage:D(new k(r))}},[s.BALLOT_STATEMENT]:e=>{let t=e.consume(1);switch(t[0]){case 0:return"yay";case 1:return"nay";case 2:return"pass";default:throw new _(t[0].toString())}},[s.PROPOSAL]:ea,[s.PROPOSAL_ARR]:e=>{let t=[];for(e.consume(4);e.length()>0;)t.push(ea(e));return t},[s.PARAMETERS]:e=>{if(0!==e.consume(1)[0])return{entrypoint:eh(e),value:D(new k(U(e)))}},[s.ADDRESS]:e=>{switch(e.consume(1)[0]){case 0:return er(e);case 1:{let t=$(a.oT.KT1)(e);return e.consume(1),t}default:throw new c.bS(e.toString(),": Unable to decode.")}},[s.SMART_ROLLUP_ADDRESS]:e=>{let t=$(a.oT.SR1)(e);if(t.substring(0,3)!==a.oT.SR1)throw new O(t,(0,a.f4)(a.nd.NO_PREFIX_MATCHED)+" expecting prefix '".concat(a.oT.SR1,"'."));return t},[s.SMART_CONTRACT_ADDRESS]:e=>{if(1===e.consume(1)[0]){let t=$(a.oT.KT1)(e);return e.consume(1),t}throw new c.JH(e.toString(),(0,a.f4)(a.nd.NO_PREFIX_MATCHED))},[s.SMART_ROLLUP_COMMITMENT_HASH]:e=>{let t=$(a.oT.SRC1)(e);if(t.substring(0,4)!==a.oT.SRC1)throw new P(t,(0,a.f4)(a.nd.NO_PREFIX_MATCHED)+" expecting prefix '".concat(a.oT.SRC1,"'"));return t},[s.VALUE]:e=>D(new k(U(e))),[s.INT16]:e=>{let t=e.consume(2),r=0;for(let e=0;e<t.length;e++)r|=t[e]<<(t.length-(e+1))*8;return r},[s.BLOCK_PAYLOAD_HASH]:em,[s.ENTRYPOINT]:e=>{let t=U(e);return l.from(t).toString("utf8")},[s.BURN_LIMIT]:e=>{let t=e.consume(1);if("00"!==l.from(t).toString("hex"))return ed(e)},[s.DEPOSITS_LIMIT]:e=>{let t=e.consume(1);if("00"!==l.from(t).toString("hex"))return ed(e)},[s.PVM_KIND]:e=>{let t=e.consume(1);switch(t[0]){case 0:return"arith";case 1:return"wasm_2_0_0";case 2:return"riscv";default:throw new R(t[0].toString())}},[s.PADDED_BYTES]:e=>{let t=U(e);return l.from(t).toString("hex")},[s.SMART_ROLLUP_MESSAGE]:e=>H(new k(U(e))).map(e=>l.from(e).toString("hex"))};eH[s.OPERATION]=e=>{let t=e.consume(1),r=m[t[0]];if(void 0===r)throw new x(t[0].toString());let n=eH[r](e);if("object"!=typeof n)throw new A("Invalid operation, cannot be decoded.");return Object.assign({kind:r},n)},eH[s.OP_ACTIVATE_ACCOUNT]=e=>eU(eH)(ev)(e),eH[s.OP_FAILING_NOOP]=e=>eU(eH)(eB)(e),eH[s.OP_DELEGATION]=e=>eU(eH)(ey)(e),eH[s.OP_TRANSACTION]=e=>eU(eH)(ew)(e),eH[s.OP_ORIGINATION]=e=>eU(eH)(eE)(e),eH[s.OP_BALLOT]=e=>eU(eH)(e_)(e),eH[s.OP_ATTESTATION]=e=>eU(eH)(eS)(e),eH[s.OP_ENDORSEMENT]=e=>eU(eH)(eA)(e),eH[s.OP_SEED_NONCE_REVELATION]=e=>eU(eH)(eT)(e),eH[s.OP_PROPOSALS]=e=>eU(eH)(ex)(e),eH[s.OP_REVEAL]=e=>eU(eH)(eb)(e),eH[s.OP_REGISTER_GLOBAL_CONSTANT]=e=>eU(eH)(eI)(e),eH[s.OP_TRANSFER_TICKET]=e=>eU(eH)(eR)(e),eH[s.OP_INCREASE_PAID_STORAGE]=e=>eU(eH)(eO)(e),eH[s.OP_UPDATE_CONSENSUS_KEY]=e=>eU(eH)(eP)(e),eH[s.OP_DRAIN_DELEGATE]=e=>eU(eH)(ek)(e),eH[s.OP_SMART_ROLLUP_ORIGINATE]=e=>eU(eH)(eC)(e),eH[s.OP_SMART_ROLLUP_ADD_MESSAGES]=e=>eU(eH)(eM)(e),eH[s.OP_SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE]=e=>eU(eH)(eL)(e),eH[s.MANAGER]=eU(eH)(eg),eH[s.OP_SET_DEPOSITS_LIMIT]=e=>eU(eH)(eN)(e);let ej={[s.SECRET]:e=>e,[s.RAW]:e=>e,[s.TZ1]:ei,[s.BRANCH]:en,[s.ZARITH]:el,[s.PUBLIC_KEY]:e=>{switch(e.substring(0,4)){case a.oT.EDPK:return"00"+Y(a.oT.EDPK)(e);case a.oT.SPPK:return"01"+Y(a.oT.SPPK)(e);case a.oT.P2PK:return"02"+Y(a.oT.P2PK)(e);default:throw new a.$$(e,(0,a.f4)(a.nd.NO_PREFIX_MATCHED)+" expecting one of the following '".concat(a.oT.EDPK,"', '").concat(a.oT.SPPK,"', '").concat(a.oT.P2PK,"' or '").concat(a.oT.BLPK,"'."))}},[s.PKH]:eu,[s.PKH_ARR]:e=>{if(!e)return es(!1);if(0===e.length)return es(!0)+h(0);let t=e.reduce((e,t)=>e+eu(t),"");return es(!0)+h(t.length/2)+t},[s.DELEGATE]:e=>e?es(!0)+eu(e):es(!1),[s.SCRIPT]:e=>{let t=B(e.code),r=B(e.storage);return"".concat(h(t.length/2,8)).concat(t).concat(h(r.length/2,8)).concat(r)},[s.BALLOT_STATEMENT]:e=>{switch(e){case"yay":return"00";case"nay":return"01";case"pass":return"02";default:throw new E(e)}},[s.PROPOSAL]:eo,[s.PROPOSAL_ARR]:e=>h(32*e.length)+e.map(e=>eo(e)).join(""),[s.INT32]:e=>{let t=parseInt(String(e),10),r=[];for(let e=0;e<4;e++){let n=(4-(e+1))*8;r.push((t&255<<n)>>n)}return l.from(r).toString("hex")},[s.PARAMETERS]:e=>{if(!e||"default"===e.entrypoint&&"prim"in e.value&&"Unit"===e.value.prim)return"00";let t=ef(e.entrypoint),r=B(e.value),n=(r.length/2).toString(16).padStart(8,"0");return"ff".concat(t).concat(n).concat(r)},[s.ADDRESS]:e=>{switch(e.substring(0,3)){case a.oT.TZ1:case a.oT.TZ2:case a.oT.TZ3:case a.oT.TZ4:return"00"+eu(e);case a.oT.KT1:return"01"+Y(a.oT.KT1)(e)+"00";default:throw new c.bS(e,(0,a.f4)(a.nd.NO_PREFIX_MATCHED)+" expecting one of the following prefix '".concat(a.oT.TZ1,"', ").concat(a.oT.TZ2,"', '").concat(a.oT.TZ3,"', '").concat(a.oT.TZ4,"' or '").concat(a.oT.KT1,"'."))}},[s.SMART_ROLLUP_ADDRESS]:e=>{if(e.substring(0,3)!==a.oT.SR1)throw new O(e,(0,a.f4)(a.nd.NO_PREFIX_MATCHED)+" expecting prefix '".concat(a.oT.SR1,"'."));return Y(a.oT.SR1)(e)},[s.SMART_CONTRACT_ADDRESS]:e=>{if(e.substring(0,3)===a.oT.KT1)return"01"+Y(a.oT.KT1)(e)+"00";throw new c.JH(e,(0,a.f4)(a.nd.NO_PREFIX_MATCHED)+" expecting prefix '".concat(a.oT.KT1,"'."))},[s.SMART_ROLLUP_COMMITMENT_HASH]:e=>{if(e.substring(0,4)===a.oT.SRC1)return Y(a.oT.SRC1)(e);throw new P(e,(0,a.f4)(a.nd.NO_PREFIX_MATCHED)+" expecting prefix '".concat(a.oT.SRC1,"'"))},[s.VALUE]:e=>{let t=B(e);return"".concat(h(t.length/2)).concat(t)},[s.INT16]:e=>{let t=parseInt(String(e),10),r=[];for(let e=0;e<2;e++){let n=(2-(e+1))*8;r.push((t&255<<n)>>n)}return l.from(r).toString("hex")},[s.BLOCK_PAYLOAD_HASH]:ep,[s.ENTRYPOINT]:e=>"".concat(B({string:e}).slice(2)),[s.BURN_LIMIT]:e=>e?"ff".concat(el(e)):"00",[s.DEPOSITS_LIMIT]:e=>e?"ff".concat(el(e)):"00",[s.PVM_KIND]:e=>{switch(e){case"arith":return"00";case"wasm_2_0_0":return"01";case"riscv":return"02";default:throw new I(e)}},[s.PADDED_BYTES]:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;return"".concat(h(e.length/2,t)).concat(e)},[s.SMART_ROLLUP_MESSAGE]:e=>{let t=e.reduce((e,t)=>e+"".concat(h(t.length/2)).concat(t),"");return"".concat(h(t.length/2)).concat(t)}};ej[s.OPERATION]=e=>{if(!(e.kind in ej)||!(e.kind in g))throw new c.p(e.kind);return g[e.kind]+ej[e.kind](e)},ej[s.OP_ACTIVATE_ACCOUNT]=e=>eD(ej)(ev)(e),ej[s.OP_DELEGATION]=e=>eD(ej)(ey)(e),ej[s.OP_TRANSACTION]=e=>eD(ej)(ew)(e),ej[s.OP_ORIGINATION]=e=>eD(ej)(eE)(e),ej[s.OP_BALLOT]=e=>eD(ej)(e_)(e),ej[s.OP_ATTESTATION]=e=>eD(ej)(eS)(e),ej[s.OP_ENDORSEMENT]=e=>eD(ej)(eA)(e),ej[s.OP_SEED_NONCE_REVELATION]=e=>eD(ej)(eT)(e),ej[s.OP_PROPOSALS]=e=>eD(ej)(ex)(e),ej[s.OP_REVEAL]=e=>eD(ej)(eb)(e),ej[s.OP_REGISTER_GLOBAL_CONSTANT]=e=>eD(ej)(eI)(e),ej[s.OP_TRANSFER_TICKET]=e=>eD(ej)(eR)(e),ej[s.OP_INCREASE_PAID_STORAGE]=e=>eD(ej)(eO)(e),ej[s.OP_UPDATE_CONSENSUS_KEY]=e=>eD(ej)(eP)(e),ej[s.OP_DRAIN_DELEGATE]=e=>eD(ej)(ek)(e),ej[s.OP_SMART_ROLLUP_ORIGINATE]=e=>eD(ej)(eC)(e),ej[s.OP_SMART_ROLLUP_ADD_MESSAGES]=e=>eD(ej)(eM)(e),ej[s.OP_SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE]=e=>eD(ej)(eL)(e),ej[s.MANAGER]=eD(ej)(eg),ej[s.OP_SET_DEPOSITS_LIMIT]=e=>eD(ej)(eN)(e),ej[s.OP_FAILING_NOOP]=e=>eD(ej)(eB)(e);let eF={activate_account:ev,reveal:eb,delegation:ey,transaction:ew,origination:eE,ballot:e_,attestation:eS,endorsement:eA,seed_nonce_revelation:eT,proposals:ex,register_global_constant:eI,transfer_ticket:eR,increase_paid_storage:eO,update_consensus_key:eP,drain_delegate:ek,set_deposits_limit:eN,smart_rollup_originate:eC,smart_rollup_add_messages:eM,smart_rollup_execute_outbox_message:eL,failing_noop:eB},eq=(e,t)=>t.filter(t=>!e.includes(t)),eG=(e,t)=>e.filter(e=>e!==t),ez=e=>Object.keys(eF).includes(e),eK=e=>{let t=e.kind;return eq(eG(Object.keys(e),"kind"),Object.keys(eF[t]))};(i=o||(o={})).Pt24m4xi="Pt24m4xiPbLDhVgVfABUjirbmda3yohdN82Sp9FeuAXJ4eV9otd",i.PsBABY5H="PsBABY5HQTSkA4297zNHfsZNKtxULfL18y95qb3m53QJiXGmrbU",i.PsBabyM1="PsBabyM1eUXZseaJdmXFApDSBqj8YBfwELoxZHHW77EMcAbbwAS",i.PsCARTHA="PsCARTHAGazKbHtnKfLzQg3kms52kSRpgnDY982a9oYsSXRLQEb",i.PsDELPH1="PsDELPH1Kxsxt8f9eWbxQeRxkjfbxoqM52jvs5Y5fBxWWh4ifpo",i.PtEdo2Zk="PtEdo2ZkT9oKpimTah6x2embF25oss54njMuPzkJTEi5RqfdZFA",i.PsFLorena="PsFLorenaUUuikDWvMDr6fGBRG8kt3e3D3fHoXK1j1BFRxeSH4i",i.PtGRANADs="PtGRANADsDU8R9daYKAgWnQYAJ64omN1o3KMGVCykShA97vQbvV",i.PtHangz2="PtHangz2aRngywmSRGGvrcTyMbbdpWdpFKuS4uMWxg2RaH9i1qx",i.Psithaca2="Psithaca2MLRFYargivpo7YvUr7wUDqyxrdhC5CQq78mRvimz6A",i.PtJakart2="PtJakart2xVj7pYXJBXrqHgd82rdkLey5ZeeGwDgPp9rhQUbSqY",i.PtKathman="PtKathmankSpLLDALzWw7CGD2j2MtyveTwboEYokqUCP4a1LxMg",i.PtLimaPtL="PtLimaPtLMwfNinJi9rCfDPWea8dFgTZ1MeJ9f1m2SRic6ayiwW",i.PtMumbaii="PtMumbaiiFFEGbew1rRjzSPyzRbA51Tm3RVZL5suHPxSZYDhCEc",i.PtMumbai2="PtMumbai2TmsJHNGRkD8v8YDbtao7BLUC3wjASn1inAKLFCjaH1",i.PtNairobi="PtNairobiyssHuh87hEhfVBGCVrK3WnS8Z2FT4ymB5tAa4r1nQf",i.ProxfordY="ProxfordYmVfjWnRcgjWH36fW6PArwqykTFzotUxRs6gmTcZDuH",i.ProtoALpha="ProtoALphaALphaALphaALphaALphaALphaALphaALphaDdp3zK";let eW=o.ProxfordY;class eV{forge(e){let t=(0,a.lM)(e.branch);if(t!==a.nd.VALID)throw new c.L7(e.branch,(0,a.f4)(t));for(let t of e.contents){if(!ez(t.kind))throw new c.p(t.kind);let e=eK(t);if(1===e.length){if("delegation"===t.kind&&"delegate"===e[0]||"origination"===t.kind&&"delegate"===e[0])continue;if("transaction"===t.kind&&"parameters"===e[0])continue;if("set_deposits_limit"===t.kind&&"limit"===e[0])continue;else if("smart_rollup_originate"===t.kind&&"whitelist"===e[0])continue;else throw new y(t,'missing properties "'.concat(e.join(", "),'"'))}if(e.length>1)throw new y(t,'missing properties "'.concat(e.join(", "),'"'))}return Promise.resolve(this.codec.encoder(e).toLowerCase())}parse(e){return Promise.resolve(this.codec.decoder(e))}constructor(e=eW){var t;this.protocolHash=e,this.codec=(t=s.MANAGER,this.protocolHash,{encoder:ej[t],decoder:e=>{let r=k.fromHexString(e);return eH[t](r)}})}}new eV},33075:function(e,t,r){"use strict";r.d(t,{Q9:function(){return eX},TH:function(){return p},V_:function(){return eJ},pO:function(){return eQ},xJ:function(){return eZ}});var n,i,s=r(69739),o=r.n(s),a=r(91813),c=r(22840),u=r(75410),l=r(23663).Buffer;class d extends a.WO{constructor(e,t){super(),this.mapType=e,this.reason=t,this.message="The map type '".concat(JSON.stringify(e),"' is invalid. Reason: ").concat(t,"."),this.name="InvalidMapTypeError"}}let h=Symbol.for("taquito-michelson-map-type-symbol");class f extends a.WO{constructor(e,t,r,n){super(),this.value=e,this.type=t,this.reason=n,this.name="MapTypecheckError",this.message="The ".concat(r," provided: ").concat(JSON.stringify(e)," is not compatible with the expected michelson type: ").concat(JSON.stringify(t),". Reason: ").concat(JSON.stringify(n),"."),this.name="MapTypecheckError"}}class p{static isMichelsonMap(e){return e&&!0===e[h]}setType(e){!function(e){if(!("prim"in e))throw new d(e,"Missing 'prim' field");if(!["map","big_map"].includes(e.prim))throw new d(e,"The prim field should be 'map' or 'big_map'");if(!("args"in e))throw new d(e,"Missing 'args' field");if(!Array.isArray(e.args))throw new d(e,"The 'args' field should be an array");if(2!==e.args.length)throw new d(e,"The 'args' field should have 2 elements")}(e),this.keySchema=new eJ(e.args[0]),this.valueSchema=new eJ(e.args[1])}removeType(){this.keySchema=void 0,this.valueSchema=void 0}static fromLiteral(e,t){let r=new p(t);return Object.keys(e).forEach(t=>{r.set(t,e[t])}),r}typecheckKey(e){this.keySchema&&this.keySchema.Typecheck(e)}typecheckValue(e){this.valueSchema&&this.valueSchema.Typecheck(e)}assertTypecheckValue(e){try{this.typecheckValue(e)}catch(t){throw new f(e,this.valueSchema,"value",t)}}assertTypecheckKey(e){try{this.typecheckKey(e)}catch(t){throw new f(e,this.keySchema,"key",t)}}serializeDeterministically(e){return o()(e)}*keys(){for(let[e]of this.entries())yield e}*values(){for(let[,e]of this.entries())yield e}*entries(){for(let e of this.valueMap.keys())yield[this.keyMap.get(e),this.valueMap.get(e)]}get(e){this.assertTypecheckKey(e);let t=this.serializeDeterministically(e);return this.valueMap.get(t)}set(e,t){this.assertTypecheckKey(e),this.assertTypecheckValue(t);let r=this.serializeDeterministically(e);this.keyMap.set(r,e),this.valueMap.set(r,t)}delete(e){this.assertTypecheckKey(e),this.keyMap.delete(this.serializeDeterministically(e)),this.valueMap.delete(this.serializeDeterministically(e))}has(e){this.assertTypecheckKey(e);let t=this.serializeDeterministically(e);return this.keyMap.has(t)&&this.valueMap.has(t)}clear(){this.keyMap.clear(),this.valueMap.clear()}get size(){return this.keyMap.size}forEach(e){for(let[t,r]of this.entries())e(r,t,this)}constructor(e){this.valueMap=new Map,this.keyMap=new Map,this[n]=!0,e&&this.setType(e)}}n=h;class m extends a.WO{constructor(e,t,r){super(),this.value=e,this.token=t,this.name="TokenValidationError";let n=this.token.annot();this.message="".concat(n?"[".concat(n,"] "):"").concat(r)}}class g{typeWithoutAnnotations(){var e;let t=e=>"object"==typeof e?Array.isArray(e)?e.map(e=>t(e)):e.args?{prim:e.prim,args:e.args.map(e=>t(e))}:{prim:e.prim}:e;return(e=this.val).args?{prim:e.prim,args:e.args.map(e=>t(e))}:{prim:e.prim}}annot(){return(Array.isArray(this.val.annots)&&this.val.annots.length>0?this.val.annots[0]:String(this.idx)).replace(/(%|:)(_Liq_entry_)?/,"")}hasAnnotations(){return Array.isArray(this.val.annots)&&this.val.annots.length}get tokenVal(){return this.val}ExtractSignature(){return[[this.ExtractSchema()]]}constructor(e,t,r){this.val=e,this.idx=t,this.fac=r,this.createToken=this.fac}}class v extends g{compare(e,t){return e===t?0:e<t?-1:1}}class b extends m{constructor(e,t,r){super(e,t,r),this.value=e,this.token=t,this.name="BigMapValidationError"}}class y extends g{get ValueSchema(){return this.createToken(this.val.args[1],0)}get KeySchema(){return this.createToken(this.val.args[0],0)}ExtractSchema(){return{big_map:{key:this.KeySchema.ExtractSchema(),value:this.ValueSchema.ExtractSchema()}}}generateSchema(){return{__michelsonType:y.prim,schema:{key:this.KeySchema.generateSchema(),value:this.ValueSchema.generateSchema()}}}validate(e){if(!p.isMichelsonMap(e))throw new b(e,this,"Value ".concat(JSON.stringify(e)," is not a MichelsonMap"))}objLitToMichelsonMap(e){return e instanceof p?e:"object"==typeof e?0===Object.keys(e).length?new p:p.fromLiteral(e):e}Encode(e){let t=this.objLitToMichelsonMap(e.pop());return this.validate(t),Array.from(t.keys()).sort((e,t)=>this.KeySchema.compare(e,t)).map(e=>({prim:"Elt",args:[this.KeySchema.EncodeObject(e),this.ValueSchema.EncodeObject(t.get(e))]}))}EncodeObject(e,t){let r=this.objLitToMichelsonMap(e);return(this.validate(r),t&&t[y.prim])?t[y.prim](r,this.val):Array.from(r.keys()).sort((e,t)=>this.KeySchema.compare(e,t)).map(e=>({prim:"Elt",args:[this.KeySchema.EncodeObject(e),this.ValueSchema.EncodeObject(r.get(e))]}))}Execute(e,t){if(t&&t[y.prim])return t[y.prim](e,this.val);if(Array.isArray(e)){let t=new p(this.val);return e.forEach(e=>{t.set(this.KeySchema.ToKey(e.args[0]),this.ValueSchema.Execute(e.args[1]))}),t}if("int"in e)return e.int;throw new b(e,this,"Big map is expecting either an array (Athens) or an object with an int property (Babylon). Got ".concat(JSON.stringify(e)))}findAndReturnTokens(e,t){return y.prim===e&&t.push(this),this.KeySchema.findAndReturnTokens(e,t),this.ValueSchema.findAndReturnTokens(e,t),t}constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}}y.prim="big_map";class w extends m{constructor(e,t,r){super(e,t,r),this.value=e,this.token=t,this.name="OrValidationError"}}class E extends v{Encode(e){let t=e[e.length-1],r=this.createToken(this.val.args[0],this.idx),n=1;r instanceof E&&(n=Object.keys(r.ExtractSchema()).length);let i=this.createToken(this.val.args[1],this.idx+n);if(String(r.annot())===String(t)&&!(r instanceof E))return e.pop(),{prim:"Left",args:[r.Encode(e)]};if(String(i.annot())===String(t)&&!(i instanceof E))return e.pop(),{prim:"Right",args:[i.Encode(e)]};if(r instanceof E){let t=r.Encode(e);if(t)return{prim:"Left",args:[t]}}if(i instanceof E){let t=i.Encode(e);if(t)return{prim:"Right",args:[t]}}return null}ExtractSignature(){let e=this.createToken(this.val.args[0],this.idx),t=1;e instanceof E&&(t=Object.keys(e.ExtractSchema()).length);let r=this.createToken(this.val.args[1],this.idx+t),n=[];if(e instanceof E)n.push(...e.ExtractSignature());else for(let t of e.ExtractSignature())n.push([e.annot(),...t]);if(r instanceof E)n.push(...r.ExtractSignature());else for(let e of r.ExtractSignature())n.push([r.annot(),...e]);return n}EncodeObject(e,t){this.validateJavascriptObject(e);let r=Object.keys(e)[0],n=this.createToken(this.val.args[0],this.idx),i=1;n instanceof E&&(i=Object.keys(n.ExtractSchema()).length);let s=this.createToken(this.val.args[1],this.idx+i);if(String(n.annot())===String(r)&&!(n instanceof E))return{prim:"Left",args:[n.EncodeObject(e[r],t)]};if(String(s.annot())===String(r)&&!(s instanceof E))return{prim:"Right",args:[s.EncodeObject(e[r],t)]};if(n instanceof E){let r=n.EncodeObject(e,t);if(r)return{prim:"Left",args:[r]}}if(s instanceof E){let r=s.EncodeObject(e,t);if(r)return{prim:"Right",args:[r]}}return null}validateJavascriptObject(e){if("object"!=typeof e||Array.isArray(e)||null===e||1!==Object.keys(e).length)throw new w(e,this,"EncodeObject expects an object with a single key but got: ".concat(JSON.stringify(e)))}Execute(e,t){let r=this.createToken(this.val.args[0],this.idx),n=1;r instanceof E&&(n=Object.keys(r.ExtractSchema()).length);let i=this.createToken(this.val.args[1],this.idx+n);if("Right"===e.prim)return i instanceof E?i.Execute(e.args[0],t):{[i.annot()]:i.Execute(e.args[0],t)};if("Left"===e.prim)return r instanceof E?r.Execute(e.args[0],t):{[r.annot()]:r.Execute(e.args[0],t)};throw new w(e,this,"Was expecting Left or Right prim but got: ".concat(JSON.stringify(e.prim)))}traversal(e,t,r){let n;let i=this.createToken(this.val.args[0],this.idx),s=1;i instanceof E?(n=e(i),s=Object.keys(i.ExtractSchema()).length):n={[i.annot()]:e(i)};let o=this.createToken(this.val.args[1],this.idx+s);return r(n,o instanceof E?t(o):{[o.annot()]:t(o)})}ExtractSchema(){return this.traversal(e=>e.ExtractSchema(),e=>e.ExtractSchema(),(e,t)=>Object.assign(Object.assign({},e),t))}generateSchema(){return{__michelsonType:E.prim,schema:this.traversal(e=>e instanceof E?e.generateSchema().schema:e.generateSchema(),e=>e instanceof E?e.generateSchema().schema:e.generateSchema(),(e,t)=>Object.assign(Object.assign({},e),t))}}findToken(e){let t=this.createToken(this.val.args[0],this.idx),r=1;t instanceof E&&(r=Object.keys(t.ExtractSchema()).length);let n=this.createToken(this.val.args[1],this.idx+r);if(String(t.annot())===String(e)&&!(t instanceof E)&&t instanceof v)return t;if(String(n.annot())===String(e)&&!(n instanceof E)&&n instanceof v)return n;if(t instanceof E){let r=t.findToken(e);if(r)return r}if(n instanceof E){let t=n.findToken(e);if(t)return t}return null}compare(e,t){let r=Object.keys(e)[0];if(r!==Object.keys(t)[0])return JSON.stringify(this.EncodeObject(e))<JSON.stringify(this.EncodeObject(t))?-1:1;{let n=this.findToken(r);if(n instanceof v)return n.compare(e[r],t[r])}}ToKey(e){return this.Execute(e)}ToBigMapKey(e){return{key:this.EncodeObject(e),type:this.typeWithoutAnnotations()}}findAndReturnTokens(e,t){return E.prim===e&&t.push(this),this.traversal(r=>r.findAndReturnTokens(e,t),r=>r.findAndReturnTokens(e,t),(e,t)=>Object.assign(Object.assign({},e),t)),t}constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}}E.prim="or";class _ extends a.WO{constructor(e){super(e),this.message=e,this.name="TokenArgumentValidationError"}}class S extends a.WO{constructor(e,t){super(),this.val1=e,this.val2=t,this.name="TokenComparisonError",this.message="Tokens ".concat(JSON.stringify(e)," and ").concat(JSON.stringify(t)," are not comparable")}}function A(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T.prim;if(Array.isArray(e))return A({prim:t,args:e},t);if(void 0===e.args)throw new _("The value ".concat(JSON.stringify(e)," is an invalid PairToken with no arguments, a pair must have two or more arguments."));return e.args.length>2?[e.args[0],{prim:t,args:e.args.slice(1)}]:[e.args[0],e.args[1]]}class T extends v{args(){return A(this.val)}tokens(){let e=0;return this.args().map(t=>{let r=this.createToken(t,this.idx+e);return r instanceof T?e+=Object.keys(r.ExtractSchema()).length:e++,r})}Encode(e){return{prim:"Pair",args:this.tokens().map(t=>t.Encode(e))}}ExtractSignature(){let e=this.args(),t=this.createToken(e[0],this.idx),r=1;t instanceof E&&(r=Object.keys(t.ExtractSchema()).length);let n=this.createToken(e[1],this.idx+r),i=[];for(let e of t.ExtractSignature())for(let t of n.ExtractSignature())i.push([...e,...t]);return i}ToBigMapKey(e){return{key:this.EncodeObject(e),type:this.typeWithoutAnnotations()}}ToKey(e){return this.Execute(e)}EncodeObject(e,t){let r,n;let[i,s]=this.tokens();return r=i instanceof T&&!i.hasAnnotations()?e:e[i.annot()],n=s instanceof T&&!s.hasAnnotations()?e:e[s.annot()],{prim:"Pair",args:[i.EncodeObject(r,t),s.EncodeObject(n,t)]}}traversal(e,t){let r,n;let i=this.args(),s=this.createToken(i[0],this.idx),o=1;s instanceof T&&!s.hasAnnotations()?(r=e(s),s instanceof T&&(o=Object.keys(s.ExtractSchema()).length)):r={[s.annot()]:e(s)};let a=this.createToken(i[1],this.idx+o);return n=a instanceof T&&!a.hasAnnotations()?t(a):{[a.annot()]:t(a)},Object.assign(Object.assign({},r),n)}Execute(e,t){let r=A(e,"Pair");return this.traversal(e=>e.Execute(r[0],t),e=>e.Execute(r[1],t))}ExtractSchema(){return this.traversal(e=>e.ExtractSchema(),e=>e.ExtractSchema())}generateSchema(){return{__michelsonType:T.prim,schema:this.traversal(e=>e instanceof T&&!e.hasAnnotations()?e.generateSchema().schema:e.generateSchema(),e=>e instanceof T&&!e.hasAnnotations()?e.generateSchema().schema:e.generateSchema())}}compare(e,t){let[r,n]=this.tokens(),i=(e,t)=>e instanceof T&&!e.hasAnnotations()?t:t[e.annot()];if(r instanceof v&&n instanceof v){let s=r.compare(i(r,e),i(r,t));return 0===s?n.compare(i(n,e),i(n,t)):s}throw new S(e,t)}findAndReturnTokens(e,t){return T.prim===e&&t.push(this),this.tokens().map(r=>r.findAndReturnTokens(e,t)),t}constructor(e,t,r){super(Array.isArray(e)?{prim:T.prim,args:e}:e.prim?e:{prim:T.prim,args:e},t,r)}}T.prim="pair";class x extends m{constructor(e,t,r){super(e,t,r),this.value=e,this.token=t,this.name="NatValidationError"}}class I extends v{Execute(e){return new c.Z(e[Object.keys(e)[0]])}Encode(e){let t=e.pop();return this.validate(t),{int:new c.Z(t).toFixed()}}validate(e){let t=new c.Z(e);if(t.isNaN())throw new x(e,this,"Value is not a number: ".concat(JSON.stringify(e)));if(t.isNegative())throw new x(e,this,"Value cannot be negative: ".concat(JSON.stringify(e)))}EncodeObject(e,t){return(this.validate(e),t&&t[I.prim])?t[I.prim](e):{int:new c.Z(e).toFixed()}}ExtractSchema(){return I.prim}generateSchema(){return{__michelsonType:I.prim,schema:I.prim}}ToBigMapKey(e){return{key:{int:String(e)},type:{prim:I.prim}}}ToKey(e){let{int:t}=e;return new c.Z(t)}compare(e,t){let r=Number(e),n=Number(t);return r===n?0:r<n?-1:1}findAndReturnTokens(e,t){return I.prim===e&&t.push(this),t}constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}}I.prim="nat";class R extends v{Execute(e){return e[Object.keys(e)[0]]}ExtractSchema(){return R.prim}generateSchema(){return{__michelsonType:R.prim,schema:R.prim}}Encode(e){return{string:e.pop()}}EncodeObject(e,t){return t&&t[R.prim]?t[R.prim](e):{string:e}}ToKey(e){let{string:t}=e;return t}ToBigMapKey(e){return{key:{string:e},type:{prim:R.prim}}}findAndReturnTokens(e,t){return R.prim===e&&t.push(this),t}constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}}R.prim="string";class O extends m{constructor(e,t,r){super(e,t,r),this.value=e,this.token=t,this.name="AddressValidationError"}}class P extends v{ToBigMapKey(e){return{key:{bytes:(0,u.aZ)(e)},type:{prim:"bytes"}}}validate(e){if((0,u.YN)(e)!==u.nd.VALID)throw new O(e,this,"Address is not valid: ".concat(JSON.stringify(e)))}Encode(e){let t=e.pop();return this.validate(t),{string:t}}EncodeObject(e,t){return(this.validate(e),t&&t[P.prim])?t[P.prim](e):{string:e}}Execute(e){if(e.string)return e.string;if(!e.bytes)throw new O(e,this,"cannot be missing both string and bytes: ".concat(JSON.stringify(e)));return(0,u.mZ)(e.bytes)}ExtractSchema(){return P.prim}generateSchema(){return{__michelsonType:P.prim,schema:P.prim}}ToKey(e){let{bytes:t,string:r}=e;if(r)return r;if(!t)throw new O({bytes:t,string:r},this,"cannot be missing both string and bytes ".concat(JSON.stringify({string:r,bytes:t})));return(0,u.mZ)(t)}compare(e,t){let r=e=>e.startsWith("tz"),n=r(e),i=r(t);return n&&!i?-1:i&&!n?1:super.compare(e,t)}findAndReturnTokens(e,t){return P.prim===e&&t.push(this),t}constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}}P.prim="address";class k extends m{constructor(e,t,r){super(e,t,r),this.value=e,this.token=t,this.name="MapValidationError"}}class N extends g{get ValueSchema(){return this.createToken(this.val.args[1],0)}get KeySchema(){return this.createToken(this.val.args[0],0)}validate(e){if(!p.isMichelsonMap(e))throw new k(e,this,"Value ".concat(JSON.stringify(e)," is not a valid MichelsonMap"))}Execute(e,t){let r=new p(this.val);return e.forEach(e=>{r.set(this.KeySchema.ToKey(e.args[0]),this.ValueSchema.Execute(e.args[1],t))}),r}objLitToMichelsonMap(e){return e instanceof p?e:"object"==typeof e?0===Object.keys(e).length?new p:p.fromLiteral(e):e}Encode(e){let t=this.objLitToMichelsonMap(e.pop());return this.validate(t),Array.from(t.keys()).sort((e,t)=>this.KeySchema.compare(e,t)).map(e=>({prim:"Elt",args:[this.KeySchema.EncodeObject(e),this.ValueSchema.EncodeObject(t.get(e))]}))}EncodeObject(e,t){let r=this.objLitToMichelsonMap(e);return(this.validate(r),t&&t[N.prim])?t[N.prim](r):Array.from(r.keys()).sort((e,t)=>this.KeySchema.compare(e,t)).map(e=>({prim:"Elt",args:[this.KeySchema.EncodeObject(e),this.ValueSchema.EncodeObject(r.get(e))]}))}ExtractSchema(){return{map:{key:this.KeySchema.ExtractSchema(),value:this.ValueSchema.ExtractSchema()}}}generateSchema(){return{__michelsonType:N.prim,schema:{key:this.KeySchema.generateSchema(),value:this.ValueSchema.generateSchema()}}}findAndReturnTokens(e,t){return N.prim===e&&t.push(this),this.KeySchema.findAndReturnTokens(e,t),this.ValueSchema.findAndReturnTokens(e,t),t}constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}}N.prim="map";class C extends v{Execute(e){return"true"===String(e.prim).toLowerCase()}Encode(e){return{prim:e.pop()?"True":"False"}}EncodeObject(e,t){return t&&t[C.prim]?t[C.prim](e):{prim:e?"True":"False"}}ExtractSchema(){return C.prim}generateSchema(){return{__michelsonType:C.prim,schema:C.prim}}ToBigMapKey(e){return{key:this.EncodeObject(e),type:{prim:C.prim}}}ToKey(e){return this.EncodeObject(e)}compare(e,t){return e&&t||!e&&!t?0:e?1:-1}findAndReturnTokens(e,t){return C.prim===e&&t.push(this),t}constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}}C.prim="bool";class M extends m{constructor(e,t,r){super(e,t,r),this.value=e,this.token=t,this.name="ContractValidationError"}}class L extends g{validate(e){if((0,u.YN)(e)!==u.nd.VALID)throw new M(e,this,"Value ".concat(JSON.stringify(e)," is not a valid contract address."));return null}Execute(e){if(e.string)return e.string;if(!e.bytes)throw new M(e,this,"Value ".concat(JSON.stringify(e)," is not a valid contract address. must contain bytes or string."));return(0,u.mZ)(e.bytes)}Encode(e){let t=e.pop();return this.validate(t),{string:t}}EncodeObject(e,t){return(this.validate(e),t&&t[L.prim])?t[L.prim](e):{string:e}}ExtractSchema(){return L.prim}generateSchema(){let e=this.createToken(this.val.args[0],0);return{__michelsonType:L.prim,schema:{parameter:this.val.args[0]?e.generateSchema():{}}}}findAndReturnTokens(e,t){return L.prim===e&&t.push(this),t}constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}}L.prim="contract";class B extends m{constructor(e,t,r){super(e,t,r),this.value=e,this.token=t,this.name="ListValidationError"}}class D extends g{get valueSchema(){return this.createToken(this.val.args[0],this.idx)}validate(e){if(!Array.isArray(e))throw new B(e,this,"Value ".concat(JSON.stringify(e)," is not a valid array"))}Encode(e){let t=e.pop();this.validate(t);let r=this.createToken(this.val.args[0],0);return t.reduce((e,t)=>[...e,r.EncodeObject(t)],[])}Execute(e,t){let r=this.createToken(this.val.args[0],0);return this.validate(e),e.reduce((e,n)=>[...e,r.Execute(n,t)],[])}EncodeObject(e,t){let r=this.createToken(this.val.args[0],0);return(this.validate(e),t&&t[D.prim])?t[D.prim](e):e.reduce((e,t)=>[...e,r.EncodeObject(t)],[])}ExtractSchema(){return{[D.prim]:this.valueSchema.ExtractSchema()}}generateSchema(){return{__michelsonType:D.prim,schema:this.valueSchema.generateSchema()}}findAndReturnTokens(e,t){return D.prim===e&&t.push(this),this.createToken(this.val.args[0],this.idx).findAndReturnTokens(e,t),t}constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}}D.prim="list";class U extends m{constructor(e,t,r){super(e,t,r),this.value=e,this.token=t,this.name="MutezValidationError"}}class H extends v{Execute(e){return new c.Z(e[Object.keys(e)[0]])}ExtractSchema(){return H.prim}generateSchema(){return{__michelsonType:H.prim,schema:H.prim}}validate(e){if(new c.Z(e).isNaN())throw new U(e,this,"Value is not a number: ".concat(e))}Encode(e){let t=e.pop();return this.validate(t),{int:String(t).toString()}}EncodeObject(e,t){return(this.validate(e),t&&t[H.prim])?t[H.prim](e):{int:String(e).toString()}}ToBigMapKey(e){return{key:{int:String(e)},type:{prim:H.prim}}}ToKey(e){let{int:t}=e;return t}compare(e,t){let r=Number(e),n=Number(t);return r===n?0:r<n?-1:1}findAndReturnTokens(e,t){return H.prim===e&&t.push(this),t}constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}}H.prim="mutez";class j extends m{constructor(e,t,r){super(e,t,r),this.value=e,this.token=t,this.name="BytesValidationError"}}class F extends v{ToBigMapKey(e){return{key:{bytes:e},type:{prim:F.prim}}}validate(e){if(!("string"==typeof e&&/^[0-9a-fA-F]*$/.test(e))||e.length%2!=0)throw new j(e,this,"Invalid bytes: ".concat(e))}convertUint8ArrayToHexString(e){return e.constructor===Uint8Array?l.from(e).toString("hex"):e}Encode(e){let t=e.pop();return t=(0,u.MT)(this.convertUint8ArrayToHexString(t)),this.validate(t),{bytes:String(t).toString()}}EncodeObject(e,t){return("string"==typeof(e=this.convertUint8ArrayToHexString(e))&&(e=(0,u.MT)(e)),this.validate(e),t&&t[F.prim])?t[F.prim](e):{bytes:String(e).toString()}}Execute(e){return e.bytes}ExtractSchema(){return F.prim}generateSchema(){return{__michelsonType:F.prim,schema:F.prim}}ToKey(e){let{bytes:t,string:r}=e;return r||t}findAndReturnTokens(e,t){return F.prim===e&&t.push(this),t}constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}}F.prim="bytes";class q extends v{subToken(){return this.createToken(this.val.args[0],this.idx)}schema(){return this.createToken(this.val.args[0],0)}annot(){return Array.isArray(this.val.annots)?super.annot():this.createToken(this.val.args[0],this.idx).annot()}Encode(e){return null==e?{prim:"None"}:Array.isArray(e)&&(void 0===e[e.length-1]||null===e[e.length-1])?(e.pop(),{prim:"None"}):{prim:"Some",args:[this.schema().Encode(e)]}}EncodeObject(e,t){let r=e;return null==r?{prim:"None"}:(r="object"==typeof r&&"Some"in r?r.Some:r,{prim:"Some",args:[this.schema().EncodeObject(r,t)]})}Execute(e,t){return"None"===e.prim?null:{Some:this.schema().Execute(e.args[0],t)}}ExtractSchema(){return{Some:this.schema().ExtractSchema()}}generateSchema(){return{__michelsonType:q.prim,schema:this.schema().generateSchema()}}ExtractSignature(){return[...this.schema().ExtractSignature()]}get KeySchema(){return this.schema()}compare(e,t){return e?t?this.KeySchema.compare(e,t):1:-1}ToKey(e){return this.Execute(e)}ToBigMapKey(e){return{key:this.EncodeObject(e),type:this.typeWithoutAnnotations()}}findAndReturnTokens(e,t){return q.prim===e&&t.push(this),this.subToken().findAndReturnTokens(e,t),t}constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}}q.prim="option";class G extends v{Execute(e){return e.string&&/^\d+$/.test(e.string)?new Date(1e3*Number(e.string)).toISOString():e.string?new Date(e.string).toISOString():e.int?new Date(1e3*Number(e.int)).toISOString():void 0}Encode(e){let t=e.pop();return"number"==typeof t?{int:String(t)}:{string:t}}EncodeObject(e,t){return t&&t[G.prim]?t[G.prim](e):"number"==typeof e?{int:String(e)}:{string:e}}ExtractSchema(){return G.prim}generateSchema(){return{__michelsonType:G.prim,schema:G.prim}}ToKey(e){let{string:t}=e;return t}ToBigMapKey(e){return{key:{string:e},type:{prim:G.prim}}}findAndReturnTokens(e,t){return G.prim===e&&t.push(this),t}constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}}G.prim="timestamp";class z extends m{constructor(e,t,r){super(e,t,r),this.value=e,this.token=t,this.name="IntValidationError"}}class K extends v{Execute(e){return new c.Z(e[Object.keys(e)[0]])}ExtractSchema(){return K.prim}generateSchema(){return{__michelsonType:K.prim,schema:K.prim}}validate(e){if(new c.Z(e).isNaN())throw new z(e,this,"Value is not a number: ".concat(JSON.stringify(e)))}Encode(e){let t=e.pop();return this.validate(t),{int:new c.Z(t).toFixed()}}EncodeObject(e,t){return(this.validate(e),t&&t[K.prim])?t[K.prim](e):{int:new c.Z(e).toFixed()}}ToBigMapKey(e){return{key:{int:String(e)},type:{prim:K.prim}}}ToKey(e){let{int:t}=e;return t}compare(e,t){let r=Number(e),n=Number(t);return r===n?0:r<n?-1:1}findAndReturnTokens(e,t){return K.prim===e&&t.push(this),t}constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}}K.prim="int";class W extends v{Encode(e){return e.pop(),{prim:"Unit"}}EncodeObject(e,t){return t&&t[W.prim]?t[W.prim](e):{prim:"Unit"}}Execute(e){return eY}ExtractSchema(){return W.prim}generateSchema(){return{__michelsonType:W.prim,schema:W.prim}}compare(e,t){return 0}ToKey(e){return eY}ToBigMapKey(e){return{key:{prim:"Unit"},type:{prim:W.prim}}}findAndReturnTokens(e,t){return W.prim===e&&t.push(this),t}constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}}W.prim="unit";class V extends m{constructor(e,t,r){super(e,t,r),this.value=e,this.token=t,this.name="KeyValidationError"}}class J extends v{Execute(e){return e.string?e.string:(0,u.z)(e.bytes)}validate(e){if((0,u.z8)(e)!==u.nd.VALID)throw new V(e,this,"Key is not valid")}Encode(e){let t=e.pop();return this.validate(t),{string:t}}EncodeObject(e,t){return(this.validate(e),t&&t[J.prim])?t[J.prim](e):{string:e}}ExtractSchema(){return J.prim}generateSchema(){return{__michelsonType:J.prim,schema:J.prim}}ToKey(e){return this.Execute(e)}ToBigMapKey(e){return{key:{string:e},type:{prim:J.prim}}}compare(e,t){let r=this.getPrefix(e),n=this.getPrefix(t);if(r===u.oT.EDPK&&n!==u.oT.EDPK)return -1;if(r===u.oT.SPPK&&n!==u.oT.SPPK)return n===u.oT.EDPK?1:-1;if(r===u.oT.P2PK){if(n!==u.oT.P2PK)return 1;let r=this.getP256PublicKeyComparableBytes(e),i=this.getP256PublicKeyComparableBytes(t);return l.compare(r,i)}return super.compare(e,t)}getPrefix(e){return e.substring(0,4)}getP256PublicKeyComparableBytes(e){return(0,u.sA)(e,u.O4[u.oT.P2PK]).slice(1)}findAndReturnTokens(e,t){return J.prim===e&&t.push(this),t}constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}}J.prim="key";class Z extends m{constructor(e,t,r){super(e,t,r),this.value=e,this.token=t,this.name="KeyHashValidationError"}}class Q extends v{Execute(e){return e.string?e.string:(0,u.aP)(e.bytes)}validate(e){if((0,u.vO)(e)!==u.nd.VALID)throw new Z(e,this,"KeyHash is not valid: ".concat(JSON.stringify(e)))}Encode(e){let t=e.pop();return this.validate(t),{string:t}}EncodeObject(e,t){return(this.validate(e),t&&t[Q.prim])?t[Q.prim](e):{string:e}}ExtractSchema(){return Q.prim}generateSchema(){return{__michelsonType:Q.prim,schema:Q.prim}}ToKey(e){let{string:t,bytes:r}=e;return t||(0,u.aP)(r)}ToBigMapKey(e){return{key:{string:e},type:{prim:Q.prim}}}findAndReturnTokens(e,t){return Q.prim===e&&t.push(this),t}constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}}Q.prim="key_hash";class X extends m{constructor(e,t,r){super(e,t,r),this.value=e,this.token=t,this.name="SignatureValidationError"}}class Y extends v{Execute(e){return e.string?e.string:e.bytes}validate(e){if((0,u.pB)(e)!==u.nd.VALID)throw new X(e,this,"Signature is not valid")}Encode(e){let t=e.pop();return this.validate(t),{string:t}}EncodeObject(e,t){return(this.validate(e),t&&t[Y.prim])?t[Y.prim](e):{string:e}}ExtractSchema(){return Y.prim}generateSchema(){return{__michelsonType:Y.prim,schema:Y.prim}}ToKey(e){return this.Execute(e)}ToBigMapKey(e){return{key:{string:e},type:{prim:Y.prim}}}findAndReturnTokens(e,t){return Y.prim===e&&t.push(this),t}constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}}Y.prim="signature";class $ extends g{get paramSchema(){return this.createToken(this.val.args[0],this.idx)}get returnSchema(){return this.createToken(this.val.args[1],this.idx+1)}Execute(e){return e.string?e.string:e}Encode(e){return e.pop()}EncodeObject(e,t){return t&&t[$.prim]?t[$.prim](e):e}ExtractSchema(){return{[$.prim]:{parameters:this.paramSchema.ExtractSchema(),returns:this.returnSchema.ExtractSchema()}}}generateSchema(){return{__michelsonType:$.prim,schema:{parameters:this.paramSchema.generateSchema(),returns:this.returnSchema.generateSchema()}}}findAndReturnTokens(e,t){return $.prim===e&&t.push(this),this.createToken(this.val.args[0],this.idx).findAndReturnTokens(e,t),this.createToken(this.val.args[1],this.idx).findAndReturnTokens(e,t),t}constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}}$.prim="lambda";class ee extends g{Execute(e){return e.string}Encode(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return{string:t.pop()}}EncodeObject(e,t){return t&&t[ee.prim]?t[ee.prim](e):{string:e}}ExtractSchema(){return ee.prim}generateSchema(){return{__michelsonType:ee.prim,schema:ee.prim}}findAndReturnTokens(e,t){return ee.prim===e&&t.push(this),t}constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}}ee.prim="operation";class et extends m{constructor(e,t,r){super(e,t,r),this.value=e,this.token=t,this.name="SetValidationError"}}class er extends g{get KeySchema(){return this.createToken(this.val.args[0],0)}validate(e){if(!Array.isArray(e))throw new et(e,this,"Value ".concat(JSON.stringify(e)," is not an array"))}Encode(e){let t=e.pop();return this.validate(t),t.sort((e,t)=>this.KeySchema.compare(e,t)).reduce((e,t)=>[...e,this.KeySchema.EncodeObject(t)],[])}Execute(e,t){return e.reduce((e,r)=>[...e,this.KeySchema.Execute(r,t)],[])}EncodeObject(e,t){return(this.validate(e),t&&t[er.prim])?t[er.prim](e):e.sort((e,t)=>this.KeySchema.compare(e,t)).reduce((e,t)=>[...e,this.KeySchema.EncodeObject(t)],[])}ExtractSchema(){return er.prim}generateSchema(){return{__michelsonType:er.prim,schema:this.KeySchema.generateSchema()}}findAndReturnTokens(e,t){return er.prim===e&&t.push(this),this.KeySchema.findAndReturnTokens(e,t),t}constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}}er.prim="set";class en extends m{constructor(e,t,r){super(e,t,r),this.value=e,this.token=t,this.name="ChainIDValidationError"}}class ei extends v{validate(e){if((0,u.VN)(e)!==u.nd.VALID)throw new en(e,this,"Value ".concat(JSON.stringify(e)," is not a valid ChainID"))}Execute(e){return e[Object.keys(e)[0]]}ExtractSchema(){return ei.prim}generateSchema(){return{__michelsonType:ei.prim,schema:ei.prim}}Encode(e){let t=e.pop();return this.validate(t),{string:t}}EncodeObject(e,t){return(this.validate(e),t&&t[ei.prim])?t[ei.prim](e):{string:e}}ToKey(e){let{string:t}=e;return t}ToBigMapKey(e){return{key:{string:e},type:{prim:ei.prim}}}findAndReturnTokens(e,t){return ei.prim===e&&t.push(this),t}constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}}ei.prim="chain_id";class es extends a.WO{constructor(){super(),this.name="TicketEncodeError",this.message="Tickets cannot be sent to the blockchain; they are created on-chain"}}let eo={prim:"contract"},ea={prim:"int"};class ec extends g{get valueToken(){return this.createToken(this.val.args[0],this.idx)}Encode(e){throw new es}EncodeObject(e,t){if(t&&t[ec.prim])return t[ec.prim](e,this.val);throw new es}Execute(e,t){if(t&&t[ec.prim])return t[ec.prim](e,this.val);let r=this.createToken(eo,this.idx),n=this.valueToken,i=this.createToken(ea,this.idx);return void 0===e.args[2]&&void 0!==e.args[1].args?{ticketer:r.Execute(e.args[0],t),value:n.Execute(e.args[1].args[0],t),amount:i.Execute(e.args[1].args[1],t)}:{ticketer:r.Execute(e.args[0],t),value:n.Execute(e.args[1],t),amount:i.Execute(e.args[2],t)}}ExtractSchema(){return{ticketer:L.prim,value:this.valueToken.ExtractSchema(),amount:K.prim}}generateSchema(){return{__michelsonType:ec.prim,schema:{value:this.valueToken.generateSchema(),ticketer:{__michelsonType:L.prim,schema:L.prim},amount:{__michelsonType:K.prim,schema:K.prim}}}}findAndReturnTokens(e,t){return ec.prim===e&&t.push(this),this.valueToken.findAndReturnTokens(e,t),t}constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}}ec.prim="ticket";class eu extends a.WO{constructor(){super(),this.name="TicketDeprecatedEncodeError",this.message="Ticket_deprecated cannot be sent to the blockchain; they are created on-chain"}}let el={prim:"contract"},ed={prim:"int"};class eh extends g{get valueToken(){return this.createToken(this.val.args[0],this.idx)}Encode(e){throw new eu}EncodeObject(e,t){if(t&&t[eh.prim])return t[eh.prim](e,this.val);throw new eu}Execute(e,t){if(t&&t[eh.prim])return t[eh.prim](e,this.val);let r=this.createToken(el,this.idx),n=this.valueToken,i=this.createToken(ed,this.idx);return void 0===e.args[2]&&void 0!==e.args[1].args?{ticketer:r.Execute(e.args[0],t),value:n.Execute(e.args[1].args[0],t),amount:i.Execute(e.args[1].args[1],t)}:{ticketer:r.Execute(e.args[0],t),value:n.Execute(e.args[1],t),amount:i.Execute(e.args[2],t)}}ExtractSchema(){return{ticketer:L.prim,value:this.valueToken.ExtractSchema(),amount:K.prim}}generateSchema(){return{__michelsonType:eh.prim,schema:{value:this.valueToken.generateSchema(),ticketer:{__michelsonType:L.prim,schema:L.prim},amount:{__michelsonType:K.prim,schema:K.prim}}}}findAndReturnTokens(e,t){return eh.prim===e&&t.push(this),this.valueToken.findAndReturnTokens(e,t),t}constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}}eh.prim="ticket_deprecated";class ef extends m{constructor(e,t,r){super(e,t,r),this.value=e,this.token=t,this.name="NeverTokenError"}}class ep extends g{Encode(e){let t=e.pop();throw new ef(t,this,"Assigning a value to the type never is forbidden. Trying to assign ".concat(JSON.stringify(t),"."))}EncodeObject(e,t){if(t&&t[ep.prim])return t[ep.prim](e);throw new ef(e,this,"Assigning a value to the type never is forbidden. Trying to assign ".concat(JSON.stringify(e),"."))}Execute(e){throw new ef(e,this,"There is no literal value for the type never. Trying to execute ".concat(JSON.stringify(e),"."))}ExtractSchema(){return ep.prim}generateSchema(){return{__michelsonType:ep.prim,schema:ep.prim}}findAndReturnTokens(e,t){return ep.prim===e&&t.push(this),t}constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}}ep.prim="never";class em extends m{constructor(e,t,r){super(e,t,r),this.value=e,this.token=t,this.name="SaplingStateValidationError"}}class eg extends g{isValid(e){return"object"==typeof e&&0===Object.keys(e).length}Execute(e,t){if(t&&t[eg.prim])return t[eg.prim](e,this.val);if("int"in e)return e.int;throw new em(e,this,"Sapling state is expecting an object with an int property. Got ".concat(JSON.stringify(e)))}Encode(e){let t=e.pop();if(this.isValid(t))return[];throw new em(t,this,"Invalid sapling_state. Received: ".concat(JSON.stringify(t)," while expecting: {}"))}EncodeObject(e,t){if(t&&t[eg.prim])return t[eg.prim](e);if(this.isValid(e))return[];throw new em(e,this,"Invalid sapling_state. Received: ".concat(JSON.stringify(e)," while expecting: {}"))}ExtractSchema(){return{[eg.prim]:{"memo-size":Number(this.val.args[0].int)}}}generateSchema(){return{__michelsonType:eg.prim,schema:{memoSize:this.val.args[0].int}}}findAndReturnTokens(e,t){return eg.prim===e&&t.push(this),t}constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}}eg.prim="sapling_state";class ev extends m{constructor(e,t,r){super(e,t,r),this.value=e,this.token=t,this.name="SaplingTransactionValidationError"}}class eb extends g{Execute(e){throw new ev(e,this,"There is no literal value for the sapling_transaction type. Got: ".concat(JSON.stringify(e),"."))}validateBytes(e){let t=/^(0x|0X)?([0-9a-fA-F]*$)/.exec(e);if(t&&t[2].length%2==0)return t[2];throw new ev(e,this,"Invalid bytes: ".concat(JSON.stringify(e)))}convertUint8ArrayToHexString(e){return e.constructor===Uint8Array?l.from(e).toString("hex"):e}Encode(e){let t=e.pop();return{bytes:String(t=this.validateBytes(this.convertUint8ArrayToHexString(t))).toString()}}EncodeObject(e,t){return(e=this.validateBytes(this.convertUint8ArrayToHexString(e)),t&&t[eb.prim])?t[eb.prim](e):{bytes:String(e).toString()}}ExtractSchema(){return{[eb.prim]:{"memo-size":Number(this.val.args[0].int)}}}generateSchema(){return{__michelsonType:eb.prim,schema:{memoSize:this.val.args[0].int}}}findAndReturnTokens(e,t){return eb.prim===e&&t.push(this),t}constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}}eb.prim="sapling_transaction";class ey extends m{constructor(e,t,r){super(e,t,r),this.value=e,this.token=t,this.name="SaplingTransactionDeprecatedValidationError"}}class ew extends g{Execute(e){throw new ey(e,this,"There is no literal value for the sapling_transaction_deprecated type. Got: ".concat(JSON.stringify(e),"."))}validateBytes(e){let t=/^(0x|0X)?([0-9a-fA-F]*$)/.exec(e);if(t&&t[2].length%2==0)return t[2];throw new ey(e,this,"Invalid bytes: ".concat(JSON.stringify(e)))}convertUint8ArrayToHexString(e){return e.constructor===Uint8Array?l.from(e).toString("hex"):e}Encode(e){let t=e.pop();return{bytes:String(t=this.validateBytes(this.convertUint8ArrayToHexString(t))).toString()}}EncodeObject(e,t){return(e=this.validateBytes(this.convertUint8ArrayToHexString(e)),t&&t[ew.prim])?t[ew.prim](e):{bytes:String(e).toString()}}ExtractSchema(){return{[ew.prim]:{"memo-size":Number(this.val.args[0].int)}}}generateSchema(){return{__michelsonType:ew.prim,schema:{memoSize:this.val.args[0].int}}}findAndReturnTokens(e,t){return ew.prim===e&&t.push(this),t}constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}}ew.prim="sapling_transaction_deprecated";class eE extends m{constructor(e,t,r){super(e,t,r),this.value=e,this.token=t,this.name="Bls12381frValidationError"}}class e_ extends g{validate(e){if(!/^[0-9a-fA-F]*$/.test(e)||e.length%2!=0)throw new eE(e,this,"Invalid bytes: ".concat(JSON.stringify(e)))}convertUint8ArrayToHexString(e){return e.constructor===Uint8Array?l.from(e).toString("hex"):e}Encode(e){let t=e.pop();return"number"==typeof t?{int:t.toString()}:(t=this.convertUint8ArrayToHexString(t),this.validate(t),{bytes:t})}EncodeObject(e,t){return t&&t[e_.prim]?t[e_.prim](e):"number"==typeof e?{int:e.toString()}:(e=this.convertUint8ArrayToHexString(e),this.validate(e),{bytes:e})}Execute(e){return e.bytes}ExtractSchema(){return e_.prim}generateSchema(){return{__michelsonType:e_.prim,schema:e_.prim}}findAndReturnTokens(e,t){return e_.prim===e&&t.push(this),t}constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}}e_.prim="bls12_381_fr";class eS extends m{constructor(e,t,r){super(e,t,r),this.value=e,this.token=t,this.name="Bls12381g1ValidationError"}}class eA extends g{validate(e){if(!/^[0-9a-fA-F]*$/.test(e)||e.length%2!=0)throw new eS(e,this,"Invalid bytes: ".concat(JSON.stringify(e)))}convertUint8ArrayToHexString(e){return e.constructor===Uint8Array?l.from(e).toString("hex"):e}Encode(e){let t=e.pop();return t=this.convertUint8ArrayToHexString(t),this.validate(t),{bytes:t}}EncodeObject(e,t){return(e=this.convertUint8ArrayToHexString(e),this.validate(e),t&&t[eA.prim])?t[eA.prim](e):{bytes:e}}Execute(e){return e.bytes}ExtractSchema(){return eA.prim}generateSchema(){return{__michelsonType:eA.prim,schema:eA.prim}}findAndReturnTokens(e,t){return eA.prim===e&&t.push(this),t}constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}}eA.prim="bls12_381_g1";class eT extends m{constructor(e,t,r){super(e,t,r),this.value=e,this.token=t,this.name="Bls12381g2ValidationError"}}class ex extends g{validate(e){if(!/^[0-9a-fA-F]*$/.test(e)||e.length%2!=0)throw new eT(e,this,"Invalid bytes: ".concat(JSON.stringify(e)))}convertUint8ArrayToHexString(e){return e.constructor===Uint8Array?l.from(e).toString("hex"):e}Encode(e){let t=e.pop();return t=this.convertUint8ArrayToHexString(t),this.validate(t),{bytes:t}}EncodeObject(e,t){return(e=this.convertUint8ArrayToHexString(e),this.validate(e),t&&t[ex.prim])?t[ex.prim](e):{bytes:e}}Execute(e){return e.bytes}ExtractSchema(){return ex.prim}generateSchema(){return{__michelsonType:ex.prim,schema:ex.prim}}findAndReturnTokens(e,t){return ex.prim===e&&t.push(this),t}constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}}ex.prim="bls12_381_g2";class eI extends m{constructor(e,t,r){super(e,t,r),this.value=e,this.token=t,this.name="ChestValidationError"}}class eR extends g{validate(e){if(!/^[0-9a-fA-F]*$/.test(e)||e.length%2!=0)throw new eI(e,this,"Invalid bytes: ".concat(JSON.stringify(e)))}convertUint8ArrayToHexString(e){return e.constructor===Uint8Array?l.from(e).toString("hex"):e}Encode(e){let t=e.pop();return t=this.convertUint8ArrayToHexString(t),this.validate(t),{bytes:t}}EncodeObject(e,t){return(e=this.convertUint8ArrayToHexString(e),this.validate(e),t&&t[eR.prim])?t[eR.prim](e):{bytes:e}}Execute(e){return e.bytes}ExtractSchema(){return eR.prim}generateSchema(){return{__michelsonType:eR.prim,schema:eR.prim}}findAndReturnTokens(e,t){return eR.prim===e&&t.push(this),t}constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}}eR.prim="chest";class eO extends m{constructor(e,t,r){super(e,t,r),this.value=e,this.token=t,this.name="ChestKeyValidationError"}}class eP extends g{validate(e){if(!/^[0-9a-fA-F]*$/.test(e)||e.length%2!=0)throw new eO(e,this,"Invalid bytes: ".concat(JSON.stringify(e)))}convertUint8ArrayToHexString(e){return e.constructor===Uint8Array?l.from(e).toString("hex"):e}Encode(e){let t=e.pop();return t=this.convertUint8ArrayToHexString(t),this.validate(t),{bytes:t}}EncodeObject(e,t){return(e=this.convertUint8ArrayToHexString(e),this.validate(e),t&&t[eP.prim])?t[eP.prim](e):{bytes:e}}Execute(e){return e.bytes}ExtractSchema(){return eP.prim}generateSchema(){return{__michelsonType:eP.prim,schema:eP.prim}}findAndReturnTokens(e,t){return eP.prim===e&&t.push(this),t}constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}}eP.prim="chest_key";class ek extends m{constructor(e,t,r){super(e,t,r),this.value=e,this.token=t,this.name="GlobalConstantEncodingError"}}class eN extends m{constructor(e,t,r){super(e,t,r),this.value=e,this.token=t,this.name="GlobalConstantDecodingError"}}class eC extends g{Execute(e,t){if(t&&t[eC.prim])return t[eC.prim](e,this.val);throw new eN(e,this,"Unable to decode a value represented by a global constants. Please provide an expanded script to the Michelson-Encoder or semantics for the decoding. The following global constant hash was encountered: ".concat(this.val.args[0].string,"."))}Encode(e){throw new ek(e,this,"Unable to encode a script containing global constants. Please provide an expanded script to the Michelson-Encoder. The following global constant hash was encountered: ".concat(this.val.args[0].string,"."))}EncodeObject(e,t){if(t&&t[eC.prim])return t[eC.prim](e);throw new ek(e,this,"Unable to encode a script containing global constants. Please provide an expanded script to the Michelson-Encoder. The following global constant hash was encountered: ".concat(this.val.args[0].string,"."))}ExtractSchema(){return eC.prim}generateSchema(){return{__michelsonType:eC.prim,schema:{hash:this.val.args[0].string}}}findAndReturnTokens(e,t){return eC.prim===e&&t.push(this),t}constructor(e,t,r){super(e,t,r),this.val=e,this.idx=t,this.fac=r}}eC.prim="constant";let eM=[T,I,R,y,P,N,C,E,L,D,H,F,q,G,K,W,J,Q,Y,$,ee,er,ei,ec,eh,ep,eg,eb,ew,e_,eA,ex,eR,eP,eC];class eL extends a.WO{constructor(e,t){super(e),this.message=e,this.data=t,this.name="Invalid token error"}}function eB(e,t){if(Array.isArray(e))return new T(e,t,eB);let r=eM.find(t=>t.prim===e.prim);if(!r)throw new eL("Malformed data: ".concat(JSON.stringify(e),". Expected a value with a valid prim property"),e);return new r(e,t,eB)}class eD extends a.Uj{constructor(e,t,r,n){super(e,t,r,n),this.viewName=e,this.sigs=t,this.args=r,this.cause=n,this.name="ParameterEncodingError",this.message="Could not encode parameter ".concat(JSON.stringify(r),' received for name "').concat(e,'" expecting one of the following signatures ').concat(JSON.stringify(t))}}class eU extends a.WO{constructor(e,t){super(),this.script=e,this.reason=t,this.name="InvalidScriptError";let r="Invalid on-chain view found in the following script.";t&&(r+=" Reason: ".concat(t,".")),r+="Script: ".concat(JSON.stringify(e)),this.message=r}}class eH extends a.WO{constructor(e,t){super(),this.script=e,this.reason=t,this.name="InvalidRpcResponseError";let r="Invalid RPC response passed as argument(s).";t&&(r+=" Reason: ".concat(t,".")),r+=" Received: ".concat(JSON.stringify(e)),this.message=r}}class ej extends a.WO{constructor(e){super(e),this.message=e,this.name="InvalidBigMapSchemaError"}}class eF extends a.WO{constructor(e,t){super(e),this.message=e,this.value=t,this.name="InvalidBigMapDiffError"}}class eq extends a.WO{constructor(e,t,r,n){super(),this.details=t,this.schema=r,this.value=n,this.name="BigMapEncodingError",this.message="Unable to encode the big map ".concat(e,". Schema is: ").concat(JSON.stringify(r),". The ").concat(e," is: ").concat(JSON.stringify(n),". Error details: ").concat(t)}}class eG extends a.WO{constructor(e,t,r,n,i){super(),this.details=t,this.schema=r,this.value=n,this.semantics=i,this.name="StorageEncodingError",this.message="Unable to encode ".concat(e,". The schema is: ").concat(JSON.stringify(r),", the value is: ").concat(JSON.stringify(n),".").concat(i?"And the semantic is: ".concat(JSON.stringify(i)):"",". Error details: ").concat(t)}}class ez extends a.WO{constructor(e){super(e),this.message=e,this.name="MissingArgumentError"}}let eK=Symbol.for("taquito-schema-type-symbol");function eW(e){var t,r;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T.prim;return Array.isArray(e)?eW({prim:n,args:e},n):e.prim===n&&e.args&&e.args.length>2?Object.assign(Object.assign({},e),{args:[null===(t=e.args)||void 0===t?void 0:t[0],{prim:n,args:null===(r=e.args)||void 0===r?void 0:r.slice(1)}]}):e}function eV(e,t){if(void 0===e||void 0===t)return e===t;let r=eW(e),n=eW(t);return r.prim===n.prim&&(void 0===r.args&&void 0===n.args||void 0!==r.args&&void 0!==n.args&&r.args.length===n.args.length&&r.args.every((e,t)=>{var r,i;return eV(e,null!==(i=null===(r=n.args)||void 0===r?void 0:r[t])&&void 0!==i?i:{})}))&&(void 0===r.annots&&void 0===n.annots||void 0!==r.annots&&void 0!==n.annots&&r.annots.length===n.annots.length&&r.annots.every((e,t)=>{var r;return e===(null===(r=n.annots)||void 0===r?void 0:r[t])}))}class eJ{static isSchema(e){return e&&!0===e[eK]}static fromRPCResponse(e){if(!e)throw new eH(e,"the RPC response is empty");if(!e.script)throw new eH(e,"the RPC response has no script");if(!Array.isArray(e.script.code))throw new eH(e,"The response.script.code should be an array");let t=e.script.code;for(;1===t.length&&Array.isArray(t[0]);)t=t[0];let r=t.find(e=>"prim"in e&&"storage"===e.prim);if(!r||!Array.isArray(r.args))throw new eH(e,'The response.script.code has an element of type {prim: "storage"}, but its args is not an array');return new eJ(r.args[0])}isExpressionExtended(e){return"prim"in e&&Array.isArray(e.args)}removeTopLevelAnnotation(e){return(this.root instanceof T||this.root instanceof E)&&this.root.hasAnnotations()&&"object"==typeof e&&1===Object.keys(e).length?e[Object.keys(e)[0]]:e}Execute(e,t){let r=this.root.Execute(e,t);return this.removeTopLevelAnnotation(r)}Typecheck(e){this.root instanceof y&&Number.isInteger(Number(e))||this.root instanceof ec&&e.ticketer&&e.value&&e.amount||this.root instanceof eh&&e.ticketer&&e.value&&e.amount||this.root instanceof N&&this.root.ValueSchema instanceof y||this.root.EncodeObject(e)}ExecuteOnBigMapDiff(e,t){if(!this.bigMap)throw new ej("Big map schema is undefined");if(!Array.isArray(e))throw new eF("Big map diff must be an array, got: ".concat(JSON.stringify(e)),e);let r=e.map(e=>{let{key:t,value:r}=e;return{args:[t,r]}});return this.bigMap.Execute(r,t)}ExecuteOnBigMapValue(e,t){if(!this.bigMap)throw new ej("Big map schema is undefined");return this.bigMap.ValueSchema.Execute(e,t)}EncodeBigMapKey(e){if(!this.bigMap)throw new ej("Big map schema is undefined");try{return this.bigMap.KeySchema.ToBigMapKey(e)}catch(t){throw new eq("key",t,this.bigMap.KeySchema,e)}}Encode(e,t){try{return this.root.EncodeObject(e,t)}catch(r){if(r instanceof m)throw r;throw new eG("storage object",r,this.root,e,t)}}ExtractSchema(){return this.removeTopLevelAnnotation(this.root.ExtractSchema())}generateSchema(){return this.removeTopLevelAnnotation(this.root.generateSchema())}ComputeState(e,t){if(!this.bigMap)throw new ej("Big map schema is undefined");let r=e.reduce((e,t)=>Object.assign(Object.assign({},e),this.ExecuteOnBigMapDiff(t.contents[0].metadata.operation_result.big_map_diff)),{});return Object.assign(Object.assign({},this.Execute(t)),{[this.bigMap.annot()]:r})}FindFirstInTopLevelPair(e,t){return this.findValue(this.root.val,e,t)}findValue(e,t,r){if(eV(r,e))return t;if(Array.isArray(e)||"pair"===e.prim){let n=eW(e),i=eW(t,"Pair");if(void 0===n.args||void 0===i.args)throw new ez("Tokens have no arguments");if(n.args[0])return this.findValue(n.args[0],i.args[0],r)||this.findValue(n.args[1],i.args[1],r)}}findToken(e){return this.root.findAndReturnTokens(e,[])}constructor(e){if(this.val=e,this[i]=!0,this.root=eB(e,0),this.root instanceof y)this.bigMap=this.root;else if(this.isExpressionExtended(e)&&"pair"===e.prim){let t=e.args[0];this.isExpressionExtended(t)&&"big_map"===t.prim&&(this.bigMap=new y(t,0,eB))}}}i=eK;class eZ{static fromRPCResponse(e){if(!e)throw new eH(e,"the RPC response is empty");if(!e.script)throw new eH(e,"the RPC response has no script");if(!Array.isArray(e.script.code))throw new eH(e,"The response.script.code should be an array");let t=e.script.code.find(e=>"prim"in e&&"parameter"===e.prim);if(!t)throw new eH(e,'The response.script.code should have an element of type {prim: "parameter"}');if(!Array.isArray(t.args))throw new eH(e,'The response.script.code has an element of type {prim: "parameter"}, but its args is not an array');return new eZ(t.args[0])}get isMultipleEntryPoint(){return this.root instanceof E||this.root instanceof q&&this.root.subToken() instanceof E}get hasAnnotation(){return!this.isMultipleEntryPoint||"0"!==Object.keys(this.ExtractSchema())[0]}Execute(e,t){return this.root.Execute(e,t)}Encode(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];try{return this.root.Encode(t.reverse())}catch(e){if(e instanceof m)throw e;throw new eD("Unable to encode parameter",this.root,t,e)}}EncodeObject(e,t){try{return this.root.EncodeObject(e,t)}catch(t){if(t instanceof m)throw t;throw new eD("Unable to encode parameter object",this.root,e,t)}}ExtractSchema(){return this.root.ExtractSchema()}generateSchema(){return this.root.generateSchema()}ExtractSignatures(){return this.root.ExtractSignature()}constructor(e){this.root=eB(e,0)}}class eQ{static fromRPCResponse(e){let t=[],r=e&&e.script&&Array.isArray(e.script.code)&&e.script.code.filter(e=>"view"===e.prim);return r&&r.forEach(e=>{t.push(new eQ(e.args))}),t}encodeViewArgs(e){try{return this.rootArgsType.EncodeObject(e)}catch(t){throw new eD(this.viewName,void 0,e,t)}}decodeViewResult(e,t){return this.rootReturnType.Execute(e,t)}extractArgsSchema(){return this.rootArgsType.ExtractSchema()}extractResultSchema(){return this.rootReturnType.ExtractSchema()}constructor(e){if(!e)throw new eU(e,"the args are not defined");if(4!==e.length)throw new eU(e,"there should be exactly 4 arguments");if(!("string"in e[0])||!e[0].string)throw new eU(e,"The first argument should be a string, representing the view name. It should be in the form: { string: 'viewName' }");this.viewName=e[0].string,this.viewArgsType=e[1],this.viewReturnType=e[2],this.instructions=e[3],this.rootArgsType=eB(this.viewArgsType,0),this.rootReturnType=eB(this.viewReturnType,0)}}class eX{static fromMichelineValue(e){var t,r;return new eX(null===(t=e.annots)||void 0===t?void 0:t[0],null===(r=e.args)||void 0===r?void 0:r[0])}static fromRPCResponse(e){let t=[];return e.script.code.forEach(e=>{"prim"in e&&"code"===e.prim&&"args"in e&&e.args&&t.push(...eX.extractEventsRecursively(e.args))}),eX.removeDuplicates(t)}static removeDuplicates(e){let t=[];return e.forEach(e=>{-1===t.findIndex(t=>t.tag===e.tag&&eV(t.type,e.type))&&t.push(e)}),t}static extractEventsRecursively(e){return Array.isArray(e)?e.flatMap(e=>eX.extractEventsRecursively(e)):"prim"in e?"EMIT"===e.prim?[eX.fromMichelineValue(e)]:"args"in e&&e.args?e.args.flatMap(e=>eX.extractEventsRecursively(e)):[]:[]}constructor(e,t){this.tag=e,this.type=t}}let eY=Symbol()},58657:function(e,t,r){"use strict";r.d(t,{Dl:function(){return N},Qg:function(){return S}});var n,i,s,o,a,c,u,l,d,h,f,p,m,g,v,b,y,w,E,_,S,A=r(36582),T=r(22840),x=r(75410),I=r(91813);function R(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function O(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})}"function"==typeof SuppressedError&&SuppressedError;let P={block:"head"};function k(e,t){let r=Array.isArray(e);void 0===t&&(t=Object.keys(e));let n=r?[]:{};return t.forEach(t=>{let r;let i=e[t];if(void 0!==i){if(Array.isArray(i)){r=k(i),n[t]=r;return}r=new T.Z(i),n[t]=r}}),n}(n=f||(f={})).GET_BAKING_RIGHTS="getBakingRights",n.GET_BALLOTS="getBallots",n.GET_BALLOT_LIST="getBallotList",n.GET_BIG_MAP_KEY="getBigMapKey",n.GET_BIG_MAP_EXPR="getBigMapExpr",n.GET_BLOCK_HASH="getBlockHash",n.GET_BLOCK="getBlock",n.GET_BLOCK_HEADER="getBlockHeader",n.GET_BLOCK_METADATA="getBlockMetadata",n.GET_BALANCE="getBalance",n.GET_CHAIN_ID="getChainId",n.GET_CONSTANTS="getConstants",n.GET_CONTRACT="getContract",n.GET_CURRENT_PERIOD="getCurrentPeriod",n.GET_CURRENT_PROPOSAL="getCurrentProposal",n.GET_CURRENT_QUORUM="getCurrentQuorum",n.GET_DELEGATE="getDelegate",n.GET_DELEGATES="getDelegates",n.GET_VOTING_INFO="getVotingInfo",n.GET_ATTESTATION_RIGHTS="getAttestationRights",n.GET_ENDORSING_RIGHTS="getEndorsingRights",n.GET_ENTRYPOINTS="getEntrypoints",n.GET_LIVE_BLOCKS="getLiveBlocks",n.GET_MANAGER_KEY="getManagerKey",n.GET_NORMALIZED_SCRIPT="getNormalizedScript",n.GET_PROPOSALS="getProposals",n.GET_PROTOCOLS="getProtocols",n.GET_SAPLING_DIFF_BY_CONTRACT="getSaplingDiffByContract",n.GET_SAPLING_DIFF_BY_ID="getSaplingDiffById",n.GET_SCRIPT="getScript",n.GET_STORAGE="getStorage",n.GET_SUCCESSOR_PERIOD="getSuccessorPeriod",n.GET_VOTES_LISTINGS="getVotesListings",n.PACK_DATA="packData",n.GET_STORAGE_USED_SPACE="getStorageUsedSpace",n.GET_STORAGE_PAID_SPACE="getStoragePaidSpace",n.GET_TICKET_BALANCE="getTicketBalance",n.GET_ALL_TICKET_BALANCES="getAllTicketBalances",n.GET_PENDING_OPERATIONS="getPendingOperations",(p||(p={})).TOO_LARGE="too large",(i=m||(m={})).BAKING_BONUSES="baking bonuses",i.BAKING_REWARDS="baking rewards",i.BLOCK_FEES="block fees",i.BONDS="bonds",i.BOOTSTRAP="bootstrap",i.BURNED="burned",i.COMMITMENT="commitment",i.DELEGATE_DENOMINATOR="delegate_denominator",i.DELEGATOR_NUMERATOR="delegator_numerator",i.DEPOSITS="deposits",i.ENDORSING_REWARDS="endorsing rewards",i.INVOICE="invoice",i.LOST_ENDORSING_REWARDS="lost endorsing rewards",i.MINTED="minted",i.NONCE_REVELATION_REWARDS="nonce revelation rewards",i.PUNISHMENTS="punishments",i.SMART_ROLLUP_REFUTATION_PUNISHMENTS="smart_rollup_refutation_punishments",i.SMART_ROLLUP_REFUTATION_REWARDS="smart_rollup_refutation_rewards",i.STORAGE_FEES="storage fees",i.SUBSIDY="subsidy",i.UNSTAKED_DEPOSITS="unstaked_deposits",(s=g||(g={})).WASM2="wasm_2_0_0",s.ARITH="arith",s.RISCV="riscv",(o=v||(v={})).START="start",o.MOVE="move",(a=b||(b={})).INBOX_PROOF="inbox_proof",a.REVEAL_PROOF="reveal_proof",a.FIRST_INPUT="first_input",(c=y||(y={})).RAW_DATA_PROOF="raw_data_proof",c.METADATA_PROOF="metadata_proof",c.DAL_PAGE_PROOF="dal_page_proof",(u=w||(w={})).ONGOING="ongoing",u.ENDED="ended",(l=E||(E={})).LOSER="loser",l.DRAW="draw",(d=_||(_={})).CONFLICT_RESOLVED="conflict_resolved",d.TIMEOUT="timeout",(h=S||(S={})).ORIGINATION="origination",h.DELEGATION="delegation",h.REVEAL="reveal",h.TRANSACTION="transaction",h.ACTIVATION="activate_account",h.ATTESTATION="attestation",h.ENDORSEMENT="endorsement",h.PREATTESTATION="preattestation",h.PREENDORSEMENT="preendorsement",h.SET_DEPOSITS_LIMIT="set_deposits_limit",h.DOUBLE_PREATTESTATION_EVIDENCE="double_preattestation_evidence",h.DOUBLE_PREENDORSEMENT_EVIDENCE="double_preendorsement_evidence",h.ATTESTATION_WITH_SLOT="attestation_with_slot",h.ENDORSEMENT_WITH_SLOT="endorsement_with_slot",h.SEED_NONCE_REVELATION="seed_nonce_revelation",h.DOUBLE_ATTESTATION_EVIDENCE="double_attestation_evidence",h.DOUBLE_ENDORSEMENT_EVIDENCE="double_endorsement_evidence",h.DOUBLE_BAKING_EVIDENCE="double_baking_evidence",h.PROPOSALS="proposals",h.BALLOT="ballot",h.FAILING_NOOP="failing_noop",h.REGISTER_GLOBAL_CONSTANT="register_global_constant",h.TRANSFER_TICKET="transfer_ticket",h.INCREASE_PAID_STORAGE="increase_paid_storage",h.UPDATE_CONSENSUS_KEY="update_consensus_key",h.DRAIN_DELEGATE="drain_delegate",h.VDF_REVELATION="vdf_revelation",h.EVENT="event",h.TICKET_UPDATES="ticket_updates",h.SMART_ROLLUP_ORIGINATE="smart_rollup_originate",h.SMART_ROLLUP_ADD_MESSAGES="smart_rollup_add_messages",h.SMART_ROLLUP_EXECUTE_OUTBOX_MESSAGE="smart_rollup_execute_outbox_message",h.SMART_ROLLUP_PUBLISH="smart_rollup_publish",h.SMART_ROLLUP_CEMENT="smart_rollup_cement",h.SMART_ROLLUP_RECOVER_BOND="smart_rollup_recover_bond",h.SMART_ROLLUP_REFUTE="smart_rollup_refute",h.SMART_ROLLUP_TIMEOUT="smart_rollup_timeout";class N{createURL(e){let t=this.url;for(;t.endsWith("/");)t=t.slice(0,-1);return"".concat(t).concat(e)}validateAddress(e){let t=(0,x.YN)(e);if(t!==x.nd.VALID)throw new I.bS(e,(0,x.f4)(t))}validateContract(e){let t=(0,x.rY)(e);if(t!==x.nd.VALID)throw new I.JH(e,(0,x.f4)(t))}getBlockHash(){let{block:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;return O(this,void 0,void 0,function*(){return yield this.httpBackend.createRequest({url:this.createURL("/chains/".concat(this.chain,"/blocks/").concat(e,"/hash")),method:"GET"})})}getLiveBlocks(){let{block:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;return O(this,void 0,void 0,function*(){return yield this.httpBackend.createRequest({url:this.createURL("/chains/".concat(this.chain,"/blocks/").concat(e,"/live_blocks")),method:"GET"})})}getBalance(e){let{block:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P;return O(this,void 0,void 0,function*(){this.validateAddress(e);let r=yield this.httpBackend.createRequest({url:this.createURL("/chains/".concat(this.chain,"/blocks/").concat(t,"/context/contracts/").concat(e,"/balance")),method:"GET"});return new T.Z(r)})}getStorage(e){let{block:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P;return O(this,void 0,void 0,function*(){return this.validateContract(e),this.httpBackend.createRequest({url:this.createURL("/chains/".concat(this.chain,"/blocks/").concat(t,"/context/contracts/").concat(e,"/storage")),method:"GET"})})}getScript(e){let{block:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P;return O(this,void 0,void 0,function*(){return this.validateContract(e),this.httpBackend.createRequest({url:this.createURL("/chains/".concat(this.chain,"/blocks/").concat(t,"/context/contracts/").concat(e,"/script")),method:"GET"})})}getNormalizedScript(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{unparsing_mode:"Readable"},{block:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:P;return O(this,void 0,void 0,function*(){return this.validateContract(e),this.httpBackend.createRequest({url:this.createURL("/chains/".concat(this.chain,"/blocks/").concat(r,"/context/contracts/").concat(e,"/script/normalized")),method:"POST"},t)})}getContract(e){let{block:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P;return O(this,void 0,void 0,function*(){this.validateAddress(e);let r=yield this.httpBackend.createRequest({url:this.createURL("/chains/".concat(this.chain,"/blocks/").concat(t,"/context/contracts/").concat(e)),method:"GET"});return Object.assign(Object.assign({},r),{balance:new T.Z(r.balance)})})}getManagerKey(e){let{block:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P;return O(this,void 0,void 0,function*(){return this.validateAddress(e),this.httpBackend.createRequest({url:this.createURL("/chains/".concat(this.chain,"/blocks/").concat(t,"/context/contracts/").concat(e,"/manager_key")),method:"GET"})})}getDelegate(e){let{block:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P;return O(this,void 0,void 0,function*(){let r;this.validateAddress(e);try{r=yield this.httpBackend.createRequest({url:this.createURL("/chains/".concat(this.chain,"/blocks/").concat(t,"/context/contracts/").concat(e,"/delegate")),method:"GET"})}catch(e){if(e instanceof A.mk&&e.status===A.MU.NOT_FOUND)r=null;else throw e}return r})}getBigMapKey(e,t){let{block:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:P;return O(this,void 0,void 0,function*(){return this.validateAddress(e),this.httpBackend.createRequest({url:this.createURL("/chains/".concat(this.chain,"/blocks/").concat(r,"/context/contracts/").concat(e,"/big_map_get")),method:"POST"},t)})}getBigMapExpr(e,t){let{block:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:P;return O(this,void 0,void 0,function*(){return this.httpBackend.createRequest({url:this.createURL("/chains/".concat(this.chain,"/blocks/").concat(r,"/context/big_maps/").concat(e,"/").concat(t)),method:"GET"})})}getDelegates(e){let{block:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P;return O(this,void 0,void 0,function*(){this.validateAddress(e);let r=yield this.httpBackend.createRequest({url:this.createURL("/chains/".concat(this.chain,"/blocks/").concat(t,"/context/delegates/").concat(e)),method:"GET"}),n=k(r,["balance","full_balance","current_frozen_deposits","frozen_deposits","frozen_balance","frozen_deposits_limit","staking_balance","delegated_balance","voting_power","total_delegated_stake","staking_denominator"]);return Object.assign(Object.assign(Object.assign({},r),n),{frozen_balance_by_cycle:r.frozen_balance_by_cycle?r.frozen_balance_by_cycle.map(e=>{var{deposit:t,deposits:r,fees:n,rewards:i}=e,s=R(e,["deposit","deposits","fees","rewards"]);let o=k({deposit:t,deposits:r,fees:n,rewards:i},["deposit","deposits","fees","rewards"]);return Object.assign(Object.assign({},s),{deposit:o.deposit,deposits:o.deposits,fees:o.fees,rewards:o.rewards})}):void 0})})}getVotingInfo(e){let{block:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P;return O(this,void 0,void 0,function*(){return this.validateAddress(e),yield this.httpBackend.createRequest({url:this.createURL("/chains/".concat(this.chain,"/blocks/").concat(t,"/context/delegates/").concat(e,"/voting_info")),method:"GET"})})}getConstants(){let{block:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;return O(this,void 0,void 0,function*(){let t=yield this.httpBackend.createRequest({url:this.createURL("/chains/".concat(this.chain,"/blocks/").concat(e,"/context/constants")),method:"GET"}),r=k(t,["time_between_blocks","hard_gas_limit_per_operation","hard_gas_limit_per_block","proof_of_work_threshold","tokens_per_roll","seed_nonce_revelation_tip","block_security_deposit","endorsement_security_deposit","block_reward","endorsement_reward","cost_per_byte","hard_storage_limit_per_operation","test_chain_duration","baking_reward_per_endorsement","delay_per_missing_endorsement","minimal_block_delay","liquidity_baking_subsidy","cache_layout","baking_reward_fixed_portion","baking_reward_bonus_per_slot","endorsing_reward_per_slot","double_baking_punishment","delay_increment_per_round","tx_rollup_commitment_bond","vdf_difficulty","sc_rollup_stake_amount","minimal_stake"]);return Object.assign(Object.assign({},t),r)})}getBlock(){let{block:e,version:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;return O(this,void 0,void 0,function*(){let r={url:this.createURL("/chains/".concat(this.chain,"/blocks/").concat(e)),method:"GET"};return void 0!==t&&(r.query={version:t}),yield this.httpBackend.createRequest(r)})}getBlockHeader(){let{block:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;return O(this,void 0,void 0,function*(){return yield this.httpBackend.createRequest({url:this.createURL("/chains/".concat(this.chain,"/blocks/").concat(e,"/header")),method:"GET"})})}getBlockMetadata(){let{block:e,version:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;return O(this,void 0,void 0,function*(){let r={url:this.createURL("/chains/".concat(this.chain,"/blocks/").concat(e,"/metadata")),method:"GET"};return void 0!==t&&(r.query={version:t}),yield this.httpBackend.createRequest(r)})}getBakingRights(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{block:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P;return O(this,void 0,void 0,function*(){return yield this.httpBackend.createRequest({url:this.createURL("/chains/".concat(this.chain,"/blocks/").concat(t,"/helpers/baking_rights")),method:"GET",query:e})})}getAttestationRights(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{block:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P;return O(this,void 0,void 0,function*(){return yield this.httpBackend.createRequest({url:this.createURL("/chains/".concat(this.chain,"/blocks/").concat(t,"/helpers/attestation_rights")),method:"GET",query:e})})}getEndorsingRights(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{block:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P;return O(this,void 0,void 0,function*(){return yield this.httpBackend.createRequest({url:this.createURL("/chains/".concat(this.chain,"/blocks/").concat(t,"/helpers/endorsing_rights")),method:"GET",query:e})})}getBallotList(){let{block:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;return O(this,void 0,void 0,function*(){return yield this.httpBackend.createRequest({url:this.createURL("/chains/".concat(this.chain,"/blocks/").concat(e,"/votes/ballot_list")),method:"GET"})})}getBallots(){let{block:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;return O(this,void 0,void 0,function*(){return k((yield this.httpBackend.createRequest({url:this.createURL("/chains/".concat(this.chain,"/blocks/").concat(e,"/votes/ballots")),method:"GET"})),["yay","nay","pass"])})}getCurrentProposal(){let{block:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;return O(this,void 0,void 0,function*(){return yield this.httpBackend.createRequest({url:this.createURL("/chains/".concat(this.chain,"/blocks/").concat(e,"/votes/current_proposal")),method:"GET"})})}getCurrentQuorum(){let{block:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;return O(this,void 0,void 0,function*(){return yield this.httpBackend.createRequest({url:this.createURL("/chains/".concat(this.chain,"/blocks/").concat(e,"/votes/current_quorum")),method:"GET"})})}getVotesListings(){let{block:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;return O(this,void 0,void 0,function*(){let t=yield this.httpBackend.createRequest({url:this.createURL("/chains/".concat(this.chain,"/blocks/").concat(e,"/votes/listings")),method:"GET"});return t.map(e=>(e.voting_power&&(e.voting_power=new T.Z(e.voting_power)),e)),t})}getProposals(){let{block:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;return O(this,void 0,void 0,function*(){let t=yield this.httpBackend.createRequest({url:this.createURL("/chains/".concat(this.chain,"/blocks/").concat(e,"/votes/proposals")),method:"GET"});return t.map(e=>e[1]=new T.Z(e[1])),t})}forgeOperations(e){let{block:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P;return O(this,void 0,void 0,function*(){return this.httpBackend.createRequest({url:this.createURL("/chains/".concat(this.chain,"/blocks/").concat(t,"/helpers/forge/operations")),method:"POST"},e)})}injectOperation(e){return O(this,void 0,void 0,function*(){return this.httpBackend.createRequest({url:this.createURL("/injection/operation"),method:"POST"},e)})}preapplyOperations(e){let{block:t,version:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P;return O(this,void 0,void 0,function*(){let n={url:this.createURL("/chains/".concat(this.chain,"/blocks/").concat(t,"/helpers/preapply/operations")),method:"POST"};return void 0!==r&&(n.query={version:r}),yield this.httpBackend.createRequest(n,e)})}getEntrypoints(e){let{block:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P;return O(this,void 0,void 0,function*(){return this.validateContract(e),yield this.httpBackend.createRequest({url:this.createURL("/chains/".concat(this.chain,"/blocks/").concat(t,"/context/contracts/").concat(e,"/entrypoints")),method:"GET"})})}runOperation(e){let{block:t,version:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P;return O(this,void 0,void 0,function*(){let n={url:this.createURL("/chains/".concat(this.chain,"/blocks/").concat(t,"/helpers/scripts/run_operation")),method:"POST"};return void 0!==r&&(n.query={version:r}),yield this.httpBackend.createRequest(n,e)})}simulateOperation(e){let{block:t,version:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P;return O(this,void 0,void 0,function*(){let n={url:this.createURL("/chains/".concat(this.chain,"/blocks/").concat(t,"/helpers/scripts/simulate_operation")),method:"POST"};return void 0!==r&&(n.query={version:r}),yield this.httpBackend.createRequest(n,e)})}runCode(e){let{block:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P;return O(this,void 0,void 0,function*(){return yield this.httpBackend.createRequest({url:this.createURL("/chains/".concat(this.chain,"/blocks/").concat(t,"/helpers/scripts/run_code")),method:"POST"},e)})}runScriptView(e,t){var{unparsing_mode:r="Readable"}=e,n=R(e,["unparsing_mode"]),i=(void 0===t?P:t).block;return O(this,void 0,void 0,function*(){return this.httpBackend.createRequest({url:this.createURL("/chains/".concat(this.chain,"/blocks/").concat(i,"/helpers/scripts/run_script_view")),method:"POST"},Object.assign({unparsing_mode:r},n))})}runView(e,t){var{unparsing_mode:r="Readable"}=e,n=R(e,["unparsing_mode"]),i=(void 0===t?P:t).block;return O(this,void 0,void 0,function*(){return this.httpBackend.createRequest({url:this.createURL("/chains/".concat(this.chain,"/blocks/").concat(i,"/helpers/scripts/run_view")),method:"POST"},Object.assign({unparsing_mode:r},n))})}getChainId(){return O(this,void 0,void 0,function*(){return this.httpBackend.createRequest({url:this.createURL("/chains/".concat(this.chain,"/chain_id")),method:"GET"})})}packData(e){let{block:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P;return O(this,void 0,void 0,function*(){let r=yield this.httpBackend.createRequest({url:this.createURL("/chains/".concat(this.chain,"/blocks/").concat(t,"/helpers/scripts/pack_data")),method:"POST"},e),{gas:n}=r,i=R(r,["gas"]),s=n,o=new T.Z(n||"");return o.isNaN()||(s=o),Object.assign({gas:s},i)})}getRpcUrl(){return this.url}getCurrentPeriod(){let{block:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;return O(this,void 0,void 0,function*(){return yield this.httpBackend.createRequest({url:this.createURL("/chains/".concat(this.chain,"/blocks/").concat(e,"/votes/current_period")),method:"GET"})})}getSuccessorPeriod(){let{block:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;return O(this,void 0,void 0,function*(){return yield this.httpBackend.createRequest({url:this.createURL("/chains/".concat(this.chain,"/blocks/").concat(e,"/votes/successor_period")),method:"GET"})})}getSaplingDiffById(e){let{block:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P;return O(this,void 0,void 0,function*(){return this.httpBackend.createRequest({url:this.createURL("/chains/".concat(this.chain,"/blocks/").concat(t,"/context/sapling/").concat(e,"/get_diff")),method:"GET"})})}getSaplingDiffByContract(e){let{block:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P;return O(this,void 0,void 0,function*(){return this.httpBackend.createRequest({url:this.createURL("/chains/".concat(this.chain,"/blocks/").concat(t,"/context/contracts/").concat(e,"/single_sapling_get_diff")),method:"GET"})})}getProtocols(){let{block:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;return O(this,void 0,void 0,function*(){return this.httpBackend.createRequest({url:this.createURL("/chains/".concat(this.chain,"/blocks/").concat(e,"/protocols")),method:"GET"})})}getStorageUsedSpace(e){let{block:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P;return O(this,void 0,void 0,function*(){return this.httpBackend.createRequest({url:this.createURL("/chains/".concat(this.chain,"/blocks/").concat(t,"/context/contracts/").concat(e,"/storage/used_space")),method:"GET"})})}getStoragePaidSpace(e){let{block:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P;return O(this,void 0,void 0,function*(){return this.httpBackend.createRequest({url:this.createURL("/chains/".concat(this.chain,"/blocks/").concat(t,"/context/contracts/").concat(e,"/storage/paid_space")),method:"GET"})})}getTicketBalance(e,t){let{block:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:P;return O(this,void 0,void 0,function*(){return this.httpBackend.createRequest({url:this.createURL("/chains/".concat(this.chain,"/blocks/").concat(r,"/context/contracts/").concat(e,"/ticket_balance")),method:"POST"},t)})}getAllTicketBalances(e){let{block:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P;return O(this,void 0,void 0,function*(){return this.httpBackend.createRequest({url:this.createURL("/chains/".concat(this.chain,"/blocks/").concat(t,"/context/contracts/").concat(e,"/all_ticket_balances")),method:"GET"})})}getPendingOperations(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return O(this,void 0,void 0,function*(){return this.httpBackend.createRequest({url:this.createURL("/chains/".concat(this.chain,"/mempool/pending_operations")),method:"GET",query:e})})}constructor(e,t="main",r=new A.jN){this.url=e,this.chain=t,this.httpBackend=r}}},75410:function(e,t,r){"use strict";r.d(t,{$$:function(){return h.$$},Ak:function(){return k},Cw:function(){return K},MT:function(){return W},O4:function(){return p},VN:function(){return x},WU:function(){return L},Wo:function(){return h.Wo},Y$:function(){return B},YN:function(){return T},Yu:function(){return G},aP:function(){return q},aZ:function(){return H},dd:function(){return z},f4:function(){return C},kM:function(){return D},lM:function(){return N},mZ:function(){return j},nd:function(){return o},oT:function(){return s},p:function(){return h.p},pB:function(){return O},r9:function(){return m},rY:function(){return I},sA:function(){return U},vO:function(){return R},z:function(){return F},z8:function(){return P}});var n,i,s,o,a=r(23663);r(75388),r(40106);var c=r(68372),u=r.n(c),l=r(93918),d=r.n(l),h=r(91813),f=r(22840);r(23254),r(2240),(n=s||(s={})).TZ1="tz1",n.TZ2="tz2",n.TZ3="tz3",n.TZ4="tz4",n.KT="KT",n.KT1="KT1",n.EDSK2="edsk2",n.SPSK="spsk",n.P2SK="p2sk",n.EDPK="edpk",n.SPPK="sppk",n.P2PK="p2pk",n.BLPK="BLpk",n.EDESK="edesk",n.SPESK="spesk",n.P2ESK="p2esk",n.EDSK="edsk",n.EDSIG="edsig",n.SPSIG="spsig",n.P2SIG="p2sig",n.SIG="sig",n.NET="Net",n.NCE="nce",n.B="B",n.O="o",n.LO="Lo",n.LLO="LLo",n.P="P",n.CO="Co",n.ID="id",n.EXPR="expr",n.TZ="TZ",n.VH="vh",n.SASK="sask",n.ZET1="zet1",n.SR1="sr1",n.SRC1="src1";let p={[s.TZ1]:new Uint8Array([6,161,159]),[s.TZ2]:new Uint8Array([6,161,161]),[s.TZ3]:new Uint8Array([6,161,164]),[s.TZ4]:new Uint8Array([6,161,166]),[s.KT]:new Uint8Array([2,90,121]),[s.KT1]:new Uint8Array([2,90,121]),[s.EDSK]:new Uint8Array([43,246,78,7]),[s.EDSK2]:new Uint8Array([13,15,58,7]),[s.SPSK]:new Uint8Array([17,162,224,201]),[s.P2SK]:new Uint8Array([16,81,238,189]),[s.EDPK]:new Uint8Array([13,15,37,217]),[s.SPPK]:new Uint8Array([3,254,226,86]),[s.P2PK]:new Uint8Array([3,178,139,127]),[s.BLPK]:new Uint8Array([6,149,135,204]),[s.EDESK]:new Uint8Array([7,90,60,179,41]),[s.SPESK]:new Uint8Array([9,237,241,174,150]),[s.P2ESK]:new Uint8Array([9,48,57,115,171]),[s.EDSIG]:new Uint8Array([9,245,205,134,18]),[s.SPSIG]:new Uint8Array([13,115,101,19,63]),[s.P2SIG]:new Uint8Array([54,240,44,52]),[s.SIG]:new Uint8Array([4,130,43]),[s.NET]:new Uint8Array([87,82,0]),[s.NCE]:new Uint8Array([69,220,169]),[s.B]:new Uint8Array([1,52]),[s.O]:new Uint8Array([5,116]),[s.LO]:new Uint8Array([133,233]),[s.LLO]:new Uint8Array([29,159,109]),[s.P]:new Uint8Array([2,170]),[s.CO]:new Uint8Array([79,179]),[s.ID]:new Uint8Array([153,103]),[s.EXPR]:new Uint8Array([13,44,64,27]),[s.TZ]:new Uint8Array([2,90,121]),[s.VH]:new Uint8Array([1,106,242]),[s.SASK]:new Uint8Array([11,237,20,92]),[s.ZET1]:new Uint8Array([18,71,40,223]),[s.SR1]:new Uint8Array([6,124,117]),[s.SRC1]:new Uint8Array([17,165,134,138])},m={[s.TZ1]:20,[s.TZ2]:20,[s.TZ3]:20,[s.TZ4]:20,[s.KT]:20,[s.KT1]:20,[s.EDPK]:32,[s.SPPK]:33,[s.P2PK]:33,[s.BLPK]:48,[s.EDSIG]:64,[s.SPSIG]:64,[s.P2SIG]:64,[s.SIG]:64,[s.NET]:4,[s.B]:32,[s.P]:32,[s.O]:32,[s.VH]:32,[s.SASK]:169,[s.ZET1]:43,[s.SR1]:20,[s.SRC1]:32};class g extends h.s{constructor(e,t){super(),this.value=e,this.desiredType=t,this.name="ValueConversionError",this.message="Unable to convert ".concat(e," to a ").concat(t)}}function v(e,t){let r=new RegExp("^(".concat(t.join("|"),")")).exec(e);if(!r||0===r.length)return o.NO_PREFIX_MATCHED;let n=r[0];if(!("string"==typeof n&&n in p))return o.NO_PREFIX_MATCHED;if(e.includes("%")&&(e=e.split("%")[0]),!/^(KT1\w{33})$/.test(e)&&"KT1"===n)return o.INVALID_CHECKSUM;let i=d().decodeUnsafe(e);return i?(i=i.slice(p[n].length)).length!==m[n]?o.INVALID_LENGTH:o.VALID:o.INVALID_CHECKSUM}(i=o||(o={}))[i.NO_PREFIX_MATCHED=0]="NO_PREFIX_MATCHED",i[i.INVALID_CHECKSUM=1]="INVALID_CHECKSUM",i[i.INVALID_LENGTH=2]="INVALID_LENGTH",i[i.VALID=3]="VALID";let b=[s.TZ1,s.TZ2,s.TZ3,s.TZ4],y=[s.KT1],w=[s.EDSIG,s.P2SIG,s.SPSIG,s.SIG],E=[s.EDPK,s.SPPK,s.P2PK,s.BLPK],_=[s.O];s.P;let S=[s.B],A=[s.SR1];function T(e){return v(e,[...b,...y,...A])}function x(e){return v(e,[s.NET])}function I(e){return v(e,y)}function R(e){return v(e,b)}function O(e){return v(e,w)}function P(e){return v(e,E)}function k(e){return v(e,_)}function N(e){return v(e,S)}function C(e){switch(e){case o.NO_PREFIX_MATCHED:return"with unsupported prefix";case o.INVALID_CHECKSUM:return"failed checksum";case o.INVALID_LENGTH:return"with incorrect length";default:return""}}function M(e){switch(e){case"tz":return 6;case"mtz":return 3;default:return 0}}function L(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mutez",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mutez",r=arguments.length>2?arguments[2]:void 0,n=new f.Z(r);return n.isNaN()?r:n.multipliedBy(Math.pow(10,M(e))).dividedBy(Math.pow(10,M(t)))}function B(e){return D(u().blake2b(G(e),void 0,32),p.expr)}function D(e,t){let r="string"==typeof e?Uint8Array.from(a.Buffer.from(e,"hex")):e,n=new Uint8Array(t.length+r.length);return n.set(t),n.set(r,t.length),d().encode(a.Buffer.from(n.buffer))}let U=(e,t)=>d().decode(e).slice(t.length);function H(e){let t=d().decode(e),r={[p.tz1.toString()]:"0000",[p.tz2.toString()]:"0001",[p.tz3.toString()]:"0002"}[new Uint8Array(t.slice(0,3)).toString()];return r?r+K(t.slice(3)):"01"+K(t.slice(3,42))+"00"}function j(e){if("0x"===e.substring(0,2)&&(e=e.slice(2)),"00"===e.substring(0,2)){let t={"0000":p.tz1,"0001":p.tz2,"0002":p.tz3};return D(e.substring(4),t[e.substring(0,4)])}return D(e.substring(2,42),p.KT)}function F(e){if("0"===e[0]){let t={"00":new Uint8Array([13,15,37,217]),"01":new Uint8Array([3,254,226,86]),"02":new Uint8Array([3,178,139,127])};return D(e.substring(2),t[e.substring(0,2)])}}function q(e){if("0"===e[0]){let t={"00":new Uint8Array([6,161,159]),"01":new Uint8Array([6,161,161]),"02":new Uint8Array([6,161,164])};return D(e.substring(2),t[e.substring(0,2)])}}let G=e=>{if(e.length%2!=0)throw new h.mu(e,": Expecting even number of characters");let t=W(e);if(!t.match(/^([\da-f]{2})*$/gi))throw new h.mu(e,": Only characters 0-9, a-f and A-F are expected. Optionally, it can be prefixed with '0x'");let r=new Uint8Array(t.length/2),n=0;for(let i=0;i<t.length;i+=2){let s=parseInt(t.slice(i,i+2),16);if(Number.isNaN(s))throw new g(e,"Uint8Array");r[n++]=s}return r},z=(e,t)=>{let r=new Uint8Array(e.length+t.length);return r.set(e),r.set(t,e.length),r},K=e=>{let t=[];return e.forEach(e=>{let r=e.toString(16),n="00".concat(r).slice(-2);t.push(n)}),t.join("")};function W(e){return e.startsWith("0x")?e.slice(2):e}},88103:function(e){"use strict";e.exports=function(e){if(e.length>=255)throw TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),s=i.charCodeAt(0);if(255!==t[s])throw TypeError(i+" is ambiguous");t[s]=n}var o=e.length,a=e.charAt(0),c=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function l(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;for(var r=0,n=0,i=0;e[r]===a;)n++,r++;for(var s=(e.length-r)*c+1>>>0,u=new Uint8Array(s);e[r];){var l=t[e.charCodeAt(r)];if(255===l)return;for(var d=0,h=s-1;(0!==l||d<i)&&-1!==h;h--,d++)l+=o*u[h]>>>0,u[h]=l%256>>>0,l=l/256>>>0;if(0!==l)throw Error("Non-zero carry");i=d,r++}for(var f=s-i;f!==s&&0===u[f];)f++;for(var p=new Uint8Array(n+(s-f)),m=n;f!==s;)p[m++]=u[f++];return p}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,s=t.length;i!==s&&0===t[i];)i++,r++;for(var c=(s-i)*u+1>>>0,l=new Uint8Array(c);i!==s;){for(var d=t[i],h=0,f=c-1;(0!==d||h<n)&&-1!==f;f--,h++)d+=256*l[f]>>>0,l[f]=d%o>>>0,d=d/o>>>0;if(0!==d)throw Error("Non-zero carry");n=h,i++}for(var p=c-n;p!==c&&0===l[p];)p++;for(var m=a.repeat(r);p<c;++p)m+=e.charAt(l[p]);return m},decodeUnsafe:l,decode:function(e){var t=l(e);if(t)return t;throw Error("Non-base"+o+" character")}}}},2984:function(e,t,r){"use strict";let n=r(88103);e.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},36621:function(e,t,r){"use strict";var n=r(2984);e.exports=function(e){function t(t){var r=t.slice(0,-4),n=t.slice(-4),i=e(r);if(!(n[0]^i[0]|n[1]^i[1]|n[2]^i[2]|n[3]^i[3]))return r}return{encode:function(t){var r=Uint8Array.from(t),i=e(r),s=r.length+4,o=new Uint8Array(s);return o.set(r,0),o.set(i.subarray(0,4),r.length),n.encode(o,s)},decode:function(r){var i=t(n.decode(r),e);if(!i)throw Error("Invalid checksum");return i},decodeUnsafe:function(e){var r=n.decodeUnsafe(e);if(r)return t(r)}}}},93918:function(e,t,r){"use strict";var{sha256:n}=r(23928),i=r(36621);e.exports=i(function(e){return n(n(e))})},88983:function(e,t,r){"use strict";let n=r(13845);function i(e,t,r){let n=e[t]+e[r],i=e[t+1]+e[r+1];n>=4294967296&&i++,e[t]=n,e[t+1]=i}function s(e,t,r,n){let i=e[t]+r;r<0&&(i+=4294967296);let s=e[t+1]+n;i>=4294967296&&s++,e[t]=i,e[t+1]=s}function o(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function a(e,t,r,n,o,a){let c=d[o],u=d[o+1],h=d[a],f=d[a+1];i(l,e,t),s(l,e,c,u);let p=l[n]^l[e],m=l[n+1]^l[e+1];l[n]=m,l[n+1]=p,i(l,r,n),p=l[t]^l[r],m=l[t+1]^l[r+1],l[t]=p>>>24^m<<8,l[t+1]=m>>>24^p<<8,i(l,e,t),s(l,e,h,f),p=l[n]^l[e],m=l[n+1]^l[e+1],l[n]=p>>>16^m<<16,l[n+1]=m>>>16^p<<16,i(l,r,n),p=l[t]^l[r],m=l[t+1]^l[r+1],l[t]=m>>>31^p<<1,l[t+1]=p>>>31^m<<1}let c=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),u=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map(function(e){return 2*e})),l=new Uint32Array(32),d=new Uint32Array(32);function h(e,t){let r=0;for(r=0;r<16;r++)l[r]=e.h[r],l[r+16]=c[r];for(l[24]=l[24]^e.t,l[25]=l[25]^e.t/4294967296,t&&(l[28]=~l[28],l[29]=~l[29]),r=0;r<32;r++)d[r]=o(e.b,4*r);for(r=0;r<12;r++)a(0,8,16,24,u[16*r+0],u[16*r+1]),a(2,10,18,26,u[16*r+2],u[16*r+3]),a(4,12,20,28,u[16*r+4],u[16*r+5]),a(6,14,22,30,u[16*r+6],u[16*r+7]),a(0,10,20,30,u[16*r+8],u[16*r+9]),a(2,12,22,24,u[16*r+10],u[16*r+11]),a(4,14,16,26,u[16*r+12],u[16*r+13]),a(6,8,18,28,u[16*r+14],u[16*r+15]);for(r=0;r<16;r++)e.h[r]=e.h[r]^l[r]^l[r+16]}let f=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function p(e,t,r,n){if(0===e||e>64)throw Error("Illegal output length, expected 0 < length <= 64");if(t&&t.length>64)throw Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(r&&16!==r.length)throw Error("Illegal salt, expected Uint8Array with length is 16");if(n&&16!==n.length)throw Error("Illegal personal, expected Uint8Array with length is 16");let i={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:e};f.fill(0),f[0]=e,t&&(f[1]=t.length),f[2]=1,f[3]=1,r&&f.set(r,32),n&&f.set(n,48);for(let e=0;e<16;e++)i.h[e]=c[e]^o(f,4*e);return t&&(m(i,t),i.c=128),i}function m(e,t){for(let r=0;r<t.length;r++)128===e.c&&(e.t+=e.c,h(e,!1),e.c=0),e.b[e.c++]=t[r]}function g(e){for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;h(e,!0);let t=new Uint8Array(e.outlen);for(let r=0;r<e.outlen;r++)t[r]=e.h[r>>2]>>8*(3&r);return t}function v(e,t,r,i,s){r=r||64,e=n.normalizeInput(e),i&&(i=n.normalizeInput(i)),s&&(s=n.normalizeInput(s));let o=p(r,t,i,s);return m(o,e),g(o)}e.exports={blake2b:v,blake2bHex:function(e,t,r,i,s){let o=v(e,t,r,i,s);return n.toHex(o)},blake2bInit:p,blake2bUpdate:m,blake2bFinal:g}},2128:function(e,t,r){"use strict";let n=r(13845);function i(e,t,r,n,i,o){c[e]=c[e]+c[t]+i,c[n]=s(c[n]^c[e],16),c[r]=c[r]+c[n],c[t]=s(c[t]^c[r],12),c[e]=c[e]+c[t]+o,c[n]=s(c[n]^c[e],8),c[r]=c[r]+c[n],c[t]=s(c[t]^c[r],7)}function s(e,t){return e>>>t^e<<32-t}let o=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),a=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),c=new Uint32Array(16),u=new Uint32Array(16);function l(e,t){let r=0;for(r=0;r<8;r++)c[r]=e.h[r],c[r+8]=o[r];for(c[12]^=e.t,c[13]^=e.t/4294967296,t&&(c[14]=~c[14]),r=0;r<16;r++){var n,s;u[r]=(n=e.b)[s=4*r]^n[s+1]<<8^n[s+2]<<16^n[s+3]<<24}for(r=0;r<10;r++)i(0,4,8,12,u[a[16*r+0]],u[a[16*r+1]]),i(1,5,9,13,u[a[16*r+2]],u[a[16*r+3]]),i(2,6,10,14,u[a[16*r+4]],u[a[16*r+5]]),i(3,7,11,15,u[a[16*r+6]],u[a[16*r+7]]),i(0,5,10,15,u[a[16*r+8]],u[a[16*r+9]]),i(1,6,11,12,u[a[16*r+10]],u[a[16*r+11]]),i(2,7,8,13,u[a[16*r+12]],u[a[16*r+13]]),i(3,4,9,14,u[a[16*r+14]],u[a[16*r+15]]);for(r=0;r<8;r++)e.h[r]^=c[r]^c[r+8]}function d(e,t){if(!(e>0&&e<=32))throw Error("Incorrect output length, should be in [1, 32]");let r=t?t.length:0;if(t&&!(r>0&&r<=32))throw Error("Incorrect key length, should be in [1, 32]");let n={h:new Uint32Array(o),b:new Uint8Array(64),c:0,t:0,outlen:e};return n.h[0]^=16842752^r<<8^e,r>0&&(h(n,t),n.c=64),n}function h(e,t){for(let r=0;r<t.length;r++)64===e.c&&(e.t+=e.c,l(e,!1),e.c=0),e.b[e.c++]=t[r]}function f(e){for(e.t+=e.c;e.c<64;)e.b[e.c++]=0;l(e,!0);let t=new Uint8Array(e.outlen);for(let r=0;r<e.outlen;r++)t[r]=e.h[r>>2]>>8*(3&r)&255;return t}function p(e,t,r){r=r||32,e=n.normalizeInput(e);let i=d(r,t);return h(i,e),f(i)}e.exports={blake2s:p,blake2sHex:function(e,t,r){let i=p(e,t,r);return n.toHex(i)},blake2sInit:d,blake2sUpdate:h,blake2sFinal:f}},68372:function(e,t,r){"use strict";let n=r(88983),i=r(2128);e.exports={blake2b:n.blake2b,blake2bHex:n.blake2bHex,blake2bInit:n.blake2bInit,blake2bUpdate:n.blake2bUpdate,blake2bFinal:n.blake2bFinal,blake2s:i.blake2s,blake2sHex:i.blake2sHex,blake2sInit:i.blake2sInit,blake2sUpdate:i.blake2sUpdate,blake2sFinal:i.blake2sFinal}},13845:function(e){"use strict";function t(e){return(4294967296+e).toString(16).substring(1)}e.exports={normalizeInput:function(e){let t;if(e instanceof Uint8Array)t=e;else if("string"==typeof e)t=new TextEncoder().encode(e);else throw Error("Input must be an string, Buffer or Uint8Array");return t},toHex:function(e){return Array.prototype.map.call(e,function(e){return(e<16?"0":"")+e.toString(16)}).join("")},debugPrint:function(e,r,n){let i="\n"+e+" = ";for(let s=0;s<r.length;s+=2){if(32===n)i+=t(r[s]).toUpperCase()+" "+t(r[s+1]).toUpperCase();else if(64===n)i+=t(r[s+1]).toUpperCase()+t(r[s]).toUpperCase();else throw Error("Invalid size "+n);s%6==4?i+="\n"+Array(e.length+4).join(" "):s<r.length-2&&(i+=" ")}console.log(i)},testSpeed:function(e,t,r){let n=new Date().getTime(),i=new Uint8Array(t);for(let e=0;e<t;e++)i[e]=e%256;let s=new Date().getTime();console.log("Generated random input in "+(s-n)+"ms"),n=s;for(let s=0;s<r;s++){let r=e(i),s=new Date().getTime(),o=s-n;n=s,console.log("Hashed in "+o+"ms: "+r.substring(0,20)+"..."),console.log(Math.round(t/1048576/(o/1e3)*100)/100+" MB PER SECOND")}}}},34108:function(e,t,r){!function(e,t){"use strict";function n(e,t){if(!e)throw Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function s(e,t,r){if(s.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&(("le"===t||"be"===t)&&(r=t,t=10),this._init(e||0,t||10,r||"be"))}"object"==typeof e?e.exports=s:t.BN=s,s.BN=s,s.wordSize=26;try{u=void 0!==window.Buffer?window.Buffer:r(46601).Buffer}catch(e){}function o(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function a(e,t,r){var n=o(e,r);return r-1>=t&&(n|=o(e,r-1)<<4),n}function c(e,t,r,n){for(var i=0,s=Math.min(e.length,r),o=t;o<s;o++){var a=e.charCodeAt(o)-48;i*=n,a>=49?i+=a-49+10:a>=17?i+=a-17+10:i+=a}return i}s.isBN=function(e){return e instanceof s||null!==e&&"object"==typeof e&&e.constructor.wordSize===s.wordSize&&Array.isArray(e.words)},s.max=function(e,t){return e.cmp(t)>0?e:t},s.min=function(e,t){return 0>e.cmp(t)?e:t},s.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},s.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},s.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=Array(this.length);for(var i,s,o=0;o<this.length;o++)this.words[o]=0;var a=0;if("be"===r)for(o=e.length-1,i=0;o>=0;o-=3)s=e[o]|e[o-1]<<8|e[o-2]<<16,this.words[i]|=s<<a&67108863,this.words[i+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,i++);else if("le"===r)for(o=0,i=0;o<e.length;o+=3)s=e[o]|e[o+1]<<8|e[o+2]<<16,this.words[i]|=s<<a&67108863,this.words[i+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,i++);return this.strip()},s.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=Array(this.length);for(var n,i=0;i<this.length;i++)this.words[i]=0;var s=0,o=0;if("be"===r)for(i=e.length-1;i>=t;i-=2)n=a(e,t,i)<<s,this.words[o]|=67108863&n,s>=18?(s-=18,o+=1,this.words[o]|=n>>>26):s+=8;else for(i=(e.length-t)%2==0?t+1:t;i<e.length;i+=2)n=a(e,t,i)<<s,this.words[o]|=67108863&n,s>=18?(s-=18,o+=1,this.words[o]|=n>>>26):s+=8;this.strip()},s.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var s=e.length-r,o=s%n,a=Math.min(s,s-o)+r,u=0,l=r;l<a;l+=n)u=c(e,l,l+n,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var d=1;for(u=c(e,l,e.length,t),l=0;l<o;l++)d*=t;this.imuln(d),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},s.prototype.copy=function(e){e.words=Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},s.prototype.clone=function(){var e=new s(null);return this.copy(e),e},s.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u,l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],s=0|t.words[0],o=i*s,a=67108863&o,c=o/67108864|0;r.words[0]=a;for(var u=1;u<n;u++){for(var l=c>>>26,d=67108863&c,h=Math.min(u,t.length-1),f=Math.max(0,u-e.length+1);f<=h;f++){var p=u-f|0;l+=(o=(i=0|e.words[p])*(s=0|t.words[f])+d)/67108864|0,d=67108863&o}r.words[u]=0|d,c=0|l}return 0!==c?r.words[u]=0|c:r.length--,r.strip()}s.prototype.toString=function(e,t){if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var r,i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],c=((a<<i|s)&16777215).toString(16);r=0!=(s=a>>>24-i&16777215)||o!==this.length-1?l[6-c.length]+c+r:c+r,(i+=2)>=26&&(i-=26,o--)}for(0!==s&&(r=s.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var u=d[e],f=h[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(f).toString(e);r=(p=p.idivn(f)).isZero()?m+r:l[u-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(e,t){return n(void 0!==u),this.toArrayLike(u,e,t)},s.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},s.prototype.toArrayLike=function(e,t,r){var i,s,o=this.byteLength(),a=r||Math.max(1,o);n(o<=a,"byte array longer than desired length"),n(a>0,"Requested array length <= 0"),this.strip();var c=new e(a),u=this.clone();if("le"===t){for(s=0;!u.isZero();s++)i=u.andln(255),u.iushrn(8),c[s]=i;for(;s<a;s++)c[s]=0}else{for(s=0;s<a-o;s++)c[s]=0;for(s=0;!u.isZero();s++)i=u.andln(255),u.iushrn(8),c[a-s-1]=i}return c},Math.clz32?s.prototype._countBits=function(e){return 32-Math.clz32(e)}:s.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},s.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return(8191&t)==0&&(r+=13,t>>>=13),(127&t)==0&&(r+=7,t>>>=7),(15&t)==0&&(r+=4,t>>>=4),(3&t)==0&&(r+=2,t>>>=2),(1&t)==0&&r++,r},s.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return(this.length-1)*26+t},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},s.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},s.prototype.ior=function(e){return n((this.negative|e.negative)==0),this.iuor(e)},s.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},s.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},s.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},s.prototype.iand=function(e){return n((this.negative|e.negative)==0),this.iuand(e)},s.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},s.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},s.prototype.iuxor=function(e){this.length>e.length?(t=this,r=e):(t=e,r=this);for(var t,r,n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},s.prototype.ixor=function(e){return n((this.negative|e.negative)==0),this.iuxor(e)},s.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},s.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},s.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},s.prototype.notn=function(e){return this.clone().inotn(e)},s.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),t?this.words[r]=this.words[r]|1<<i:this.words[r]=this.words[r]&~(1<<i),this.strip()},s.prototype.iadd=function(e){if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var t,r,n,i=0,s=0;s<n.length;s++)t=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&t,i=t>>>26;for(;0!==i&&s<r.length;s++)t=(0|r.words[s])+i,this.words[s]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},s.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t,r,n=this.iadd(e);return e.negative=1,n._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(t=this,r=e):(t=e,r=this);for(var s=0,o=0;o<r.length;o++)s=(n=(0|t.words[o])-(0|r.words[o])+s)>>26,this.words[o]=67108863&n;for(;0!==s&&o<t.length;o++)s=(n=(0|t.words[o])+s)>>26,this.words[o]=67108863&n;if(0===s&&o<t.length&&t!==this)for(;o<t.length;o++)this.words[o]=t.words[o];return this.length=Math.max(this.length,o),t!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,r){var n,i,s,o=e.words,a=t.words,c=r.words,u=0,l=0|o[0],d=8191&l,h=l>>>13,f=0|o[1],p=8191&f,m=f>>>13,g=0|o[2],v=8191&g,b=g>>>13,y=0|o[3],w=8191&y,E=y>>>13,_=0|o[4],S=8191&_,A=_>>>13,T=0|o[5],x=8191&T,I=T>>>13,R=0|o[6],O=8191&R,P=R>>>13,k=0|o[7],N=8191&k,C=k>>>13,M=0|o[8],L=8191&M,B=M>>>13,D=0|o[9],U=8191&D,H=D>>>13,j=0|a[0],F=8191&j,q=j>>>13,G=0|a[1],z=8191&G,K=G>>>13,W=0|a[2],V=8191&W,J=W>>>13,Z=0|a[3],Q=8191&Z,X=Z>>>13,Y=0|a[4],$=8191&Y,ee=Y>>>13,et=0|a[5],er=8191&et,en=et>>>13,ei=0|a[6],es=8191&ei,eo=ei>>>13,ea=0|a[7],ec=8191&ea,eu=ea>>>13,el=0|a[8],ed=8191&el,eh=el>>>13,ef=0|a[9],ep=8191&ef,em=ef>>>13;r.negative=e.negative^t.negative,r.length=19;var eg=(u+(n=Math.imul(d,F))|0)+((8191&(i=(i=Math.imul(d,q))+Math.imul(h,F)|0))<<13)|0;u=((s=Math.imul(h,q))+(i>>>13)|0)+(eg>>>26)|0,eg&=67108863,n=Math.imul(p,F),i=(i=Math.imul(p,q))+Math.imul(m,F)|0,s=Math.imul(m,q);var ev=(u+(n=n+Math.imul(d,z)|0)|0)+((8191&(i=(i=i+Math.imul(d,K)|0)+Math.imul(h,z)|0))<<13)|0;u=((s=s+Math.imul(h,K)|0)+(i>>>13)|0)+(ev>>>26)|0,ev&=67108863,n=Math.imul(v,F),i=(i=Math.imul(v,q))+Math.imul(b,F)|0,s=Math.imul(b,q),n=n+Math.imul(p,z)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(m,z)|0,s=s+Math.imul(m,K)|0;var eb=(u+(n=n+Math.imul(d,V)|0)|0)+((8191&(i=(i=i+Math.imul(d,J)|0)+Math.imul(h,V)|0))<<13)|0;u=((s=s+Math.imul(h,J)|0)+(i>>>13)|0)+(eb>>>26)|0,eb&=67108863,n=Math.imul(w,F),i=(i=Math.imul(w,q))+Math.imul(E,F)|0,s=Math.imul(E,q),n=n+Math.imul(v,z)|0,i=(i=i+Math.imul(v,K)|0)+Math.imul(b,z)|0,s=s+Math.imul(b,K)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(m,V)|0,s=s+Math.imul(m,J)|0;var ey=(u+(n=n+Math.imul(d,Q)|0)|0)+((8191&(i=(i=i+Math.imul(d,X)|0)+Math.imul(h,Q)|0))<<13)|0;u=((s=s+Math.imul(h,X)|0)+(i>>>13)|0)+(ey>>>26)|0,ey&=67108863,n=Math.imul(S,F),i=(i=Math.imul(S,q))+Math.imul(A,F)|0,s=Math.imul(A,q),n=n+Math.imul(w,z)|0,i=(i=i+Math.imul(w,K)|0)+Math.imul(E,z)|0,s=s+Math.imul(E,K)|0,n=n+Math.imul(v,V)|0,i=(i=i+Math.imul(v,J)|0)+Math.imul(b,V)|0,s=s+Math.imul(b,J)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(m,Q)|0,s=s+Math.imul(m,X)|0;var ew=(u+(n=n+Math.imul(d,$)|0)|0)+((8191&(i=(i=i+Math.imul(d,ee)|0)+Math.imul(h,$)|0))<<13)|0;u=((s=s+Math.imul(h,ee)|0)+(i>>>13)|0)+(ew>>>26)|0,ew&=67108863,n=Math.imul(x,F),i=(i=Math.imul(x,q))+Math.imul(I,F)|0,s=Math.imul(I,q),n=n+Math.imul(S,z)|0,i=(i=i+Math.imul(S,K)|0)+Math.imul(A,z)|0,s=s+Math.imul(A,K)|0,n=n+Math.imul(w,V)|0,i=(i=i+Math.imul(w,J)|0)+Math.imul(E,V)|0,s=s+Math.imul(E,J)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,X)|0)+Math.imul(b,Q)|0,s=s+Math.imul(b,X)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(m,$)|0,s=s+Math.imul(m,ee)|0;var eE=(u+(n=n+Math.imul(d,er)|0)|0)+((8191&(i=(i=i+Math.imul(d,en)|0)+Math.imul(h,er)|0))<<13)|0;u=((s=s+Math.imul(h,en)|0)+(i>>>13)|0)+(eE>>>26)|0,eE&=67108863,n=Math.imul(O,F),i=(i=Math.imul(O,q))+Math.imul(P,F)|0,s=Math.imul(P,q),n=n+Math.imul(x,z)|0,i=(i=i+Math.imul(x,K)|0)+Math.imul(I,z)|0,s=s+Math.imul(I,K)|0,n=n+Math.imul(S,V)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(A,V)|0,s=s+Math.imul(A,J)|0,n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,X)|0)+Math.imul(E,Q)|0,s=s+Math.imul(E,X)|0,n=n+Math.imul(v,$)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(b,$)|0,s=s+Math.imul(b,ee)|0,n=n+Math.imul(p,er)|0,i=(i=i+Math.imul(p,en)|0)+Math.imul(m,er)|0,s=s+Math.imul(m,en)|0;var e_=(u+(n=n+Math.imul(d,es)|0)|0)+((8191&(i=(i=i+Math.imul(d,eo)|0)+Math.imul(h,es)|0))<<13)|0;u=((s=s+Math.imul(h,eo)|0)+(i>>>13)|0)+(e_>>>26)|0,e_&=67108863,n=Math.imul(N,F),i=(i=Math.imul(N,q))+Math.imul(C,F)|0,s=Math.imul(C,q),n=n+Math.imul(O,z)|0,i=(i=i+Math.imul(O,K)|0)+Math.imul(P,z)|0,s=s+Math.imul(P,K)|0,n=n+Math.imul(x,V)|0,i=(i=i+Math.imul(x,J)|0)+Math.imul(I,V)|0,s=s+Math.imul(I,J)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,X)|0)+Math.imul(A,Q)|0,s=s+Math.imul(A,X)|0,n=n+Math.imul(w,$)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(E,$)|0,s=s+Math.imul(E,ee)|0,n=n+Math.imul(v,er)|0,i=(i=i+Math.imul(v,en)|0)+Math.imul(b,er)|0,s=s+Math.imul(b,en)|0,n=n+Math.imul(p,es)|0,i=(i=i+Math.imul(p,eo)|0)+Math.imul(m,es)|0,s=s+Math.imul(m,eo)|0;var eS=(u+(n=n+Math.imul(d,ec)|0)|0)+((8191&(i=(i=i+Math.imul(d,eu)|0)+Math.imul(h,ec)|0))<<13)|0;u=((s=s+Math.imul(h,eu)|0)+(i>>>13)|0)+(eS>>>26)|0,eS&=67108863,n=Math.imul(L,F),i=(i=Math.imul(L,q))+Math.imul(B,F)|0,s=Math.imul(B,q),n=n+Math.imul(N,z)|0,i=(i=i+Math.imul(N,K)|0)+Math.imul(C,z)|0,s=s+Math.imul(C,K)|0,n=n+Math.imul(O,V)|0,i=(i=i+Math.imul(O,J)|0)+Math.imul(P,V)|0,s=s+Math.imul(P,J)|0,n=n+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,X)|0)+Math.imul(I,Q)|0,s=s+Math.imul(I,X)|0,n=n+Math.imul(S,$)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(A,$)|0,s=s+Math.imul(A,ee)|0,n=n+Math.imul(w,er)|0,i=(i=i+Math.imul(w,en)|0)+Math.imul(E,er)|0,s=s+Math.imul(E,en)|0,n=n+Math.imul(v,es)|0,i=(i=i+Math.imul(v,eo)|0)+Math.imul(b,es)|0,s=s+Math.imul(b,eo)|0,n=n+Math.imul(p,ec)|0,i=(i=i+Math.imul(p,eu)|0)+Math.imul(m,ec)|0,s=s+Math.imul(m,eu)|0;var eA=(u+(n=n+Math.imul(d,ed)|0)|0)+((8191&(i=(i=i+Math.imul(d,eh)|0)+Math.imul(h,ed)|0))<<13)|0;u=((s=s+Math.imul(h,eh)|0)+(i>>>13)|0)+(eA>>>26)|0,eA&=67108863,n=Math.imul(U,F),i=(i=Math.imul(U,q))+Math.imul(H,F)|0,s=Math.imul(H,q),n=n+Math.imul(L,z)|0,i=(i=i+Math.imul(L,K)|0)+Math.imul(B,z)|0,s=s+Math.imul(B,K)|0,n=n+Math.imul(N,V)|0,i=(i=i+Math.imul(N,J)|0)+Math.imul(C,V)|0,s=s+Math.imul(C,J)|0,n=n+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,X)|0)+Math.imul(P,Q)|0,s=s+Math.imul(P,X)|0,n=n+Math.imul(x,$)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(I,$)|0,s=s+Math.imul(I,ee)|0,n=n+Math.imul(S,er)|0,i=(i=i+Math.imul(S,en)|0)+Math.imul(A,er)|0,s=s+Math.imul(A,en)|0,n=n+Math.imul(w,es)|0,i=(i=i+Math.imul(w,eo)|0)+Math.imul(E,es)|0,s=s+Math.imul(E,eo)|0,n=n+Math.imul(v,ec)|0,i=(i=i+Math.imul(v,eu)|0)+Math.imul(b,ec)|0,s=s+Math.imul(b,eu)|0,n=n+Math.imul(p,ed)|0,i=(i=i+Math.imul(p,eh)|0)+Math.imul(m,ed)|0,s=s+Math.imul(m,eh)|0;var eT=(u+(n=n+Math.imul(d,ep)|0)|0)+((8191&(i=(i=i+Math.imul(d,em)|0)+Math.imul(h,ep)|0))<<13)|0;u=((s=s+Math.imul(h,em)|0)+(i>>>13)|0)+(eT>>>26)|0,eT&=67108863,n=Math.imul(U,z),i=(i=Math.imul(U,K))+Math.imul(H,z)|0,s=Math.imul(H,K),n=n+Math.imul(L,V)|0,i=(i=i+Math.imul(L,J)|0)+Math.imul(B,V)|0,s=s+Math.imul(B,J)|0,n=n+Math.imul(N,Q)|0,i=(i=i+Math.imul(N,X)|0)+Math.imul(C,Q)|0,s=s+Math.imul(C,X)|0,n=n+Math.imul(O,$)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(P,$)|0,s=s+Math.imul(P,ee)|0,n=n+Math.imul(x,er)|0,i=(i=i+Math.imul(x,en)|0)+Math.imul(I,er)|0,s=s+Math.imul(I,en)|0,n=n+Math.imul(S,es)|0,i=(i=i+Math.imul(S,eo)|0)+Math.imul(A,es)|0,s=s+Math.imul(A,eo)|0,n=n+Math.imul(w,ec)|0,i=(i=i+Math.imul(w,eu)|0)+Math.imul(E,ec)|0,s=s+Math.imul(E,eu)|0,n=n+Math.imul(v,ed)|0,i=(i=i+Math.imul(v,eh)|0)+Math.imul(b,ed)|0,s=s+Math.imul(b,eh)|0;var ex=(u+(n=n+Math.imul(p,ep)|0)|0)+((8191&(i=(i=i+Math.imul(p,em)|0)+Math.imul(m,ep)|0))<<13)|0;u=((s=s+Math.imul(m,em)|0)+(i>>>13)|0)+(ex>>>26)|0,ex&=67108863,n=Math.imul(U,V),i=(i=Math.imul(U,J))+Math.imul(H,V)|0,s=Math.imul(H,J),n=n+Math.imul(L,Q)|0,i=(i=i+Math.imul(L,X)|0)+Math.imul(B,Q)|0,s=s+Math.imul(B,X)|0,n=n+Math.imul(N,$)|0,i=(i=i+Math.imul(N,ee)|0)+Math.imul(C,$)|0,s=s+Math.imul(C,ee)|0,n=n+Math.imul(O,er)|0,i=(i=i+Math.imul(O,en)|0)+Math.imul(P,er)|0,s=s+Math.imul(P,en)|0,n=n+Math.imul(x,es)|0,i=(i=i+Math.imul(x,eo)|0)+Math.imul(I,es)|0,s=s+Math.imul(I,eo)|0,n=n+Math.imul(S,ec)|0,i=(i=i+Math.imul(S,eu)|0)+Math.imul(A,ec)|0,s=s+Math.imul(A,eu)|0,n=n+Math.imul(w,ed)|0,i=(i=i+Math.imul(w,eh)|0)+Math.imul(E,ed)|0,s=s+Math.imul(E,eh)|0;var eI=(u+(n=n+Math.imul(v,ep)|0)|0)+((8191&(i=(i=i+Math.imul(v,em)|0)+Math.imul(b,ep)|0))<<13)|0;u=((s=s+Math.imul(b,em)|0)+(i>>>13)|0)+(eI>>>26)|0,eI&=67108863,n=Math.imul(U,Q),i=(i=Math.imul(U,X))+Math.imul(H,Q)|0,s=Math.imul(H,X),n=n+Math.imul(L,$)|0,i=(i=i+Math.imul(L,ee)|0)+Math.imul(B,$)|0,s=s+Math.imul(B,ee)|0,n=n+Math.imul(N,er)|0,i=(i=i+Math.imul(N,en)|0)+Math.imul(C,er)|0,s=s+Math.imul(C,en)|0,n=n+Math.imul(O,es)|0,i=(i=i+Math.imul(O,eo)|0)+Math.imul(P,es)|0,s=s+Math.imul(P,eo)|0,n=n+Math.imul(x,ec)|0,i=(i=i+Math.imul(x,eu)|0)+Math.imul(I,ec)|0,s=s+Math.imul(I,eu)|0,n=n+Math.imul(S,ed)|0,i=(i=i+Math.imul(S,eh)|0)+Math.imul(A,ed)|0,s=s+Math.imul(A,eh)|0;var eR=(u+(n=n+Math.imul(w,ep)|0)|0)+((8191&(i=(i=i+Math.imul(w,em)|0)+Math.imul(E,ep)|0))<<13)|0;u=((s=s+Math.imul(E,em)|0)+(i>>>13)|0)+(eR>>>26)|0,eR&=67108863,n=Math.imul(U,$),i=(i=Math.imul(U,ee))+Math.imul(H,$)|0,s=Math.imul(H,ee),n=n+Math.imul(L,er)|0,i=(i=i+Math.imul(L,en)|0)+Math.imul(B,er)|0,s=s+Math.imul(B,en)|0,n=n+Math.imul(N,es)|0,i=(i=i+Math.imul(N,eo)|0)+Math.imul(C,es)|0,s=s+Math.imul(C,eo)|0,n=n+Math.imul(O,ec)|0,i=(i=i+Math.imul(O,eu)|0)+Math.imul(P,ec)|0,s=s+Math.imul(P,eu)|0,n=n+Math.imul(x,ed)|0,i=(i=i+Math.imul(x,eh)|0)+Math.imul(I,ed)|0,s=s+Math.imul(I,eh)|0;var eO=(u+(n=n+Math.imul(S,ep)|0)|0)+((8191&(i=(i=i+Math.imul(S,em)|0)+Math.imul(A,ep)|0))<<13)|0;u=((s=s+Math.imul(A,em)|0)+(i>>>13)|0)+(eO>>>26)|0,eO&=67108863,n=Math.imul(U,er),i=(i=Math.imul(U,en))+Math.imul(H,er)|0,s=Math.imul(H,en),n=n+Math.imul(L,es)|0,i=(i=i+Math.imul(L,eo)|0)+Math.imul(B,es)|0,s=s+Math.imul(B,eo)|0,n=n+Math.imul(N,ec)|0,i=(i=i+Math.imul(N,eu)|0)+Math.imul(C,ec)|0,s=s+Math.imul(C,eu)|0,n=n+Math.imul(O,ed)|0,i=(i=i+Math.imul(O,eh)|0)+Math.imul(P,ed)|0,s=s+Math.imul(P,eh)|0;var eP=(u+(n=n+Math.imul(x,ep)|0)|0)+((8191&(i=(i=i+Math.imul(x,em)|0)+Math.imul(I,ep)|0))<<13)|0;u=((s=s+Math.imul(I,em)|0)+(i>>>13)|0)+(eP>>>26)|0,eP&=67108863,n=Math.imul(U,es),i=(i=Math.imul(U,eo))+Math.imul(H,es)|0,s=Math.imul(H,eo),n=n+Math.imul(L,ec)|0,i=(i=i+Math.imul(L,eu)|0)+Math.imul(B,ec)|0,s=s+Math.imul(B,eu)|0,n=n+Math.imul(N,ed)|0,i=(i=i+Math.imul(N,eh)|0)+Math.imul(C,ed)|0,s=s+Math.imul(C,eh)|0;var ek=(u+(n=n+Math.imul(O,ep)|0)|0)+((8191&(i=(i=i+Math.imul(O,em)|0)+Math.imul(P,ep)|0))<<13)|0;u=((s=s+Math.imul(P,em)|0)+(i>>>13)|0)+(ek>>>26)|0,ek&=67108863,n=Math.imul(U,ec),i=(i=Math.imul(U,eu))+Math.imul(H,ec)|0,s=Math.imul(H,eu),n=n+Math.imul(L,ed)|0,i=(i=i+Math.imul(L,eh)|0)+Math.imul(B,ed)|0,s=s+Math.imul(B,eh)|0;var eN=(u+(n=n+Math.imul(N,ep)|0)|0)+((8191&(i=(i=i+Math.imul(N,em)|0)+Math.imul(C,ep)|0))<<13)|0;u=((s=s+Math.imul(C,em)|0)+(i>>>13)|0)+(eN>>>26)|0,eN&=67108863,n=Math.imul(U,ed),i=(i=Math.imul(U,eh))+Math.imul(H,ed)|0,s=Math.imul(H,eh);var eC=(u+(n=n+Math.imul(L,ep)|0)|0)+((8191&(i=(i=i+Math.imul(L,em)|0)+Math.imul(B,ep)|0))<<13)|0;u=((s=s+Math.imul(B,em)|0)+(i>>>13)|0)+(eC>>>26)|0,eC&=67108863;var eM=(u+(n=Math.imul(U,ep))|0)+((8191&(i=(i=Math.imul(U,em))+Math.imul(H,ep)|0))<<13)|0;return u=((s=Math.imul(H,em))+(i>>>13)|0)+(eM>>>26)|0,eM&=67108863,c[0]=eg,c[1]=ev,c[2]=eb,c[3]=ey,c[4]=ew,c[5]=eE,c[6]=e_,c[7]=eS,c[8]=eA,c[9]=eT,c[10]=ex,c[11]=eI,c[12]=eR,c[13]=eO,c[14]=eP,c[15]=ek,c[16]=eN,c[17]=eC,c[18]=eM,0!==u&&(c[19]=u,r.length++),r};function m(e,t,r){return new g().mulp(e,t,r)}function g(e,t){this.x=e,this.y=t}Math.imul||(p=f),s.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?p(this,e,t):r<63?f(this,e,t):r<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,c=Math.min(s,t.length-1),u=Math.max(0,s-e.length+1);u<=c;u++){var l=s-u,d=(0|e.words[l])*(0|t.words[u]),h=67108863&d;o=o+(d/67108864|0)|0,a=67108863&(h=h+a|0),i+=(o=o+(h>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r.strip()}(this,e,t):m(this,e,t)},g.prototype.makeRBT=function(e){for(var t=Array(e),r=s.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},g.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},g.prototype.permute=function(e,t,r,n,i,s){for(var o=0;o<s;o++)n[o]=t[e[o]],i[o]=r[e[o]]},g.prototype.transform=function(e,t,r,n,i,s){this.permute(s,e,t,r,n,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,c=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var d=c,h=u,f=0;f<o;f++){var p=r[l+f],m=n[l+f],g=r[l+f+o],v=n[l+f+o],b=d*g-h*v;v=d*v+h*g,g=b,r[l+f]=p+g,n[l+f]=m+v,r[l+f+o]=p-g,n[l+f+o]=m-v,f!==a&&(b=c*d-u*h,h=c*h+u*d,d=b)}},g.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},g.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},g.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},g.prototype.convert13b=function(e,t,r,i){for(var s=0,o=0;o<t;o++)s+=0|e[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*t;o<i;++o)r[o]=0;n(0===s),n((-8192&s)==0)},g.prototype.stub=function(e){for(var t=Array(e),r=0;r<e;r++)t[r]=0;return t},g.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),s=this.stub(n),o=Array(n),a=Array(n),c=Array(n),u=Array(n),l=Array(n),d=Array(n),h=r.words;h.length=n,this.convert13b(e.words,e.length,o,n),this.convert13b(t.words,t.length,u,n),this.transform(o,s,a,c,n,i),this.transform(u,s,l,d,n,i);for(var f=0;f<n;f++){var p=a[f]*l[f]-c[f]*d[f];c[f]=a[f]*d[f]+c[f]*l[f],a[f]=p}return this.conjugate(a,c,n),this.transform(a,c,h,s,n,i),this.conjugate(h,s,n),this.normalize13b(h,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},s.prototype.mul=function(e){var t=new s(null);return t.words=Array(this.length+e.length),this.mulTo(e,t)},s.prototype.mulf=function(e){var t=new s(null);return t.words=Array(this.length+e.length),m(this,e,t)},s.prototype.imul=function(e){return this.clone().mulTo(e,this)},s.prototype.imuln=function(e){n("number"==typeof e),n(e<67108864);for(var t=0,r=0;r<this.length;r++){var i=(0|this.words[r])*e,s=(67108863&i)+(67108863&t);t>>=26,t+=(i/67108864|0)+(s>>>26),this.words[r]=67108863&s}return 0!==t&&(this.words[r]=t,this.length++),this},s.prototype.muln=function(e){return this.clone().imuln(e)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(e){var t=function(e){for(var t=Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new s(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},s.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(t=0;t<this.length;t++){var a=this.words[t]&s,c=(0|this.words[t])-a<<r;this.words[t]=c|o,o=a>>>26-r}o&&(this.words[t]=o,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},s.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},s.prototype.iushrn=function(e,t,r){n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var i,s=e%26,o=Math.min((e-s)/26,this.length),a=67108863^67108863>>>s<<s;if(i-=o,i=Math.max(0,i),r){for(var c=0;c<o;c++)r.words[c]=this.words[c];r.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var u=0;for(c=this.length-1;c>=0&&(0!==u||c>=i);c--){var l=0|this.words[c];this.words[c]=u<<26-s|l>>>s,u=l&a}return r&&0!==u&&(r.words[r.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},s.prototype.shln=function(e){return this.clone().ishln(e)},s.prototype.ushln=function(e){return this.clone().iushln(e)},s.prototype.shrn=function(e){return this.clone().ishrn(e)},s.prototype.ushrn=function(e){return this.clone().iushrn(e)},s.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;return!(this.length<=r)&&!!(this.words[r]&1<<t)},s.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;return(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)?this:(0!==t&&r++,this.length=Math.min(r,this.length),0!==t&&(this.words[this.length-1]&=67108863^67108863>>>t<<t),this.strip())},s.prototype.maskn=function(e){return this.clone().imaskn(e)},s.prototype.iaddn=function(e){return(n("number"==typeof e),n(e<67108864),e<0)?this.isubn(-e):0!==this.negative?(1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0):(this.negative=0,this.isubn(e),this.negative=1),this):this._iaddn(e)},s.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},s.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},s.prototype.addn=function(e){return this.clone().iaddn(e)},s.prototype.subn=function(e){return this.clone().isubn(e)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(e,t,r){var i,s,o=e.length+r;this._expand(o);var a=0;for(i=0;i<e.length;i++){s=(0|this.words[i+r])+a;var c=(0|e.words[i])*t;s-=67108863&c,a=(s>>26)-(c/67108864|0),this.words[i+r]=67108863&s}for(;i<this.length-r;i++)a=(s=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&s;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(e,t){var r,n=this.length-e.length,i=this.clone(),o=e,a=0|o.words[o.length-1];0!=(n=26-this._countBits(a))&&(o=o.ushln(n),i.iushln(n),a=0|o.words[o.length-1]);var c=i.length-o.length;if("mod"!==t){(r=new s(null)).length=c+1,r.words=Array(r.length);for(var u=0;u<r.length;u++)r.words[u]=0}var l=i.clone()._ishlnsubmul(o,1,c);0===l.negative&&(i=l,r&&(r.words[c]=1));for(var d=c-1;d>=0;d--){var h=(0|i.words[o.length+d])*67108864+(0|i.words[o.length+d-1]);for(h=Math.min(h/a|0,67108863),i._ishlnsubmul(o,h,d);0!==i.negative;)h--,i.negative=0,i._ishlnsubmul(o,1,d),i.isZero()||(i.negative^=1);r&&(r.words[d]=h)}return r&&r.strip(),i.strip(),"div"!==t&&0!==n&&i.iushrn(n),{div:r||null,mod:i}},s.prototype.divmod=function(e,t,r){var i,o,a;return(n(!e.isZero()),this.isZero())?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(e)),{div:i,mod:o}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):(this.negative&e.negative)!=0?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(e)),{div:a.div,mod:o}):e.length>this.length||0>this.cmp(e)?{div:new s(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new s(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new s(this.modn(e.words[0]))}:this._wordDiv(e,t)},s.prototype.div=function(e){return this.divmod(e,"div",!1).div},s.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},s.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},s.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},s.prototype.modn=function(e){n(e<=67108863);for(var t=67108864%e,r=0,i=this.length-1;i>=0;i--)r=(t*r+(0|this.words[i]))%e;return r},s.prototype.idivn=function(e){n(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*t;this.words[r]=i/e|0,t=i%e}return this.strip()},s.prototype.divn=function(e){return this.clone().idivn(e)},s.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new s(1),o=new s(0),a=new s(0),c=new s(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var l=r.clone(),d=t.clone();!t.isZero();){for(var h=0,f=1;(t.words[0]&f)==0&&h<26;++h,f<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(l),o.isub(d)),i.iushrn(1),o.iushrn(1);for(var p=0,m=1;(r.words[0]&m)==0&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(l),c.isub(d)),a.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(a),o.isub(c)):(r.isub(t),a.isub(i),c.isub(o))}return{a:a,b:c,gcd:r.iushln(u)}},s.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t,r=this,i=e.clone();r=0!==r.negative?r.umod(e):r.clone();for(var o=new s(1),a=new s(0),c=i.clone();r.cmpn(1)>0&&i.cmpn(1)>0;){for(var u=0,l=1;(r.words[0]&l)==0&&u<26;++u,l<<=1);if(u>0)for(r.iushrn(u);u-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);for(var d=0,h=1;(i.words[0]&h)==0&&d<26;++d,h<<=1);if(d>0)for(i.iushrn(d);d-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);r.cmp(i)>=0?(r.isub(i),o.isub(a)):(i.isub(r),a.isub(o))}return 0>(t=0===r.cmpn(1)?o:a).cmpn(0)&&t.iadd(e),t},s.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var s=t;t=r,r=s}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},s.prototype.invm=function(e){return this.egcd(e).a.umod(e)},s.prototype.isEven=function(){return(1&this.words[0])==0},s.prototype.isOdd=function(){return(1&this.words[0])==1},s.prototype.andln=function(e){return this.words[0]&e},s.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var s=i,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];a+=s,s=a>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return -1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},s.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return -1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},s.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return -1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},s.prototype.gtn=function(e){return 1===this.cmpn(e)},s.prototype.gt=function(e){return 1===this.cmp(e)},s.prototype.gten=function(e){return this.cmpn(e)>=0},s.prototype.gte=function(e){return this.cmp(e)>=0},s.prototype.ltn=function(e){return -1===this.cmpn(e)},s.prototype.lt=function(e){return -1===this.cmp(e)},s.prototype.lten=function(e){return 0>=this.cmpn(e)},s.prototype.lte=function(e){return 0>=this.cmp(e)},s.prototype.eqn=function(e){return 0===this.cmpn(e)},s.prototype.eq=function(e){return 0===this.cmp(e)},s.red=function(e){return new S(e)},s.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(e){return this.red=e,this},s.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},s.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},s.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},s.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},s.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},s.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},s.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},s.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var v={k256:null,p224:null,p192:null,p25519:null};function b(e,t){this.name=e,this.p=new s(t,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function y(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(e){if("string"==typeof e){var t=s._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function A(e){S.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var e=new s(null);return e.words=Array(Math.ceil(this.n/13)),e},b.prototype.ireduce=function(e){var t,r=e;do this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength();while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},b.prototype.split=function(e,t){e.iushrn(this.n,0,t)},b.prototype.imulK=function(e){return e.imul(this.k)},i(y,b),y.prototype.split=function(e,t){for(var r=Math.min(e.length,9),n=0;n<r;n++)t.words[n]=e.words[n];if(t.length=r,e.length<=9){e.words[0]=0,e.length=1;return}var i=e.words[9];for(n=10,t.words[t.length++]=4194303&i;n<e.length;n++){var s=0|e.words[n];e.words[n-10]=(4194303&s)<<4|i>>>22,i=s}i>>>=22,e.words[n-10]=i,0===i&&e.length>10?e.length-=10:e.length-=9},y.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(w,b),i(E,b),i(_,b),_.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=(0|e.words[r])*19+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},s._prime=function(e){var t;if(v[e])return v[e];if("k256"===e)t=new y;else if("p224"===e)t=new w;else if("p192"===e)t=new E;else if("p25519"===e)t=new _;else throw Error("Unknown prime "+e);return v[e]=t,t},S.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},S.prototype._verify2=function(e,t){n((e.negative|t.negative)==0,"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},S.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},S.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},S.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return 0>r.cmpn(0)&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return 0>r.cmpn(0)&&r.iadd(this.m),r},S.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},S.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},S.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},S.prototype.isqr=function(e){return this.imul(e,e.clone())},S.prototype.sqr=function(e){return this.mul(e,e)},S.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new s(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);n(!i.isZero());var a=new s(1).toRed(this),c=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);0!==this.pow(l,u).cmp(c);)l.redIAdd(c);for(var d=this.pow(l,i),h=this.pow(e,i.addn(1).iushrn(1)),f=this.pow(e,i),p=o;0!==f.cmp(a);){for(var m=f,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var v=this.pow(d,new s(1).iushln(p-g-1));h=h.redMul(v),d=v.redSqr(),f=f.redMul(d),p=g}return h},S.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},S.prototype.pow=function(e,t){if(t.isZero())return new s(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=Array(16);r[0]=new s(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],o=0,a=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var u=t.words[n],l=c-1;l>=0;l--){var d=u>>l&1;if(i!==r[0]&&(i=this.sqr(i)),0===d&&0===o){a=0;continue}o<<=1,o|=d,(4==++a||0===n&&0===l)&&(i=this.mul(i,r[o]),a=0,o=0)}c=26}return i},S.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},S.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},s.mont=function(e){return new A(e)},i(A,S),A.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},A.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},A.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):0>i.cmpn(0)&&(s=i.iadd(this.m)),s._forceRed(this)},A.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new s(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):0>i.cmpn(0)&&(o=i.iadd(this.m)),o._forceRed(this)},A.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},81658:function(e,t,r){"use strict";var n;function i(e){this.rand=e}if(e.exports=function(e){return n||(n=new i(null)),n.generate(e)},e.exports.Rand=i,i.prototype.generate=function(e){return this._rand(e)},i.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:i.prototype._rand=function(){throw Error("Not implemented yet")};else try{var s=r(89214);if("function"!=typeof s.randomBytes)throw Error("Not supported");i.prototype._rand=function(e){return s.randomBytes(e)}}catch(e){}},68938:function(e,t){var r,n,i,s,o,a,c,u,l,d,h,f,p,m,g,v,b,y;(r="undefined"==typeof DO_NOT_EXPORT_CRC?t:{}).version="1.2.2",s=(i=function(e){var t=0,r=0,n=0,i="undefined"!=typeof Int32Array?new Int32Array(4096):Array(4096);for(n=0;256!=n;++n)i[n]=e[n];for(n=0;256!=n;++n)for(r=e[n],t=256+n;t<4096;t+=256)r=i[t]=r>>>8^e[255&r];var s=[];for(n=1;16!=n;++n)s[n-1]="undefined"!=typeof Int32Array?i.subarray(256*n,256*n+256):i.slice(256*n,256*n+256);return s}(n=function(){for(var e=0,t=Array(256),r=0;256!=r;++r)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=r)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1,t[r]=e;return"undefined"!=typeof Int32Array?new Int32Array(t):t}()))[0],o=i[1],a=i[2],c=i[3],u=i[4],l=i[5],d=i[6],h=i[7],f=i[8],p=i[9],m=i[10],g=i[11],v=i[12],b=i[13],y=i[14],r.table=n,r.bstr=function(e,t){for(var r=-1^t,i=0,s=e.length;i<s;)r=r>>>8^n[(r^e.charCodeAt(i++))&255];return~r},r.buf=function(e,t){for(var r=-1^t,i=e.length-15,w=0;w<i;)r=y[e[w++]^255&r]^b[e[w++]^r>>8&255]^v[e[w++]^r>>16&255]^g[e[w++]^r>>>24]^m[e[w++]]^p[e[w++]]^f[e[w++]]^h[e[w++]]^d[e[w++]]^l[e[w++]]^u[e[w++]]^c[e[w++]]^a[e[w++]]^o[e[w++]]^s[e[w++]]^n[e[w++]];for(i+=15;w<i;)r=r>>>8^n[(r^e[w++])&255];return~r},r.str=function(e,t){for(var r=-1^t,i=0,s=e.length,o=0,a=0;i<s;)(o=e.charCodeAt(i++))<128?r=r>>>8^n[(r^o)&255]:o<2048?r=(r=r>>>8^n[(r^(192|o>>6&31))&255])>>>8^n[(r^(128|63&o))&255]:o>=55296&&o<57344?(o=(1023&o)+64,a=1023&e.charCodeAt(i++),r=(r=(r=(r=r>>>8^n[(r^(240|o>>8&7))&255])>>>8^n[(r^(128|o>>2&63))&255])>>>8^n[(r^(128|a>>6&15|(3&o)<<4))&255])>>>8^n[(r^(128|63&a))&255]):r=(r=(r=r>>>8^n[(r^(224|o>>12&15))&255])>>>8^n[(r^(128|o>>6&63))&255])>>>8^n[(r^(128|63&o))&255];return~r}},39152:function(e,t,r){"use strict";var n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==r.g&&r.g,i=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();(function(e){var t=void 0!==i&&i||"undefined"!=typeof self&&self||void 0!==t&&t,r={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(r.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=ArrayBuffer.isView||function(e){return e&&n.indexOf(Object.prototype.toString.call(e))>-1};function o(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function a(e){return"string"!=typeof e&&(e=String(e)),e}function c(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r.iterable&&(t[Symbol.iterator]=function(){return t}),t}function u(e){this.map={},e instanceof u?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function l(e){if(e.bodyUsed)return Promise.reject(TypeError("Already read"));e.bodyUsed=!0}function d(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function h(e){var t=new FileReader,r=d(t);return t.readAsArrayBuffer(e),r}function f(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function p(){return this.bodyUsed=!1,this._initBody=function(e){if(this.bodyUsed=this.bodyUsed,this._bodyInit=e,e){if("string"==typeof e)this._bodyText=e;else if(r.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(r.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(r.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else{var t;r.arrayBuffer&&r.blob&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=f(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||s(e))?this._bodyArrayBuffer=f(e):this._bodyText=e=Object.prototype.toString.call(e)}}else this._bodyText="";!this.headers.get("content-type")&&("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var e=l(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(!this._bodyFormData)return Promise.resolve(new Blob([this._bodyText]));throw Error("could not read FormData body as blob")},this.arrayBuffer=function(){return this._bodyArrayBuffer?l(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer)):this.blob().then(h)}),this.text=function(){var e,t,r,n=l(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,r=d(t=new FileReader),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(!this._bodyFormData)return Promise.resolve(this._bodyText);throw Error("could not read FormData body as text")},r.formData&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}u.prototype.append=function(e,t){e=o(e),t=a(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},u.prototype.delete=function(e){delete this.map[o(e)]},u.prototype.get=function(e){return e=o(e),this.has(e)?this.map[e]:null},u.prototype.has=function(e){return this.map.hasOwnProperty(o(e))},u.prototype.set=function(e,t){this.map[o(e)]=a(t)},u.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},u.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),c(e)},u.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),c(e)},u.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),c(e)},r.iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function g(e,t){if(!(this instanceof g))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r,n,i=(t=t||{}).body;if(e instanceof g){if(e.bodyUsed)throw TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new u(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new u(t.headers)),this.method=(n=(r=t.method||this.method||"GET").toUpperCase(),m.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(i),("GET"===this.method||"HEAD"===this.method)&&("no-store"===t.cache||"no-cache"===t.cache)){var s=/([?&])_=[^&]*/;s.test(this.url)?this.url=this.url.replace(s,"$1_="+new Date().getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+new Date().getTime()}}function v(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}}),t}function b(e,t){if(!(this instanceof b))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new u(t.headers),this.url=t.url||"",this._initBody(e)}g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},p.call(g.prototype),p.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},b.error=function(){var e=new b(null,{status:0,statusText:""});return e.type="error",e};var y=[301,302,303,307,308];b.redirect=function(e,t){if(-1===y.indexOf(t))throw RangeError("Invalid status code");return new b(null,{status:t,headers:{location:e}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function w(n,i){return new Promise(function(s,o){var c=new g(n,i);if(c.signal&&c.signal.aborted)return o(new e.DOMException("Aborted","AbortError"));var l=new XMLHttpRequest;function d(){l.abort()}l.onload=function(){var e,t,r={status:l.status,statusText:l.statusText,headers:(e=l.getAllResponseHeaders()||"",t=new u,e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}}),t)};r.url="responseURL"in l?l.responseURL:r.headers.get("X-Request-URL");var n="response"in l?l.response:l.responseText;setTimeout(function(){s(new b(n,r))},0)},l.onerror=function(){setTimeout(function(){o(TypeError("Network request failed"))},0)},l.ontimeout=function(){setTimeout(function(){o(TypeError("Network request failed"))},0)},l.onabort=function(){setTimeout(function(){o(new e.DOMException("Aborted","AbortError"))},0)},l.open(c.method,function(e){try{return""===e&&t.location.href?t.location.href:e}catch(t){return e}}(c.url),!0),"include"===c.credentials?l.withCredentials=!0:"omit"===c.credentials&&(l.withCredentials=!1),"responseType"in l&&(r.blob?l.responseType="blob":r.arrayBuffer&&c.headers.get("Content-Type")&&-1!==c.headers.get("Content-Type").indexOf("application/octet-stream")&&(l.responseType="arraybuffer")),!i||"object"!=typeof i.headers||i.headers instanceof u?c.headers.forEach(function(e,t){l.setRequestHeader(t,e)}):Object.getOwnPropertyNames(i.headers).forEach(function(e){l.setRequestHeader(e,a(i.headers[e]))}),c.signal&&(c.signal.addEventListener("abort",d),l.onreadystatechange=function(){4===l.readyState&&c.signal.removeEventListener("abort",d)}),l.send(void 0===c._bodyInit?null:c._bodyInit)})}w.polyfill=!0,t.fetch||(t.fetch=w,t.Headers=u,t.Request=g,t.Response=b),e.Headers=u,e.Request=g,e.Response=b,e.fetch=w})({}),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var s=n.fetch?n:i;(t=s.fetch).default=s.fetch,t.fetch=s.fetch,t.Headers=s.Headers,t.Request=s.Request,t.Response=s.Response,e.exports=t},23254:function(e,t,r){"use strict";t.version=r(58274).i8,t.utils=r(38702),t.rand=r(81658),t.curve=r(79702),t.curves=r(76769),t.ec=r(95085),t.eddsa=r(55498)},59177:function(e,t,r){"use strict";var n=r(34108),i=r(38702),s=i.getNAF,o=i.getJSF,a=i.assert;function c(e,t){this.type=e,this.p=new n(t.p,16),this.red=t.prime?n.red(t.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=t.n&&new n(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=[,,,,],this._wnafT2=[,,,,],this._wnafT3=[,,,,],this._wnafT4=[,,,,],this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function u(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=c,c.prototype.point=function(){throw Error("Not implemented")},c.prototype.validate=function(){throw Error("Not implemented")},c.prototype._fixedNafMul=function(e,t){a(e.precomputed);var r,n,i=e._getDoubles(),o=s(t,1,this._bitLength),c=(1<<i.step+1)-(i.step%2==0?2:1);c/=3;var u=[];for(r=0;r<o.length;r+=i.step){n=0;for(var l=r+i.step-1;l>=r;l--)n=(n<<1)+o[l];u.push(n)}for(var d=this.jpoint(null,null,null),h=this.jpoint(null,null,null),f=c;f>0;f--){for(r=0;r<u.length;r++)(n=u[r])===f?h=h.mixedAdd(i.points[r]):n===-f&&(h=h.mixedAdd(i.points[r].neg()));d=d.add(h)}return d.toP()},c.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=s(t,r,this._bitLength),c=this.jpoint(null,null,null),u=o.length-1;u>=0;u--){for(var l=0;u>=0&&0===o[u];u--)l++;if(u>=0&&l++,c=c.dblp(l),u<0)break;var d=o[u];a(0!==d),c="affine"===e.type?d>0?c.mixedAdd(i[d-1>>1]):c.mixedAdd(i[-d-1>>1].neg()):d>0?c.add(i[d-1>>1]):c.add(i[-d-1>>1].neg())}return"affine"===e.type?c.toP():c},c.prototype._wnafMulAdd=function(e,t,r,n,i){var a,c,u,l=this._wnafT1,d=this._wnafT2,h=this._wnafT3,f=0;for(a=0;a<n;a++){var p=(u=t[a])._getNAFPoints(e);l[a]=p.wnd,d[a]=p.points}for(a=n-1;a>=1;a-=2){var m=a-1,g=a;if(1!==l[m]||1!==l[g]){h[m]=s(r[m],l[m],this._bitLength),h[g]=s(r[g],l[g],this._bitLength),f=Math.max(h[m].length,f),f=Math.max(h[g].length,f);continue}var v=[t[m],null,null,t[g]];0===t[m].y.cmp(t[g].y)?(v[1]=t[m].add(t[g]),v[2]=t[m].toJ().mixedAdd(t[g].neg())):0===t[m].y.cmp(t[g].y.redNeg())?(v[1]=t[m].toJ().mixedAdd(t[g]),v[2]=t[m].add(t[g].neg())):(v[1]=t[m].toJ().mixedAdd(t[g]),v[2]=t[m].toJ().mixedAdd(t[g].neg()));var b=[-3,-1,-5,-7,0,7,5,1,3],y=o(r[m],r[g]);for(c=0,f=Math.max(y[0].length,f),h[m]=Array(f),h[g]=Array(f);c<f;c++){var w=0|y[0][c],E=0|y[1][c];h[m][c]=b[(w+1)*3+(E+1)],h[g][c]=0,d[m]=v}}var _=this.jpoint(null,null,null),S=this._wnafT4;for(a=f;a>=0;a--){for(var A=0;a>=0;){var T=!0;for(c=0;c<n;c++)S[c]=0|h[c][a],0!==S[c]&&(T=!1);if(!T)break;A++,a--}if(a>=0&&A++,_=_.dblp(A),a<0)break;for(c=0;c<n;c++){var x=S[c];0!==x&&(x>0?u=d[c][x-1>>1]:x<0&&(u=d[c][-x-1>>1].neg()),_="affine"===u.type?_.mixedAdd(u):_.add(u))}}for(a=0;a<n;a++)d[a]=null;return i?_:_.toP()},c.BasePoint=u,u.prototype.eq=function(){throw Error("Not implemented")},u.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(e,t){e=i.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?a(e[e.length-1]%2==0):7===e[0]&&a(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw Error("Unknown point format")},u.prototype.encodeCompressed=function(e){return this.encode(e,!0)},u.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},u.prototype.encode=function(e,t){return i.encode(this._encode(t),e)},u.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},u.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},u.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var s=0;s<e;s++)n=n.dbl();r.push(n)}return{step:e,points:r}},u.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},u.prototype._getBeta=function(){return null},u.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}},58045:function(e,t,r){"use strict";var n=r(38702),i=r(34108),s=r(39541),o=r(59177),a=n.assert;function c(e){this.twisted=(0|e.a)!=1,this.mOneA=this.twisted&&(0|e.a)==-1,this.extended=this.mOneA,o.call(this,"edwards",e),this.a=new i(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=(0|e.c)==1}function u(e,t,r,n,s){o.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(t,16),this.y=new i(r,16),this.z=n?new i(n,16):this.curve.one,this.t=s&&new i(s,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,!this.curve.extended||this.t||(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}s(c,o),e.exports=c,c.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},c.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},c.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},c.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=this.c2.redSub(this.a.redMul(r)),s=this.one.redSub(this.c2.redMul(this.d).redMul(r)),o=n.redMul(s.redInvm()),a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw Error("invalid point");var c=a.fromRed().isOdd();return(t&&!c||!t&&c)&&(a=a.redNeg()),this.point(e,a)},c.prototype.pointFromY=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=r.redSub(this.c2),s=r.redMul(this.d).redMul(this.c2).redSub(this.a),o=n.redMul(s.redInvm());if(0===o.cmp(this.zero)){if(!t)return this.point(this.zero,e);throw Error("invalid point")}var a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw Error("invalid point");return a.fromRed().isOdd()!==t&&(a=a.redNeg()),this.point(a,e)},c.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(i)},s(u,o.BasePoint),c.prototype.pointFromJSON=function(e){return u.fromJSON(this,e)},c.prototype.point=function(e,t,r,n){return new u(this,e,t,r,n)},u.fromJSON=function(e,t){return new u(e,t[0],t[1],t[2])},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},u.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),s=n.redAdd(t),o=s.redSub(r),a=n.redSub(t),c=i.redMul(o),u=s.redMul(a),l=i.redMul(a),d=o.redMul(s);return this.curve.point(c,u,d,l)},u.prototype._projDbl=function(){var e,t,r,n,i,s,o=this.x.redAdd(this.y).redSqr(),a=this.x.redSqr(),c=this.y.redSqr();if(this.curve.twisted){var u=(n=this.curve._mulA(a)).redAdd(c);this.zOne?(e=o.redSub(a).redSub(c).redMul(u.redSub(this.curve.two)),t=u.redMul(n.redSub(c)),r=u.redSqr().redSub(u).redSub(u)):(i=this.z.redSqr(),s=u.redSub(i).redISub(i),e=o.redSub(a).redISub(c).redMul(s),t=u.redMul(n.redSub(c)),r=u.redMul(s))}else n=a.redAdd(c),i=this.curve._mulC(this.z).redSqr(),s=n.redSub(i).redSub(i),e=this.curve._mulC(o.redISub(n)).redMul(s),t=this.curve._mulC(n).redMul(a.redISub(c)),r=n.redMul(s);return this.curve.point(e,t,r)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},u.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),s=r.redSub(t),o=i.redSub(n),a=i.redAdd(n),c=r.redAdd(t),u=s.redMul(o),l=a.redMul(c),d=s.redMul(c),h=o.redMul(a);return this.curve.point(u,l,h,d)},u.prototype._projAdd=function(e){var t,r,n=this.z.redMul(e.z),i=n.redSqr(),s=this.x.redMul(e.x),o=this.y.redMul(e.y),a=this.curve.d.redMul(s).redMul(o),c=i.redSub(a),u=i.redAdd(a),l=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(s).redISub(o),d=n.redMul(c).redMul(l);return this.curve.twisted?(t=n.redMul(u).redMul(o.redSub(this.curve._mulA(s))),r=c.redMul(u)):(t=n.redMul(u).redMul(o.redSub(s)),r=this.curve._mulC(c).redMul(u)),this.curve.point(d,t,r)},u.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},u.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},u.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},u.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},u.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},u.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()},u.prototype.getY=function(){return this.normalize(),this.y.fromRed()},u.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},u.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}},u.prototype.toP=u.prototype.normalize,u.prototype.mixedAdd=u.prototype.add},79702:function(e,t,r){"use strict";t.base=r(59177),t.short=r(73545),t.mont=r(69136),t.edwards=r(58045)},69136:function(e,t,r){"use strict";var n=r(34108),i=r(39541),s=r(59177),o=r(38702);function a(e){s.call(this,"mont",e),this.a=new n(e.a,16).toRed(this.red),this.b=new n(e.b,16).toRed(this.red),this.i4=new n(4).toRed(this.red).redInvm(),this.two=new n(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(e,t,r){s.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new n(t,16),this.z=new n(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(a,s),e.exports=a,a.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},i(c,s.BasePoint),a.prototype.decodePoint=function(e,t){return this.point(o.toArray(e,t),1)},a.prototype.point=function(e,t){return new c(this,e,t)},a.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(e,t){return new c(e,t[0],t[1]||e.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},c.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),i=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},c.prototype.add=function(){throw Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),s=e.x.redSub(e.z).redMul(r),o=i.redMul(n),a=t.z.redMul(s.redAdd(o).redSqr()),c=t.x.redMul(s.redISub(o).redSqr());return this.curve.point(a,c)},c.prototype.mul=function(e){for(var t=e.clone(),r=this,n=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var s=i.length-1;s>=0;s--)0===i[s]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},c.prototype.mulAdd=function(){throw Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw Error("Not supported on Montgomery curve")},c.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},73545:function(e,t,r){"use strict";var n=r(38702),i=r(34108),s=r(39541),o=r(59177),a=n.assert;function c(e){o.call(this,"short",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=[,,,,],this._endoWnafT2=[,,,,]}function u(e,t,r,n){o.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(t,16),this.y=new i(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function l(e,t,r,n){o.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(t,16),this.y=new i(r,16),this.z=new i(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}s(c,o),e.exports=c,c.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){if(e.beta)t=new i(e.beta,16).toRed(this.red);else{var t,r,n,s=this._getEndoRoots(this.p);t=(t=0>s[0].cmp(s[1])?s[0]:s[1]).toRed(this.red)}if(e.lambda)r=new i(e.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(t))?r=o[0]:(r=o[1],a(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return n=e.basis?e.basis.map(function(e){return{a:new i(e.a,16),b:new i(e.b,16)}}):this._getEndoBasis(r),{beta:t,lambda:r,basis:n}}},c.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:i.mont(e),r=new i(2).toRed(t).redInvm(),n=r.redNeg(),s=new i(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(s).fromRed(),n.redSub(s).fromRed()]},c.prototype._getEndoBasis=function(e){for(var t,r,n,s,o,a,c,u,l,d=this.n.ushrn(Math.floor(this.n.bitLength()/2)),h=e,f=this.n.clone(),p=new i(1),m=new i(0),g=new i(0),v=new i(1),b=0;0!==h.cmpn(0);){var y=f.div(h);u=f.sub(y.mul(h)),l=g.sub(y.mul(p));var w=v.sub(y.mul(m));if(!n&&0>u.cmp(d))t=c.neg(),r=p,n=u.neg(),s=l;else if(n&&2==++b)break;c=u,f=h,h=u,g=p,p=l,v=m,m=w}o=u.neg(),a=l;var E=n.sqr().add(s.sqr());return o.sqr().add(a.sqr()).cmp(E)>=0&&(o=t,a=r),n.negative&&(n=n.neg(),s=s.neg()),o.negative&&(o=o.neg(),a=a.neg()),[{a:n,b:s},{a:o,b:a}]},c.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),s=r.b.neg().mul(e).divRound(this.n),o=i.mul(r.a),a=s.mul(n.a),c=i.mul(r.b),u=s.mul(n.b);return{k1:e.sub(o).sub(a),k2:c.add(u).neg()}},c.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw Error("invalid point");var s=n.fromRed().isOdd();return(t&&!s||!t&&s)&&(n=n.redNeg()),this.point(e,n)},c.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},c.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,s=0;s<e.length;s++){var o=this._endoSplit(t[s]),a=e[s],c=a._getBeta();o.k1.negative&&(o.k1.ineg(),a=a.neg(!0)),o.k2.negative&&(o.k2.ineg(),c=c.neg(!0)),n[2*s]=a,n[2*s+1]=c,i[2*s]=o.k1,i[2*s+1]=o.k2}for(var u=this._wnafMulAdd(1,n,i,2*s,r),l=0;l<2*s;l++)n[l]=null,i[l]=null;return u},s(u,o.BasePoint),c.prototype.point=function(e,t,r){return new u(this,e,t,r)},c.prototype.pointFromJSON=function(e,t){return u.fromJSON(this,e,t)},u.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},u.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},u.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var s=t[2];return n.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[n].concat(s.doubles.points.map(i))},naf:s.naf&&{wnd:s.naf.wnd,points:[n].concat(s.naf.points.map(i))}},n},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.inf},u.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e)||0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},u.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),s=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)},u.prototype.getX=function(){return this.x.fromRed()},u.prototype.getY=function(){return this.y.fromRed()},u.prototype.mul=function(e){return(e=new i(e,16),this.isInfinity())?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},u.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},u.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},u.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},u.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},u.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},s(l,o.BasePoint),c.prototype.jpoint=function(e,t,r){return new l(this,e,t,r)},l.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},l.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},l.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),s=this.y.redMul(t.redMul(e.z)),o=e.y.redMul(r.redMul(this.z)),a=n.redSub(i),c=s.redSub(o);if(0===a.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),l=u.redMul(a),d=n.redMul(u),h=c.redSqr().redIAdd(l).redISub(d).redISub(d),f=c.redMul(d.redISub(h)).redISub(s.redMul(l)),p=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(h,f,p)},l.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,s=e.y.redMul(t).redMul(this.z),o=r.redSub(n),a=i.redSub(s);if(0===o.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=o.redSqr(),u=c.redMul(o),l=r.redMul(c),d=a.redSqr().redIAdd(u).redISub(l).redISub(l),h=a.redMul(l.redISub(d)).redISub(i.redMul(u)),f=this.z.redMul(o);return this.curve.jpoint(d,h,f)},l.prototype.dblp=function(e){if(0===e||this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){var t,r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,s=this.x,o=this.y,a=this.z,c=a.redSqr().redSqr(),u=o.redAdd(o);for(t=0;t<e;t++){var l=s.redSqr(),d=u.redSqr(),h=d.redSqr(),f=l.redAdd(l).redIAdd(l).redIAdd(n.redMul(c)),p=s.redMul(d),m=f.redSqr().redISub(p.redAdd(p)),g=p.redISub(m),v=f.redMul(g);v=v.redIAdd(v).redISub(h);var b=u.redMul(a);t+1<e&&(c=c.redMul(h)),s=m,a=b,u=v}return this.curve.jpoint(s,u.redMul(i),a)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},l.prototype._zeroDbl=function(){if(this.zOne){var e,t,r,n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n),c=a.redSqr().redISub(o).redISub(o),u=s.redIAdd(s);u=(u=u.redIAdd(u)).redIAdd(u),e=c,t=a.redMul(o.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),d=this.y.redSqr(),h=d.redSqr(),f=this.x.redAdd(d).redSqr().redISub(l).redISub(h);f=f.redIAdd(f);var p=l.redAdd(l).redIAdd(l),m=p.redSqr(),g=h.redIAdd(h);g=(g=g.redIAdd(g)).redIAdd(g),e=m.redISub(f).redISub(f),t=p.redMul(f.redISub(e)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},l.prototype._threeDbl=function(){if(this.zOne){var e,t,r,n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=a.redSqr().redISub(o).redISub(o);e=c;var u=s.redIAdd(s);u=(u=u.redIAdd(u)).redIAdd(u),t=a.redMul(o.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),d=this.y.redSqr(),h=this.x.redMul(d),f=this.x.redSub(l).redMul(this.x.redAdd(l));f=f.redAdd(f).redIAdd(f);var p=h.redIAdd(h),m=(p=p.redIAdd(p)).redAdd(p);e=f.redSqr().redISub(m),r=this.y.redAdd(this.z).redSqr().redISub(d).redISub(l);var g=d.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),t=f.redMul(p.redISub(e)).redISub(g)}return this.curve.jpoint(e,t,r)},l.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),s=t.redSqr(),o=r.redSqr(),a=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(i)),c=t.redAdd(t),u=(c=c.redIAdd(c)).redMul(o),l=a.redSqr().redISub(u.redAdd(u)),d=u.redISub(l),h=o.redSqr();h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var f=a.redMul(d).redISub(h),p=r.redAdd(r).redMul(n);return this.curve.jpoint(l,f,p)},l.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),s=i.redSqr(),o=this.x.redAdd(t).redSqr().redISub(e).redISub(n),a=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(s)).redSqr(),c=n.redIAdd(n);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var u=i.redIAdd(o).redSqr().redISub(s).redISub(a).redISub(c),l=t.redMul(u);l=(l=l.redIAdd(l)).redIAdd(l);var d=this.x.redMul(a).redISub(l);d=(d=d.redIAdd(d)).redIAdd(d);var h=this.y.redMul(u.redMul(c.redISub(u)).redISub(o.redMul(a)));h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var f=this.z.redAdd(o).redSqr().redISub(r).redISub(a);return this.curve.jpoint(d,h,f)},l.prototype.mul=function(e,t){return e=new i(e,t),this.curve._wnafMul(this,e)},l.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},l.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},l.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},l.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},76769:function(e,t,r){"use strict";var n,i=r(52689),s=r(79702),o=r(38702).assert;function a(e){"short"===e.type?this.curve=new s.short(e):"edwards"===e.type?this.curve=new s.edwards(e):this.curve=new s.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function c(e,r){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var n=new a(r);return Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}),n}})}t.PresetCurve=a,c("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:i.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),c("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:i.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),c("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:i.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),c("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:i.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),c("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:i.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),c("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:i.sha256,gRed:!1,g:["9"]}),c("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:i.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=r(13985)}catch(e){n=void 0}c("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:i.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},95085:function(e,t,r){"use strict";var n=r(34108),i=r(36418),s=r(38702),o=r(76769),a=r(81658),c=s.assert,u=r(50373),l=r(74973);function d(e){if(!(this instanceof d))return new d(e);"string"==typeof e&&(c(Object.prototype.hasOwnProperty.call(o,e),"Unknown curve "+e),e=o[e]),e instanceof o.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=d,d.prototype.keyPair=function(e){return new u(this,e)},d.prototype.keyFromPrivate=function(e,t){return u.fromPrivate(this,e,t)},d.prototype.keyFromPublic=function(e,t){return u.fromPublic(this,e,t)},d.prototype.genKeyPair=function(e){e||(e={});for(var t=new i({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||a(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),s=this.n.sub(new n(2));;){var o=new n(t.generate(r));if(!(o.cmp(s)>0))return o.iaddn(1),this.keyFromPrivate(o)}},d.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return(r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0)?e.sub(this.n):e},d.prototype.sign=function(e,t,r,s){"object"==typeof r&&(s=r,r=null),s||(s={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new n(e,16));for(var o=this.n.byteLength(),a=t.getPrivate().toArray("be",o),c=e.toArray("be",o),u=new i({hash:this.hash,entropy:a,nonce:c,pers:s.pers,persEnc:s.persEnc||"utf8"}),d=this.n.sub(new n(1)),h=0;;h++){var f=s.k?s.k(h):new n(u.generate(this.n.byteLength()));if(!(0>=(f=this._truncateToN(f,!0)).cmpn(1)||f.cmp(d)>=0)){var p=this.g.mul(f);if(!p.isInfinity()){var m=p.getX(),g=m.umod(this.n);if(0!==g.cmpn(0)){var v=f.invm(this.n).mul(g.mul(t.getPrivate()).iadd(e));if(0!==(v=v.umod(this.n)).cmpn(0)){var b=(p.getY().isOdd()?1:0)|(0!==m.cmp(g)?2:0);return s.canonical&&v.cmp(this.nh)>0&&(v=this.n.sub(v),b^=1),new l({r:g,s:v,recoveryParam:b})}}}}}},d.prototype.verify=function(e,t,r,i){e=this._truncateToN(new n(e,16)),r=this.keyFromPublic(r,i);var s,o=(t=new l(t,"hex")).r,a=t.s;if(0>o.cmpn(1)||o.cmp(this.n)>=0||0>a.cmpn(1)||a.cmp(this.n)>=0)return!1;var c=a.invm(this.n),u=c.mul(e).umod(this.n),d=c.mul(o).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(u,r.getPublic(),d)).isInfinity()&&s.eqXToP(o):!(s=this.g.mulAdd(u,r.getPublic(),d)).isInfinity()&&0===s.getX().umod(this.n).cmp(o)},d.prototype.recoverPubKey=function(e,t,r,i){c((3&r)===r,"The recovery param is more than two bits"),t=new l(t,i);var s=this.n,o=new n(e),a=t.r,u=t.s,d=1&r,h=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&h)throw Error("Unable to find sencond key candinate");a=h?this.curve.pointFromX(a.add(this.curve.n),d):this.curve.pointFromX(a,d);var f=t.r.invm(s),p=s.sub(o).mul(f).umod(s),m=u.mul(f).umod(s);return this.g.mulAdd(p,a,m)},d.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new l(t,n)).recoveryParam)return t.recoveryParam;for(var i,s=0;s<4;s++){try{i=this.recoverPubKey(e,t,s)}catch(e){continue}if(i.eq(r))return s}throw Error("Unable to find valid recovery factor")}},50373:function(e,t,r){"use strict";var n=r(34108),i=r(38702).assert;function s(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=s,s.fromPublic=function(e,t,r){return t instanceof s?t:new s(e,{pub:t,pubEnc:r})},s.fromPrivate=function(e,t,r){return t instanceof s?t:new s(e,{priv:t,privEnc:r})},s.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},s.prototype.getPublic=function(e,t){return("string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t)?this.pub.encode(t,e):this.pub},s.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},s.prototype._importPrivate=function(e,t){this.priv=new n(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},s.prototype._importPublic=function(e,t){if(e.x||e.y){"mont"===this.ec.curve.type?i(e.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&i(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)},s.prototype.derive=function(e){return e.validate()||i(e.validate(),"public point not validated"),e.mul(this.priv).getX()},s.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},s.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},s.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},74973:function(e,t,r){"use strict";var n=r(34108),i=r(38702),s=i.assert;function o(e,t){if(e instanceof o)return e;this._importDER(e,t)||(s(e.r&&e.s,"Signature without r or s"),this.r=new n(e.r,16),this.s=new n(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function a(){this.place=0}function c(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,s=0,o=t.place;s<n;s++,o++)i<<=8,i|=e[o],i>>>=0;return!(i<=127)&&(t.place=o,i)}function u(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function l(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}e.exports=o,o.prototype._importDER=function(e,t){e=i.toArray(e,t);var r=new a;if(48!==e[r.place++])return!1;var s=c(e,r);if(!1===s||s+r.place!==e.length||2!==e[r.place++])return!1;var o=c(e,r);if(!1===o)return!1;var u=e.slice(r.place,o+r.place);if(r.place+=o,2!==e[r.place++])return!1;var l=c(e,r);if(!1===l||e.length!==l+r.place)return!1;var d=e.slice(r.place,l+r.place);if(0===u[0]){if(!(128&u[1]))return!1;u=u.slice(1)}if(0===d[0]){if(!(128&d[1]))return!1;d=d.slice(1)}return this.r=new n(u),this.s=new n(d),this.recoveryParam=null,!0},o.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=u(t),r=u(r);!r[0]&&!(128&r[1]);)r=r.slice(1);var n=[2];l(n,t.length),(n=n.concat(t)).push(2),l(n,r.length);var s=n.concat(r),o=[48];return l(o,s.length),o=o.concat(s),i.encode(o,e)}},55498:function(e,t,r){"use strict";var n=r(52689),i=r(76769),s=r(38702),o=s.assert,a=s.parseBytes,c=r(35513),u=r(83813);function l(e){if(o("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof l))return new l(e);e=i[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=n.sha512}e.exports=l,l.prototype.sign=function(e,t){e=a(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),i=this.g.mul(n),s=this.encodePoint(i),o=this.hashInt(s,r.pubBytes(),e).mul(r.priv()),c=n.add(o).umod(this.curve.n);return this.makeSignature({R:i,S:c,Rencoded:s})},l.prototype.verify=function(e,t,r){e=a(e),t=this.makeSignature(t);var n=this.keyFromPublic(r),i=this.hashInt(t.Rencoded(),n.pubBytes(),e),s=this.g.mul(t.S());return t.R().add(n.pub().mul(i)).eq(s)},l.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return s.intFromLE(e.digest()).umod(this.curve.n)},l.prototype.keyFromPublic=function(e){return c.fromPublic(this,e)},l.prototype.keyFromSecret=function(e){return c.fromSecret(this,e)},l.prototype.makeSignature=function(e){return e instanceof u?e:new u(this,e)},l.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},l.prototype.decodePoint=function(e){var t=(e=s.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),n=(128&e[t])!=0,i=s.intFromLE(r);return this.curve.pointFromY(i,n)},l.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},l.prototype.decodeInt=function(e){return s.intFromLE(e)},l.prototype.isPoint=function(e){return e instanceof this.pointClass}},35513:function(e,t,r){"use strict";var n=r(38702),i=n.assert,s=n.parseBytes,o=n.cachedProperty;function a(e,t){this.eddsa=e,this._secret=s(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=s(t.pub)}a.fromPublic=function(e,t){return t instanceof a?t:new a(e,{pub:t})},a.fromSecret=function(e,t){return t instanceof a?t:new a(e,{secret:t})},a.prototype.secret=function(){return this._secret},o(a,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),o(a,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),o(a,"privBytes",function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n}),o(a,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),o(a,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),o(a,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),a.prototype.sign=function(e){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},a.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},a.prototype.getSecret=function(e){return i(this._secret,"KeyPair is public only"),n.encode(this.secret(),e)},a.prototype.getPublic=function(e){return n.encode(this.pubBytes(),e)},e.exports=a},83813:function(e,t,r){"use strict";var n=r(34108),i=r(38702),s=i.assert,o=i.cachedProperty,a=i.parseBytes;function c(e,t){this.eddsa=e,"object"!=typeof t&&(t=a(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),s(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof n&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}o(c,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),o(c,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),o(c,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),o(c,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},e.exports=c},13985:function(e){"use strict";e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},38702:function(e,t,r){"use strict";var n=r(34108),i=r(37074),s=r(61556);t.assert=i,t.toArray=s.toArray,t.zero2=s.zero2,t.toHex=s.toHex,t.encode=s.encode,t.getNAF=function(e,t,r){var n=Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var i=1<<t+1,s=e.clone(),o=0;o<n.length;o++){var a,c=s.andln(i-1);s.isOdd()?(a=c>(i>>1)-1?(i>>1)-c:c,s.isubn(a)):a=0,n[o]=a,s.iushrn(1)}return n},t.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n=0,i=0;e.cmpn(-n)>0||t.cmpn(-i)>0;){var s,o,a,c=e.andln(3)+n&3,u=t.andln(3)+i&3;3===c&&(c=-1),3===u&&(u=-1),o=(1&c)==0?0:(3==(s=e.andln(7)+n&7)||5===s)&&2===u?-c:c,r[0].push(o),a=(1&u)==0?0:(3==(s=t.andln(7)+i&7)||5===s)&&2===c?-u:u,r[1].push(a),2*n===o+1&&(n=1-n),2*i===a+1&&(i=1-i),e.iushrn(1),t.iushrn(1)}return r},t.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},t.parseBytes=function(e){return"string"==typeof e?t.toArray(e,"hex"):e},t.intFromLE=function(e){return new n(e,"hex","le")}},69739:function(e){"use strict";e.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var r,n="boolean"==typeof t.cycles&&t.cycles,i=t.cmp&&(r=t.cmp,function(e){return function(t,n){return r({key:t,value:e[t]},{key:n,value:e[n]})}}),s=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);if(Array.isArray(t)){for(r=0,o="[";r<t.length;r++)r&&(o+=","),o+=e(t[r])||"null";return o+"]"}if(null===t)return"null";if(-1!==s.indexOf(t)){if(n)return JSON.stringify("__cycle__");throw TypeError("Converting circular structure to JSON")}var r,o,a=s.push(t)-1,c=Object.keys(t).sort(i&&i(t));for(r=0,o="";r<c.length;r++){var u=c[r],l=e(t[u]);l&&(o&&(o+=","),o+=JSON.stringify(u)+":"+l)}return s.splice(a,1),"{"+o+"}"}}(e)}},52689:function(e,t,r){t.utils=r(34710),t.common=r(95553),t.sha=r(9216),t.ripemd=r(63932),t.hmac=r(28401),t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160},95553:function(e,t,r){"use strict";var n=r(34710),i=r(37074);function s(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=s,s.prototype.update=function(e,t){if(e=n.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=n.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},s.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},s.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var s=8;s<this.padLength;s++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(s=8,n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0;s<this.padLength;s++)n[i++]=0;return n}},28401:function(e,t,r){"use strict";var n=r(34710),i=r(37074);function s(e,t,r){if(!(this instanceof s))return new s(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(t,r))}e.exports=s,s.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(t=0,this.inner=new this.Hash().update(e);t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)},s.prototype.update=function(e,t){return this.inner.update(e,t),this},s.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},63932:function(e,t,r){"use strict";var n=r(34710),i=r(95553),s=n.rotl32,o=n.sum32,a=n.sum32_3,c=n.sum32_4,u=i.BlockHash;function l(){if(!(this instanceof l))return new l;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function d(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}n.inherits(l,u),t.ripemd160=l,l.blockSize=512,l.outSize=160,l.hmacStrength=192,l.padLength=64,l.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],u=this.h[3],l=this.h[4],g=r,v=n,b=i,y=u,w=l,E=0;E<80;E++){var _,S,A=o(s(c(r,d(E,n,i,u),e[h[E]+t],(_=E)<=15?0:_<=31?1518500249:_<=47?1859775393:_<=63?2400959708:2840853838),p[E]),l);r=l,l=u,u=s(i,10),i=n,n=A,A=o(s(c(g,d(79-E,v,b,y),e[f[E]+t],(S=E)<=15?1352829926:S<=31?1548603684:S<=47?1836072691:S<=63?2053994217:0),m[E]),w),g=w,w=y,y=s(b,10),b=v,v=A}A=a(this.h[1],i,y),this.h[1]=a(this.h[2],u,w),this.h[2]=a(this.h[3],l,g),this.h[3]=a(this.h[4],r,v),this.h[4]=a(this.h[0],n,b),this.h[0]=A},l.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var h=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],f=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],p=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},9216:function(e,t,r){"use strict";t.sha1=r(88938),t.sha224=r(44783),t.sha256=r(82282),t.sha384=r(41346),t.sha512=r(26934)},88938:function(e,t,r){"use strict";var n=r(34710),i=r(95553),s=r(80894),o=n.rotl32,a=n.sum32,c=n.sum32_5,u=s.ft_1,l=i.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function h(){if(!(this instanceof h))return new h;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=Array(80)}n.inherits(h,l),e.exports=h,h.blockSize=512,h.outSize=160,h.hmacStrength=80,h.padLength=64,h.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=o(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],s=this.h[1],l=this.h[2],h=this.h[3],f=this.h[4];for(n=0;n<r.length;n++){var p=~~(n/20),m=c(o(i,5),u(p,s,l,h),f,r[n],d[p]);f=h,h=l,l=o(s,30),s=i,i=m}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],s),this.h[2]=a(this.h[2],l),this.h[3]=a(this.h[3],h),this.h[4]=a(this.h[4],f)},h.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},44783:function(e,t,r){"use strict";var n=r(34710),i=r(82282);function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(s,i),e.exports=s,s.blockSize=512,s.outSize=224,s.hmacStrength=192,s.padLength=64,s.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},82282:function(e,t,r){"use strict";var n=r(34710),i=r(95553),s=r(80894),o=r(37074),a=n.sum32,c=n.sum32_4,u=n.sum32_5,l=s.ch32,d=s.maj32,h=s.s0_256,f=s.s1_256,p=s.g0_256,m=s.g1_256,g=i.BlockHash,v=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function b(){if(!(this instanceof b))return new b;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=v,this.W=Array(64)}n.inherits(b,g),e.exports=b,b.blockSize=512,b.outSize=256,b.hmacStrength=192,b.padLength=64,b.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=c(m(r[n-2]),r[n-7],p(r[n-15]),r[n-16]);var i=this.h[0],s=this.h[1],g=this.h[2],v=this.h[3],b=this.h[4],y=this.h[5],w=this.h[6],E=this.h[7];for(o(this.k.length===r.length),n=0;n<r.length;n++){var _=u(E,f(b),l(b,y,w),this.k[n],r[n]),S=a(h(i),d(i,s,g));E=w,w=y,y=b,b=a(v,_),v=g,g=s,s=i,i=a(_,S)}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],s),this.h[2]=a(this.h[2],g),this.h[3]=a(this.h[3],v),this.h[4]=a(this.h[4],b),this.h[5]=a(this.h[5],y),this.h[6]=a(this.h[6],w),this.h[7]=a(this.h[7],E)},b.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},41346:function(e,t,r){"use strict";var n=r(34710),i=r(26934);function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(s,i),e.exports=s,s.blockSize=1024,s.outSize=384,s.hmacStrength=192,s.padLength=128,s.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},26934:function(e,t,r){"use strict";var n=r(34710),i=r(95553),s=r(37074),o=n.rotr64_hi,a=n.rotr64_lo,c=n.shr64_hi,u=n.shr64_lo,l=n.sum64,d=n.sum64_hi,h=n.sum64_lo,f=n.sum64_4_hi,p=n.sum64_4_lo,m=n.sum64_5_hi,g=n.sum64_5_lo,v=i.BlockHash,b=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function y(){if(!(this instanceof y))return new y;v.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=b,this.W=Array(160)}n.inherits(y,v),e.exports=y,y.blockSize=1024,y.outSize=512,y.hmacStrength=192,y.padLength=128,y.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=function(e,t){var r=o(e,t,19)^o(t,e,29)^c(e,t,6);return r<0&&(r+=4294967296),r}(r[n-4],r[n-3]),s=function(e,t){var r=a(e,t,19)^a(t,e,29)^u(e,t,6);return r<0&&(r+=4294967296),r}(r[n-4],r[n-3]),l=r[n-14],d=r[n-13],h=function(e,t){var r=o(e,t,1)^o(e,t,8)^c(e,t,7);return r<0&&(r+=4294967296),r}(r[n-30],r[n-29]),m=function(e,t){var r=a(e,t,1)^a(e,t,8)^u(e,t,7);return r<0&&(r+=4294967296),r}(r[n-30],r[n-29]),g=r[n-32],v=r[n-31];r[n]=f(i,s,l,d,h,m,g,v),r[n+1]=p(i,s,l,d,h,m,g,v)}},y.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],c=this.h[2],u=this.h[3],f=this.h[4],p=this.h[5],v=this.h[6],b=this.h[7],y=this.h[8],w=this.h[9],E=this.h[10],_=this.h[11],S=this.h[12],A=this.h[13],T=this.h[14],x=this.h[15];s(this.k.length===r.length);for(var I=0;I<r.length;I+=2){var R=T,O=x,P=function(e,t){var r=o(e,t,14)^o(e,t,18)^o(t,e,9);return r<0&&(r+=4294967296),r}(y,w),k=function(e,t){var r=a(e,t,14)^a(e,t,18)^a(t,e,9);return r<0&&(r+=4294967296),r}(y,w),N=function(e,t,r,n,i){var s=e&r^~e&i;return s<0&&(s+=4294967296),s}(y,0,E,0,S,A),C=function(e,t,r,n,i,s){var o=t&n^~t&s;return o<0&&(o+=4294967296),o}(0,w,0,_,0,A),M=this.k[I],L=this.k[I+1],B=r[I],D=r[I+1],U=m(R,O,P,k,N,C,M,L,B,D),H=g(R,O,P,k,N,C,M,L,B,D);R=function(e,t){var r=o(e,t,28)^o(t,e,2)^o(t,e,7);return r<0&&(r+=4294967296),r}(n,i);var j=d(R,O=function(e,t){var r=a(e,t,28)^a(t,e,2)^a(t,e,7);return r<0&&(r+=4294967296),r}(n,i),P=function(e,t,r,n,i){var s=e&r^e&i^r&i;return s<0&&(s+=4294967296),s}(n,0,c,0,f,p),k=function(e,t,r,n,i,s){var o=t&n^t&s^n&s;return o<0&&(o+=4294967296),o}(0,i,0,u,0,p)),F=h(R,O,P,k);T=S,x=A,S=E,A=_,E=y,_=w,y=d(v,b,U,H),w=h(b,b,U,H),v=f,b=p,f=c,p=u,c=n,u=i,n=d(U,H,j,F),i=h(U,H,j,F)}l(this.h,0,n,i),l(this.h,2,c,u),l(this.h,4,f,p),l(this.h,6,v,b),l(this.h,8,y,w),l(this.h,10,E,_),l(this.h,12,S,A),l(this.h,14,T,x)},y.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},80894:function(e,t,r){"use strict";var n=r(34710).rotr32;function i(e,t,r){return e&t^e&r^t&r}t.ft_1=function(e,t,r,n){return 0===e?t&r^~t&n:1===e||3===e?t^r^n:2===e?i(t,r,n):void 0},t.ch32=function(e,t,r){return e&t^~e&r},t.maj32=i,t.p32=function(e,t,r){return e^t^r},t.s0_256=function(e){return n(e,2)^n(e,13)^n(e,22)},t.s1_256=function(e){return n(e,6)^n(e,11)^n(e,25)},t.g0_256=function(e){return n(e,7)^n(e,18)^e>>>3},t.g1_256=function(e){return n(e,17)^n(e,19)^e>>>10}},34710:function(e,t,r){"use strict";var n=r(37074),i=r(39541);function s(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function o(e){return 1===e.length?"0"+e:e}function a(e){if(7===e.length)return"0"+e;if(6===e.length)return"00"+e;if(5===e.length)return"000"+e;if(4===e.length)return"0000"+e;if(3===e.length)return"00000"+e;if(2===e.length)return"000000"+e;if(1===e.length)return"0000000"+e;else return e}t.inherits=i,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e){if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/ig,"")).length%2!=0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var s,o,a=e.charCodeAt(i);a<128?r[n++]=a:(a<2048?r[n++]=a>>6|192:((s=e,o=i,(64512&s.charCodeAt(o))!=55296||o<0||o+1>=s.length?1:(64512&s.charCodeAt(o+1))!=56320)?r[n++]=a>>12|224:(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++i)),r[n++]=a>>18|240,r[n++]=a>>12&63|128),r[n++]=a>>6&63|128),r[n++]=63&a|128)}}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r},t.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=o(e[r].toString(16));return t},t.htonl=s,t.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=s(i)),r+=a(i.toString(16))}return r},t.zero2=o,t.zero8=a,t.join32=function(e,t,r,i){var s,o=r-t;n(o%4==0);for(var a=Array(o/4),c=0,u=t;c<a.length;c++,u+=4)s="big"===i?e[u]<<24|e[u+1]<<16|e[u+2]<<8|e[u+3]:e[u+3]<<24|e[u+2]<<16|e[u+1]<<8|e[u],a[c]=s>>>0;return a},t.split32=function(e,t){for(var r=Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var s=e[n];"big"===t?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=255&s):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=255&s)}return r},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,r){return e+t+r>>>0},t.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},t.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},t.sum64=function(e,t,r,n){var i=e[t],s=n+e[t+1]>>>0;e[t]=(s<n?1:0)+r+i>>>0,e[t+1]=s},t.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},t.sum64_lo=function(e,t,r,n){return t+n>>>0},t.sum64_4_hi=function(e,t,r,n,i,s,o,a){var c,u=t;return e+r+i+o+(0+((u=u+n>>>0)<t?1:0)+((u=u+s>>>0)<s?1:0)+((u=u+a>>>0)<a?1:0))>>>0},t.sum64_4_lo=function(e,t,r,n,i,s,o,a){return t+n+s+a>>>0},t.sum64_5_hi=function(e,t,r,n,i,s,o,a,c,u){var l,d=t;return e+r+i+o+c+(0+((d=d+n>>>0)<t?1:0)+((d=d+s>>>0)<s?1:0)+((d=d+a>>>0)<a?1:0)+((d=d+u>>>0)<u?1:0))>>>0},t.sum64_5_lo=function(e,t,r,n,i,s,o,a,c,u){return t+n+s+a+u>>>0},t.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},t.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},t.shr64_hi=function(e,t,r){return e>>>r},t.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0}},36418:function(e,t,r){"use strict";var n=r(52689),i=r(61556),s=r(37074);function o(e){if(!(this instanceof o))return new o(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=i.toArray(e.entropy,e.entropyEnc||"hex"),r=i.toArray(e.nonce,e.nonceEnc||"hex"),n=i.toArray(e.pers,e.persEnc||"hex");s(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}e.exports=o,o.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=Array(this.outLen/8),this.V=Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},o.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},o.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},o.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=i.toArray(e,t),r=i.toArray(r,n),s(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},o.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=i.toArray(r,n||"hex"),this._update(r));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(r),this._reseed++,i.encode(o,t)}},37074:function(e){"use strict";function t(e,t){if(!e)throw Error(t||"Assertion failed")}e.exports=t,t.equal=function(e,t,r){if(e!=t)throw Error(r||"Assertion failed: "+e+" != "+t)}},61556:function(e,t){"use strict";function r(e){return 1===e.length?"0"+e:e}function n(e){for(var t="",n=0;n<e.length;n++)t+=r(e[n].toString(16));return t}t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/ig,"")).length%2!=0&&(e="0"+e);for(var n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var n=0;n<e.length;n++){var i=e.charCodeAt(n),s=i>>8,o=255&i;s?r.push(s,o):r.push(o)}return r},t.zero2=r,t.toHex=n,t.encode=function(e,t){return"hex"===t?n(e):e}},85190:function(e,t,r){"use strict";var n=r(49079);"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab="//"),({189:function(){!function(e,t){if(!e.setImmediate){var r,i,s,o,a,c=1,u={},l=!1,d=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);(h=h&&h.setTimeout?h:e,"[object process]"===({}).toString.call(e.process))?a=function(e){n.nextTick(function(){p(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?(r="setImmediate$"+Math.random()+"$",i=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(r)&&p(+t.data.slice(r.length))},e.addEventListener?e.addEventListener("message",i,!1):e.attachEvent("onmessage",i),a=function(t){e.postMessage(r+t,"*")}):e.MessageChannel?((s=new MessageChannel).port1.onmessage=function(e){p(e.data)},a=function(e){s.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(o=d.documentElement,a=function(e){var t=d.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):a=function(e){setTimeout(p,0,e)},h.setImmediate=function(e){"function"!=typeof e&&(e=Function(""+e));for(var t=Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var n={callback:e,args:t};return u[c]=n,a(c),c++},h.clearImmediate=f}function f(e){delete u[e]}function p(e){if(l)setTimeout(p,0,e);else{var t=u[e];if(t){l=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(void 0,r)}}(t)}finally{f(e),l=!1}}}}}("undefined"==typeof self?void 0===r.g?this:r.g:self)}})[189](),e.exports={}},86630:function(e,t,r){"use strict";var n="undefined"!=typeof self?self:window;e.exports=t=n.fetch,n.fetch&&(t.default=n.fetch.bind(n)),t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response},75945:function(e,t,r){"use strict";function n(e){this.mode=s.MODE_8BIT_BYTE,this.data=e,this.parsedData=[];for(var t=0,r=this.data.length;t<r;t++){var n=[],i=this.data.charCodeAt(t);i>65536?(n[0]=240|(1835008&i)>>>18,n[1]=128|(258048&i)>>>12,n[2]=128|(4032&i)>>>6,n[3]=128|63&i):i>2048?(n[0]=224|(61440&i)>>>12,n[1]=128|(4032&i)>>>6,n[2]=128|63&i):i>128?(n[0]=192|(1984&i)>>>6,n[1]=128|63&i):n[0]=i,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function i(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}n.prototype={getLength:function(e){return this.parsedData.length},write:function(e){for(var t=0,r=this.parsedData.length;t<r;t++)e.put(this.parsedData[t],8)}},i.prototype={addData:function(e){var t=new n(e);this.dataList.push(t),this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=i.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(e,t){for(var r=-1;r<=7;r++)if(!(e+r<=-1)&&!(this.moduleCount<=e+r))for(var n=-1;n<=7;n++)t+n<=-1||this.moduleCount<=t+n||(0<=r&&r<=6&&(0==n||6==n)||0<=n&&n<=6&&(0==r||6==r)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[e+r][t+n]=!0:this.modules[e+r][t+n]=!1)},getBestMaskPattern:function(){for(var e=0,t=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=c.getLostPoint(this);(0==r||e>n)&&(e=n,t=r)}return t},createMovieClip:function(e,t,r){var n=e.createEmptyMovieClip(t,r);this.make();for(var i=0;i<this.modules.length;i++)for(var s=1*i,o=0;o<this.modules[i].length;o++){var a=1*o;this.modules[i][o]&&(n.beginFill(0,100),n.moveTo(a,s),n.lineTo(a+1,s),n.lineTo(a+1,s+1),n.lineTo(a,s+1),n.endFill())}return n},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=c.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var r=0;r<e.length;r++){var n=e[t],i=e[r];if(null==this.modules[n][i])for(var s=-2;s<=2;s++)for(var o=-2;o<=2;o++)-2==s||2==s||-2==o||2==o||0==s&&0==o?this.modules[n+s][i+o]=!0:this.modules[n+s][i+o]=!1}},setupTypeNumber:function(e){for(var t=c.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!e&&(t>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!e&&(t>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(e,t){for(var r=this.errorCorrectLevel<<3|t,n=c.getBCHTypeInfo(r),i=0;i<15;i++){var s=!e&&(n>>i&1)==1;i<6?this.modules[i][8]=s:i<8?this.modules[i+1][8]=s:this.modules[this.moduleCount-15+i][8]=s}for(var i=0;i<15;i++){var s=!e&&(n>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=s:i<9?this.modules[8][15-i-1+1]=s:this.modules[8][15-i-1]=s}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var r=-1,n=this.moduleCount-1,i=7,s=0,o=this.moduleCount-1;o>0;o-=2)for(6==o&&o--;;){for(var a=0;a<2;a++)if(null==this.modules[n][o-a]){var u=!1;s<e.length&&(u=(e[s]>>>i&1)==1),c.getMask(t,n,o-a)&&(u=!u),this.modules[n][o-a]=u,-1==--i&&(s++,i=7)}if((n+=r)<0||this.moduleCount<=n){n-=r,r=-r;break}}}},i.PAD0=236,i.PAD1=17,i.createData=function(e,t,r){for(var n=h.getRSBlocks(e,t),s=new f,o=0;o<r.length;o++){var a=r[o];s.put(a.mode,4),s.put(a.getLength(),c.getLengthInBits(a.mode,e)),a.write(s)}for(var u=0,o=0;o<n.length;o++)u+=n[o].dataCount;if(s.getLengthInBits()>8*u)throw Error("code length overflow. ("+s.getLengthInBits()+">"+8*u+")");for(s.getLengthInBits()+4<=8*u&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=8*u)&&(s.put(i.PAD0,8),!(s.getLengthInBits()>=8*u));)s.put(i.PAD1,8);return i.createBytes(s,n)},i.createBytes=function(e,t){for(var r=0,n=0,i=0,s=Array(t.length),o=Array(t.length),a=0;a<t.length;a++){var u=t[a].dataCount,l=t[a].totalCount-u;n=Math.max(n,u),i=Math.max(i,l),s[a]=Array(u);for(var h=0;h<s[a].length;h++)s[a][h]=255&e.buffer[h+r];r+=u;var f=c.getErrorCorrectPolynomial(l),p=new d(s[a],f.getLength()-1).mod(f);o[a]=Array(f.getLength()-1);for(var h=0;h<o[a].length;h++){var m=h+p.getLength()-o[a].length;o[a][h]=m>=0?p.get(m):0}}for(var g=0,h=0;h<t.length;h++)g+=t[h].totalCount;for(var v=Array(g),b=0,h=0;h<n;h++)for(var a=0;a<t.length;a++)h<s[a].length&&(v[b++]=s[a][h]);for(var h=0;h<i;h++)for(var a=0;a<t.length;a++)h<o[a].length&&(v[b++]=o[a][h]);return v};for(var s={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},o={L:1,M:0,Q:3,H:2},a={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},c={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;c.getBCHDigit(t)-c.getBCHDigit(c.G15)>=0;)t^=c.G15<<c.getBCHDigit(t)-c.getBCHDigit(c.G15);return(e<<10|t)^c.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;c.getBCHDigit(t)-c.getBCHDigit(c.G18)>=0;)t^=c.G18<<c.getBCHDigit(t)-c.getBCHDigit(c.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return c.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,r){switch(e){case a.PATTERN000:return(t+r)%2==0;case a.PATTERN001:return t%2==0;case a.PATTERN010:return r%3==0;case a.PATTERN011:return(t+r)%3==0;case a.PATTERN100:return(Math.floor(t/2)+Math.floor(r/3))%2==0;case a.PATTERN101:return t*r%2+t*r%3==0;case a.PATTERN110:return(t*r%2+t*r%3)%2==0;case a.PATTERN111:return(t*r%3+(t+r)%2)%2==0;default:throw Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new d([1],0),r=0;r<e;r++)t=t.multiply(new d([1,u.gexp(r)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case s.MODE_NUMBER:return 10;case s.MODE_ALPHA_NUM:return 9;case s.MODE_8BIT_BYTE:case s.MODE_KANJI:return 8;default:throw Error("mode:"+e)}else if(t<27)switch(e){case s.MODE_NUMBER:return 12;case s.MODE_ALPHA_NUM:return 11;case s.MODE_8BIT_BYTE:return 16;case s.MODE_KANJI:return 10;default:throw Error("mode:"+e)}else if(t<41)switch(e){case s.MODE_NUMBER:return 14;case s.MODE_ALPHA_NUM:return 13;case s.MODE_8BIT_BYTE:return 16;case s.MODE_KANJI:return 12;default:throw Error("mode:"+e)}else throw Error("type:"+t)},getLostPoint:function(e){for(var t=e.getModuleCount(),r=0,n=0;n<t;n++)for(var i=0;i<t;i++){for(var s=0,o=e.isDark(n,i),a=-1;a<=1;a++)if(!(n+a<0)&&!(t<=n+a))for(var c=-1;c<=1;c++)!(i+c<0)&&!(t<=i+c)&&(0!=a||0!=c)&&o==e.isDark(n+a,i+c)&&s++;s>5&&(r+=3+s-5)}for(var n=0;n<t-1;n++)for(var i=0;i<t-1;i++){var u=0;e.isDark(n,i)&&u++,e.isDark(n+1,i)&&u++,e.isDark(n,i+1)&&u++,e.isDark(n+1,i+1)&&u++,(0==u||4==u)&&(r+=3)}for(var n=0;n<t;n++)for(var i=0;i<t-6;i++)e.isDark(n,i)&&!e.isDark(n,i+1)&&e.isDark(n,i+2)&&e.isDark(n,i+3)&&e.isDark(n,i+4)&&!e.isDark(n,i+5)&&e.isDark(n,i+6)&&(r+=40);for(var i=0;i<t;i++)for(var n=0;n<t-6;n++)e.isDark(n,i)&&!e.isDark(n+1,i)&&e.isDark(n+2,i)&&e.isDark(n+3,i)&&e.isDark(n+4,i)&&!e.isDark(n+5,i)&&e.isDark(n+6,i)&&(r+=40);for(var l=0,i=0;i<t;i++)for(var n=0;n<t;n++)e.isDark(n,i)&&l++;return r+Math.abs(100*l/t/t-50)/5*10}},u={glog:function(e){if(e<1)throw Error("glog("+e+")");return u.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return u.EXP_TABLE[e]},EXP_TABLE:Array(256),LOG_TABLE:Array(256)},l=0;l<8;l++)u.EXP_TABLE[l]=1<<l;for(var l=8;l<256;l++)u.EXP_TABLE[l]=u.EXP_TABLE[l-4]^u.EXP_TABLE[l-5]^u.EXP_TABLE[l-6]^u.EXP_TABLE[l-8];for(var l=0;l<255;l++)u.LOG_TABLE[u.EXP_TABLE[l]]=l;function d(e,t){if(void 0==e.length)throw Error(e.length+"/"+t);for(var r=0;r<e.length&&0==e[r];)r++;this.num=Array(e.length-r+t);for(var n=0;n<e.length-r;n++)this.num[n]=e[n+r]}function h(e,t){this.totalCount=e,this.dataCount=t}function f(){this.buffer=[],this.length=0}d.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=Array(this.getLength()+e.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<e.getLength();n++)t[r+n]^=u.gexp(u.glog(this.get(r))+u.glog(e.get(n)));return new d(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=u.glog(this.get(0))-u.glog(e.get(0)),r=Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<e.getLength();n++)r[n]^=u.gexp(u.glog(e.get(n))+t);return new d(r,0).mod(e)}},h.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],h.getRSBlocks=function(e,t){var r=h.getRsBlockTable(e,t);if(void 0==r)throw Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var n=r.length/3,i=[],s=0;s<n;s++)for(var o=r[3*s+0],a=r[3*s+1],c=r[3*s+2],u=0;u<o;u++)i.push(new h(a,c));return i},h.getRsBlockTable=function(e,t){switch(t){case o.L:return h.RS_BLOCK_TABLE[(e-1)*4+0];case o.M:return h.RS_BLOCK_TABLE[(e-1)*4+1];case o.Q:return h.RS_BLOCK_TABLE[(e-1)*4+2];case o.H:return h.RS_BLOCK_TABLE[(e-1)*4+3];default:return}},f.prototype={get:function(e){return(this.buffer[Math.floor(e/8)]>>>7-e%8&1)==1},put:function(e,t){for(var r=0;r<t;r++)this.putBit((e>>>t-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var p=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function m(e){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M"},"string"==typeof e&&(e={content:e}),e)for(var t in e)this.options[t]=e[t];if("string"!=typeof this.options.content)throw Error("Expected 'content' as string!");if(0===this.options.content.length)throw Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw Error("Expected 'width' or 'height' value to be higher than zero!");var r=this.options.content,n=function(e,t){for(var r,n=(r=encodeURI(e).toString().replace(/\%[0-9a-fA-F]{2}/g,"a")).length+(r.length!=e?3:0),i=1,s=0,o=0,a=p.length;o<=a;o++){var c=p[o];if(!c)throw Error("Content too long: expected "+s+" but got "+n);switch(t){case"L":s=c[0];break;case"M":s=c[1];break;case"Q":s=c[2];break;case"H":s=c[3];break;default:throw Error("Unknwon error correction level: "+t)}if(n<=s)break;i++}if(i>p.length)throw Error("Content too long");return i}(r,this.options.ecl),s=function(e){switch(e){case"L":return o.L;case"M":return o.M;case"Q":return o.Q;case"H":return o.H;default:throw Error("Unknwon error correction level: "+e)}}(this.options.ecl);this.qrcode=new i(n,s),this.qrcode.addData(r),this.qrcode.make()}m.prototype.svg=function(e){var t=this.options||{},r=this.qrcode.modules;void 0===e&&(e={container:t.container||"svg"});for(var n=void 0===t.pretty||!!t.pretty,i=n?"  ":"",s=n?"\r\n":"",o=t.width,a=t.height,c=r.length,u=o/(c+2*t.padding),l=a/(c+2*t.padding),d=void 0!==t.join&&!!t.join,h=void 0!==t.swap&&!!t.swap,f=void 0===t.xmlDeclaration||!!t.xmlDeclaration,p=void 0!==t.predefined&&!!t.predefined,m=p?i+'<defs><path id="qrmodule" d="M0 0 h'+l+" v"+u+' H0 z" style="fill:'+t.color+';shape-rendering:crispEdges;" /></defs>'+s:"",g=i+'<rect x="0" y="0" width="'+o+'" height="'+a+'" style="fill:'+t.background+';shape-rendering:crispEdges;"/>'+s,v="",b="",y=0;y<c;y++)for(var w=0;w<c;w++)if(r[w][y]){var E=w*u+t.padding*u,_=y*l+t.padding*l;if(h){var S=E;E=_,_=S}if(d){var A=u+E,T=l+_;E=Number.isInteger(E)?Number(E):E.toFixed(2),_=Number.isInteger(_)?Number(_):_.toFixed(2),A=Number.isInteger(A)?Number(A):A.toFixed(2),b+="M"+E+","+_+" V"+(T=Number.isInteger(T)?Number(T):T.toFixed(2))+" H"+A+" V"+_+" H"+E+" Z "}else p?v+=i+'<use x="'+E.toString()+'" y="'+_.toString()+'" href="#qrmodule" />'+s:v+=i+'<rect x="'+E.toString()+'" y="'+_.toString()+'" width="'+u+'" height="'+l+'" style="fill:'+t.color+';shape-rendering:crispEdges;"/>'+s}d&&(v=i+'<path x="0" y="0" style="fill:'+t.color+';shape-rendering:crispEdges;" d="'+b+'" />');var x="";switch(e.container){case"svg":f&&(x+='<?xml version="1.0" standalone="yes"?>'+s),x+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+o+'" height="'+a+'">'+s+(m+g+v)+"</svg>";break;case"svg-viewbox":f&&(x+='<?xml version="1.0" standalone="yes"?>'+s),x+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+o+" "+a+'">'+s+(m+g+v)+"</svg>";break;case"g":x+='<g width="'+o+'" height="'+a+'">'+s+(m+g+v)+"</g>";break;default:x+=(m+g+v).replace(/^\s+/,"")}return x},m.prototype.save=function(e,t){var n=this.svg();"function"!=typeof t&&(t=function(e,t){});try{r(69951).writeFile(e,n,t)}catch(e){t(e)}},e.exports=m},31379:function(e,t,r){"use strict";r.d(t,{X:function(){return i}});var n=r(69703),i=function(e){function t(t){var r=e.call(this)||this;return r._value=t,r}return(0,n.__extends)(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var r=e.prototype._subscribe.call(this,t);return r.closed||t.next(this._value),r},t.prototype.getValue=function(){var e=this.hasError,t=this.thrownError,r=this._value;if(e)throw t;return this._throwIfClosed(),r},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(r(91179).x)},6216:function(e,t,r){"use strict";r.d(t,{y:function(){return l}});var n=r(31994),i=r(43122),s=r(23027),o=r(39638),a=r(78534),c=r(40366),u=r(70057),l=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var s,o=this,a=(s=e)&&s instanceof n.Lv||s&&(0,c.m)(s.next)&&(0,c.m)(s.error)&&(0,c.m)(s.complete)&&(0,i.Nn)(s)?e:new n.Hp(e,t,r);return(0,u.x)(function(){var e=o.operator,t=o.source;a.add(e?e.call(a,t):t?o._subscribe(a):o._trySubscribe(a))}),a},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=d(t))(function(t,i){var s=new n.Hp({next:function(t){try{e(t)}catch(e){i(e),s.unsubscribe()}},error:i,complete:t});r.subscribe(s)})},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[s.L]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0===e.length?o.y:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)})(this)},e.prototype.toPromise=function(e){var t=this;return new(e=d(e))(function(e,r){var n;t.subscribe(function(e){return n=e},function(e){return r(e)},function(){return e(n)})})},e.create=function(t){return new e(t)},e}();function d(e){var t;return null!==(t=null!=e?e:a.v.Promise)&&void 0!==t?t:Promise}},88137:function(e,t,r){"use strict";r.d(t,{t:function(){return o}});var n=r(69703),i=r(91179),s=r(39639),o=function(e){function t(t,r,n){void 0===t&&(t=1/0),void 0===r&&(r=1/0),void 0===n&&(n=s.l);var i=e.call(this)||this;return i._bufferSize=t,i._windowTime=r,i._timestampProvider=n,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=r===1/0,i._bufferSize=Math.max(1,t),i._windowTime=Math.max(1,r),i}return(0,n.__extends)(t,e),t.prototype.next=function(t){var r=this.isStopped,n=this._buffer,i=this._infiniteTimeWindow,s=this._timestampProvider,o=this._windowTime;!r&&(n.push(t),i||n.push(s.now()+o)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),r=this._infiniteTimeWindow,n=this._buffer.slice(),i=0;i<n.length&&!e.closed;i+=r?1:2)e.next(n[i]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this._bufferSize,t=this._timestampProvider,r=this._buffer,n=this._infiniteTimeWindow,i=(n?1:2)*e;if(e<1/0&&i<r.length&&r.splice(0,r.length-i),!n){for(var s=t.now(),o=0,a=1;a<r.length&&r[a]<=s;a+=2)o=a;o&&r.splice(0,o+1)}},t}(i.x)},91179:function(e,t,r){"use strict";r.d(t,{x:function(){return u}});var n=r(69703),i=r(6216),s=r(43122),o=(0,r(44514).d)(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),a=r(56833),c=r(70057),u=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return(0,n.__extends)(t,e),t.prototype.lift=function(e){var t=new l(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new o},t.prototype.next=function(e){var t=this;(0,c.x)(function(){var r,i;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var s=(0,n.__values)(t.currentObservers),o=s.next();!o.done;o=s.next())o.value.next(e)}catch(e){r={error:e}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}}})},t.prototype.error=function(e){var t=this;(0,c.x)(function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var r=t.observers;r.length;)r.shift().error(e)}})},t.prototype.complete=function(){var e=this;(0,c.x)(function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,r=this.hasError,n=this.isStopped,i=this.observers;return r||n?s.Lc:(this.currentObservers=null,i.push(e),new s.w0(function(){t.currentObservers=null,(0,a.P)(i,e)}))},t.prototype._checkFinalizedStatuses=function(e){var t=this.hasError,r=this.thrownError,n=this.isStopped;t?e.error(r):n&&e.complete()},t.prototype.asObservable=function(){var e=new i.y;return e.source=this,e},t.create=function(e,t){return new l(e,t)},t}(i.y),l=function(e){function t(t,r){var n=e.call(this)||this;return n.destination=t,n.source=r,n}return(0,n.__extends)(t,e),t.prototype.next=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)},t.prototype.error=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:s.Lc},t}(u)},31994:function(e,t,r){"use strict";r.d(t,{Hp:function(){return v},Lv:function(){return f}});var n=r(69703),i=r(40366),s=r(43122),o=r(78534),a=r(30803),c=r(38265),u=l("C",void 0,void 0);function l(e,t,r){return{kind:e,value:t,error:r}}var d=r(4803),h=r(70057),f=function(e){function t(t){var r=e.call(this)||this;return r.isStopped=!1,t?(r.destination=t,(0,s.Nn)(t)&&t.add(r)):r.destination=w,r}return(0,n.__extends)(t,e),t.create=function(e,t,r){return new v(e,t,r)},t.prototype.next=function(e){this.isStopped?y(l("N",e,void 0),this):this._next(e)},t.prototype.error=function(e){this.isStopped?y(l("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?y(u,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(s.w0),p=Function.prototype.bind;function m(e,t){return p.call(e,t)}var g=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){b(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){b(e)}else b(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){b(e)}},e}(),v=function(e){function t(t,r,n){var s,a,c=e.call(this)||this;return(0,i.m)(t)||!t?s={next:null!=t?t:void 0,error:null!=r?r:void 0,complete:null!=n?n:void 0}:c&&o.v.useDeprecatedNextContext?((a=Object.create(t)).unsubscribe=function(){return c.unsubscribe()},s={next:t.next&&m(t.next,a),error:t.error&&m(t.error,a),complete:t.complete&&m(t.complete,a)}):s=t,c.destination=new g(s),c}return(0,n.__extends)(t,e),t}(f);function b(e){o.v.useDeprecatedSynchronousErrorHandling?(0,h.O)(e):(0,a.h)(e)}function y(e,t){var r=o.v.onStoppedNotification;r&&d.z.setTimeout(function(){return r(e,t)})}var w={closed:!0,next:c.Z,error:function(e){throw e},complete:c.Z}},43122:function(e,t,r){"use strict";r.d(t,{Lc:function(){return c},w0:function(){return a},Nn:function(){return u}});var n=r(69703),i=r(40366),s=(0,r(44514).d)(function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}),o=r(56833),a=function(){var e;function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e,t,r,o,a,c=this._parentage;if(c){if(this._parentage=null,Array.isArray(c))try{for(var u=(0,n.__values)(c),d=u.next();!d.done;d=u.next())d.value.remove(this)}catch(t){e={error:t}}finally{try{d&&!d.done&&(t=u.return)&&t.call(u)}finally{if(e)throw e.error}}else c.remove(this)}var h=this.initialTeardown;if((0,i.m)(h))try{h()}catch(e){a=e instanceof s?e.errors:[e]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var p=(0,n.__values)(f),m=p.next();!m.done;m=p.next()){var g=m.value;try{l(g)}catch(e){a=null!=a?a:[],e instanceof s?a=(0,n.__spreadArray)((0,n.__spreadArray)([],(0,n.__read)(a)),(0,n.__read)(e.errors)):a.push(e)}}}catch(e){r={error:e}}finally{try{m&&!m.done&&(o=p.return)&&o.call(p)}finally{if(r)throw r.error}}}if(a)throw new s(a)}},t.prototype.add=function(e){var r;if(e&&e!==this){if(this.closed)l(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(e)}}},t.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},t.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},t.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&(0,o.P)(t,e)},t.prototype.remove=function(e){var r=this._finalizers;r&&(0,o.P)(r,e),e instanceof t&&e._removeParent(this)},t.EMPTY=((e=new t).closed=!0,e),t}(),c=a.EMPTY;function u(e){return e instanceof a||e&&"closed"in e&&(0,i.m)(e.remove)&&(0,i.m)(e.add)&&(0,i.m)(e.unsubscribe)}function l(e){(0,i.m)(e)?e():e.unsubscribe()}},78534:function(e,t,r){"use strict";r.d(t,{v:function(){return n}});var n={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},97225:function(e,t,r){"use strict";r.d(t,{a:function(){return g}});var n=r(6216),i=Array.isArray,s=Object.getPrototypeOf,o=Object.prototype,a=Object.keys,c=r(24451),u=r(39638),l=r(69703),d=r(33627),h=Array.isArray,f=r(90714),p=r(33112),m=r(53605);function g(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var m=(0,f.yG)(t),g=(0,f.jO)(t),b=function(e){if(1===e.length){var t=e[0];if(i(t))return{args:t,keys:null};if(t&&"object"==typeof t&&s(t)===o){var r=a(t);return{args:r.map(function(e){return t[e]}),keys:r}}}return{args:e,keys:null}}(t),y=b.args,w=b.keys;if(0===y.length)return(0,c.D)([],m);var E=new n.y((void 0===(e=w?function(e){return w.reduce(function(t,r,n){return t[r]=e[n],t},{})}:u.y)&&(e=u.y),function(t){v(m,function(){for(var r=y.length,n=Array(r),i=r,s=r,o=function(r){v(m,function(){var o=(0,c.D)(y[r],m),a=!1;o.subscribe((0,p.x)(t,function(i){n[r]=i,!a&&(a=!0,s--),s||t.next(e(n.slice()))},function(){--i||t.complete()}))},t)},a=0;a<r;a++)o(a)},t)}));return g?E.pipe((0,d.U)(function(e){return h(e)?g.apply(void 0,(0,l.__spreadArray)([],(0,l.__read)(e))):g(e)})):E}function v(e,t,r){e?(0,m.f)(r,e,t):t()}},17788:function(e,t,r){"use strict";r.d(t,{z:function(){return a}});var n=r(73743),i=r(39638),s=r(90714),o=r(24451);function a(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return(void 0===(e=1)&&(e=1/0),(0,n.z)(i.y,e))((0,o.D)(t,(0,s.yG)(t)))}},81092:function(e,t,r){"use strict";r.d(t,{P:function(){return s}});var n=r(6216),i=r(74357);function s(e){return new n.y(function(t){(0,i.Xf)(e()).subscribe(t)})}},29818:function(e,t,r){"use strict";r.d(t,{E:function(){return n}});var n=new(r(6216)).y(function(e){return e.complete()})},24451:function(e,t,r){"use strict";r.d(t,{D:function(){return w}});var n=r(74357),i=r(53605),s=r(43051),o=r(33112);function a(e,t){return void 0===t&&(t=0),(0,s.e)(function(r,n){r.subscribe((0,o.x)(n,function(r){return(0,i.f)(n,e,function(){return n.next(r)},t)},function(){return(0,i.f)(n,e,function(){return n.complete()},t)},function(r){return(0,i.f)(n,e,function(){return n.error(r)},t)}))})}function c(e,t){return void 0===t&&(t=0),(0,s.e)(function(r,n){n.add(e.schedule(function(){return r.subscribe(n)},t))})}var u=r(6216),l=r(86398),d=r(40366);function h(e,t){if(!e)throw Error("Iterable cannot be null");return new u.y(function(r){(0,i.f)(r,t,function(){var n=e[Symbol.asyncIterator]();(0,i.f)(r,t,function(){n.next().then(function(e){e.done?r.complete():r.next(e.value)})},0,!0)})})}var f=r(9161),p=r(22073),m=r(29400),g=r(63624),v=r(56196),b=r(5644),y=r(23321);function w(e,t){return t?function(e,t){if(null!=e){if((0,f.c)(e))return(0,n.Xf)(e).pipe(c(t),a(t));if((0,m.z)(e))return new u.y(function(r){var n=0;return t.schedule(function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())})});if((0,p.t)(e))return(0,n.Xf)(e).pipe(c(t),a(t));if((0,v.D)(e))return h(e,t);if((0,g.T)(e))return new u.y(function(r){var n;return(0,i.f)(r,t,function(){n=e[l.h](),(0,i.f)(r,t,function(){var e,t,i;try{t=(e=n.next()).value,i=e.done}catch(e){r.error(e);return}i?r.complete():r.next(t)},0,!0)}),function(){return(0,d.m)(null==n?void 0:n.return)&&n.return()}});if((0,y.L)(e))return h((0,y.Q)(e),t)}throw(0,b.z)(e)}(e,t):(0,n.Xf)(e)}},74357:function(e,t,r){"use strict";r.d(t,{Xf:function(){return m}});var n=r(69703),i=r(29400),s=r(22073),o=r(6216),a=r(9161),c=r(56196),u=r(5644),l=r(63624),d=r(23321),h=r(40366),f=r(30803),p=r(23027);function m(e){if(e instanceof o.y)return e;if(null!=e){if((0,a.c)(e))return new o.y(function(t){var r=e[p.L]();if((0,h.m)(r.subscribe))return r.subscribe(t);throw TypeError("Provided object does not correctly implement Symbol.observable")});if((0,i.z)(e))return new o.y(function(t){for(var r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()});if((0,s.t)(e))return new o.y(function(t){e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,f.h)});if((0,c.D)(e))return g(e);if((0,l.T)(e))return new o.y(function(t){var r,i;try{for(var s=(0,n.__values)(e),o=s.next();!o.done;o=s.next()){var a=o.value;if(t.next(a),t.closed)return}}catch(e){r={error:e}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}t.complete()});if((0,d.L)(e))return g((0,d.Q)(e))}throw(0,u.z)(e)}function g(e){return new o.y(function(t){(function(e,t){var r,i,s,o;return(0,n.__awaiter)(this,void 0,void 0,function(){var a;return(0,n.__generator)(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),r=(0,n.__asyncValues)(e),c.label=1;case 1:return[4,r.next()];case 2:if((i=c.sent()).done)return[3,4];if(a=i.value,t.next(a),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s={error:c.sent()},[3,11];case 6:if(c.trys.push([6,,9,10]),!(i&&!i.done&&(o=r.return)))return[3,8];return[4,o.call(r)];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(s)throw s.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})})(e,t).catch(function(e){return t.error(e)})})}},63791:function(e,t,r){"use strict";r.d(t,{C:function(){return s}});var n=r(6216),i=r(38265),s=new n.y(i.Z)},37808:function(e,t,r){"use strict";r.d(t,{of:function(){return s}});var n=r(90714),i=r(24451);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,n.yG)(e);return(0,i.D)(e,r)}},1458:function(e,t,r){"use strict";r.d(t,{w:function(){return s}});var n=r(6216),i=r(29818);function s(e,t,r){if(null==t&&(t=e,e=0),t<=0)return i.E;var s=t+e;return new n.y(r?function(t){var n=e;return r.schedule(function(){n<s?(t.next(n++),this.schedule()):t.complete()})}:function(t){for(var r=e;r<s&&!t.closed;)t.next(r++);t.complete()})}},81014:function(e,t,r){"use strict";r.d(t,{_:function(){return s}});var n=r(6216),i=r(40366);function s(e,t){var r=(0,i.m)(e)?e:function(){return e},s=function(e){return e.error(r())};return new n.y(t?function(e){return t.schedule(s,0,e)}:s)}},72467:function(e,t,r){"use strict";r.d(t,{H:function(){return a}});var n=r(6216),i=r(25043),s=r(73768),o=r(74677);function a(e,t,r){void 0===e&&(e=0),void 0===r&&(r=i.P);var a=-1;return null!=t&&((0,s.K)(t)?r=t:a=t),new n.y(function(t){var n=(0,o.q)(e)?+e-r.now():e;n<0&&(n=0);var i=0;return r.schedule(function(){t.closed||(t.next(i++),0<=a?this.schedule(void 0,a):t.complete())},n)})}},33112:function(e,t,r){"use strict";r.d(t,{x:function(){return i}});var n=r(69703);function i(e,t,r,n,i){return new s(e,t,r,n,i)}var s=function(e){function t(t,r,n,i,s,o){var a=e.call(this,t)||this;return a.onFinalize=s,a.shouldUnsubscribe=o,a._next=r?function(e){try{r(e)}catch(e){t.error(e)}}:e.prototype._next,a._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=n?function(){try{n()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,a}return(0,n.__extends)(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),r||null===(t=this.onFinalize)||void 0===t||t.call(this)}},t}(r(31994).Lv)},68074:function(e,t,r){"use strict";r.d(t,{K:function(){return function e(t){return(0,s.e)(function(r,s){var o,a=null,c=!1;a=r.subscribe((0,i.x)(s,void 0,void 0,function(i){o=(0,n.Xf)(t(i,e(t)(r))),a?(a.unsubscribe(),a=null,o.subscribe(s)):c=!0})),c&&(a.unsubscribe(),a=null,o.subscribe(s))})}}});var n=r(74357),i=r(33112),s=r(43051)},74294:function(e,t,r){"use strict";r.d(t,{b:function(){return s}});var n=r(73743),i=r(40366);function s(e,t){return(0,i.m)(t)?(0,n.z)(e,t,1):(0,n.z)(e,1)}},45698:function(e,t,r){"use strict";r.d(t,{x:function(){return o}});var n=r(39638),i=r(43051),s=r(33112);function o(e,t){return void 0===t&&(t=n.y),e=null!=e?e:a,(0,i.e)(function(r,n){var i,o=!0;r.subscribe((0,s.x)(n,function(r){var s=t(r);(o||!e(i,s))&&(o=!1,i=s,n.next(r))}))})}function a(e,t){return e===t}},81571:function(e,t,r){"use strict";r.d(t,{g:function(){return i}});var n=r(45698);function i(e,t){return(0,n.x)(function(r,n){return t?t(r[e],n[e]):r[e]===n[e]})}},47647:function(e,t,r){"use strict";r.d(t,{l:function(){return o}});var n=r(69703),i=r(17788),s=r(37808);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return(0,i.z)(t,s.of.apply(void 0,(0,n.__spreadArray)([],(0,n.__read)(e))))}}},96141:function(e,t,r){"use strict";r.d(t,{h:function(){return s}});var n=r(43051),i=r(33112);function s(e,t){return(0,n.e)(function(r,n){var s=0;r.subscribe((0,i.x)(n,function(r){return e.call(t,r,s++)&&n.next(r)}))})}},48614:function(e,t,r){"use strict";r.d(t,{P:function(){return c}});var n=(0,r(44514).d)(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}),i=r(96141),s=(r(29818),r(43051)),o=r(33112),a=r(39638);function c(e,t){var r=arguments.length>=2;return function(c){return c.pipe(e?(0,i.h)(function(t,r){return e(t,r,c)}):a.y,(0,s.e)(function(e,t){var r=0;e.subscribe((0,o.x)(t,function(e){++r<=1&&(t.next(e),1<=r&&t.complete())}))}),r?(0,s.e)(function(e,r){var n=!1;e.subscribe((0,o.x)(r,function(e){n=!0,r.next(e)},function(){n||r.next(t),r.complete()}))}):(0,s.e)(function(e,t){var r=!1;e.subscribe((0,o.x)(t,function(e){r=!0,t.next(e)},function(){return r?t.complete():t.error(new n)}))}))}}},33627:function(e,t,r){"use strict";r.d(t,{U:function(){return s}});var n=r(43051),i=r(33112);function s(e,t){return(0,n.e)(function(r,n){var s=0;r.subscribe((0,i.x)(n,function(r){n.next(e.call(t,r,s++))}))})}},73743:function(e,t,r){"use strict";r.d(t,{z:function(){return function e(t,r,u){return(void 0===u&&(u=1/0),(0,c.m)(r))?e(function(e,s){return(0,n.U)(function(t,n){return r(e,t,s,n)})((0,i.Xf)(t(e,s)))},u):("number"==typeof r&&(u=r),(0,s.e)(function(e,r){var n,s,c,l,d,h,f,p,m,g,v,b;return n=u,h=[],f=0,p=0,m=!1,g=function(){!m||h.length||f||r.complete()},v=function(e){return f<n?b(e):h.push(e)},b=function(e){c&&r.next(e),f++;var u=!1;(0,i.Xf)(t(e,p++)).subscribe((0,a.x)(r,function(e){null==s||s(e),c?v(e):r.next(e)},function(){u=!0},void 0,function(){if(u)try{for(f--;h.length&&f<n;)!function(){var e=h.shift();l?(0,o.f)(r,l,function(){return b(e)}):b(e)}();g()}catch(e){r.error(e)}}))},e.subscribe((0,a.x)(r,v,function(){m=!0,g()})),function(){null==d||d()}}))}}});var n=r(33627),i=r(74357),s=r(43051),o=r(53605),a=r(33112),c=r(40366)},25525:function(e,t,r){"use strict";r.d(t,{j:function(){return i}});var n=r(33627);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.length;if(0===r)throw Error("list of properties cannot be empty.");return(0,n.U)(function(t){for(var n=t,i=0;i<r;i++){var s=null==n?void 0:n[e[i]];if(void 0===s)return;n=s}return n})}},1216:function(e,t,r){"use strict";r.d(t,{n:function(){return m}});var n=r(91179),i=r(69703),s=r(6216),o=r(43122),a=r(28240),c=r(33112),u=r(43051),l=function(e){function t(t,r){var n=e.call(this)||this;return n.source=t,n.subjectFactory=r,n._subject=null,n._refCount=0,n._connection=null,(0,u.A)(t)&&(n.lift=t.lift),n}return(0,i.__extends)(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var e=this._connection;this._subject=this._connection=null,null==e||e.unsubscribe()},t.prototype.connect=function(){var e=this,t=this._connection;if(!t){t=this._connection=new o.w0;var r=this.getSubject();t.add(this.source.subscribe((0,c.x)(r,void 0,function(){e._teardown(),r.complete()},function(t){e._teardown(),r.error(t)},function(){return e._teardown()}))),t.closed&&(this._connection=null,t=o.w0.EMPTY)}return t},t.prototype.refCount=function(){return(0,a.x)()(this)},t}(s.y),d=r(40366),h=r(74357),f={connector:function(){return new n.x}};function p(e,t){void 0===t&&(t=f);var r=t.connector;return(0,u.e)(function(t,n){var i=r();(0,h.Xf)(e(new s.y(function(e){return i.subscribe(e)}))).subscribe(n),n.add(t.subscribe(i))})}function m(e){return e?function(t){return p(e)(t)}:function(e){var t,r,i;return(t=new n.x,i=(0,d.m)(t)?t:function(){return t},(0,d.m)(r)?p(r,{connector:i}):function(e){return new l(e,i)})(e)}}},28240:function(e,t,r){"use strict";r.d(t,{x:function(){return s}});var n=r(43051),i=r(33112);function s(){return(0,n.e)(function(e,t){var r=null;e._refCount++;var n=(0,i.x)(t,void 0,void 0,void 0,function(){if(!e||e._refCount<=0||0<--e._refCount){r=null;return}var n=e._connection,i=r;r=null,n&&(!i||n===i)&&n.unsubscribe(),t.unsubscribe()});e.subscribe(n),n.closed||(r=e.connect())})}},89793:function(e,t,r){"use strict";r.d(t,{X:function(){return c}});var n=r(43051),i=r(33112),s=r(39638),o=r(72467),a=r(74357);function c(e){void 0===e&&(e=1/0);var t,r=(t=e&&"object"==typeof e?e:{count:e}).count,c=void 0===r?1/0:r,u=t.delay,l=t.resetOnSuccess,d=void 0!==l&&l;return c<=0?s.y:(0,n.e)(function(e,t){var r,n=0,s=function(){var l=!1;r=e.subscribe((0,i.x)(t,function(e){d&&(n=0),t.next(e)},void 0,function(e){if(n++<c){var d=function(){r?(r.unsubscribe(),r=null,s()):l=!0};if(null!=u){var h="number"==typeof u?(0,o.H)(u):(0,a.Xf)(u(e,n)),f=(0,i.x)(t,function(){f.unsubscribe(),d()},function(){t.complete()});h.subscribe(f)}else d()}else t.error(e)})),l&&(r.unsubscribe(),r=null,s())};s()})}},69887:function(e,t,r){"use strict";r.d(t,{B:function(){return c}});var n=r(69703),i=r(74357),s=r(91179),o=r(31994),a=r(43051);function c(e){void 0===e&&(e={});var t=e.connector,r=void 0===t?function(){return new s.x}:t,n=e.resetOnError,c=void 0===n||n,l=e.resetOnComplete,d=void 0===l||l,h=e.resetOnRefCountZero,f=void 0===h||h;return function(e){var t,n,s,l=0,h=!1,p=!1,m=function(){null==n||n.unsubscribe(),n=void 0},g=function(){m(),t=s=void 0,h=p=!1},v=function(){var e=t;g(),null==e||e.unsubscribe()};return(0,a.e)(function(e,a){l++,p||h||m();var b=s=null!=s?s:r();a.add(function(){0!=--l||p||h||(n=u(v,f))}),b.subscribe(a),!t&&l>0&&(t=new o.Hp({next:function(e){return b.next(e)},error:function(e){p=!0,m(),n=u(g,c,e),b.error(e)},complete:function(){h=!0,m(),n=u(g,d),b.complete()}}),(0,i.Xf)(e).subscribe(t))})(e)}}function u(e,t){for(var r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];if(!0===t){e();return}if(!1!==t){var a=new o.Hp({next:function(){a.unsubscribe(),e()}});return(0,i.Xf)(t.apply(void 0,(0,n.__spreadArray)([],(0,n.__read)(r)))).subscribe(a)}}},5042:function(e,t,r){"use strict";r.d(t,{d:function(){return s}});var n=r(88137),i=r(69887);function s(e,t,r){var s,o,a,c,u=!1;return e&&"object"==typeof e?(c=void 0===(s=e.bufferSize)?1/0:s,t=void 0===(o=e.windowTime)?1/0:o,u=void 0!==(a=e.refCount)&&a,r=e.scheduler):c=null!=e?e:1/0,(0,i.B)({connector:function(){return new n.t(c,t,r)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:u})}},17282:function(e,t,r){"use strict";r.d(t,{O:function(){return o}});var n=r(17788),i=r(90714),s=r(43051);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,i.yG)(e);return(0,s.e)(function(t,i){(r?(0,n.z)(e,t,r):(0,n.z)(e,t)).subscribe(i)})}},92955:function(e,t,r){"use strict";r.d(t,{w:function(){return o}});var n=r(74357),i=r(43051),s=r(33112);function o(e,t){return(0,i.e)(function(r,i){var o=null,a=0,c=!1,u=function(){return c&&!o&&i.complete()};r.subscribe((0,s.x)(i,function(r){null==o||o.unsubscribe();var c=0,l=a++;(0,n.Xf)(e(r,l)).subscribe(o=(0,s.x)(i,function(e){return i.next(t?t(r,e,l,c++):e)},function(){o=null,u()}))},function(){c=!0,u()}))})}},58619:function(e,t,r){"use strict";r.d(t,{R:function(){return a}});var n=r(43051),i=r(33112),s=r(74357),o=r(38265);function a(e){return(0,n.e)(function(t,r){(0,s.Xf)(e).subscribe((0,i.x)(r,function(){return r.complete()},o.Z)),r.closed||t.subscribe(r)})}},99299:function(e,t,r){"use strict";r.d(t,{o:function(){return s}});var n=r(43051),i=r(33112);function s(e,t){return void 0===t&&(t=!1),(0,n.e)(function(r,n){var s=0;r.subscribe((0,i.x)(n,function(r){var i=e(r,s++);(i||t)&&n.next(r),i||n.complete()}))})}},27104:function(e,t,r){"use strict";r.d(t,{b:function(){return a}});var n=r(40366),i=r(43051),s=r(33112),o=r(39638);function a(e,t,r){var a=(0,n.m)(e)||t||r?{next:e,error:t,complete:r}:e;return a?(0,i.e)(function(e,t){null===(r=a.subscribe)||void 0===r||r.call(a);var r,n=!0;e.subscribe((0,s.x)(t,function(e){var r;null===(r=a.next)||void 0===r||r.call(a,e),t.next(e)},function(){var e;n=!1,null===(e=a.complete)||void 0===e||e.call(a),t.complete()},function(e){var r;n=!1,null===(r=a.error)||void 0===r||r.call(a,e),t.error(e)},function(){var e,t;n&&(null===(e=a.unsubscribe)||void 0===e||e.call(a)),null===(t=a.finalize)||void 0===t||t.call(a)}))}):o.y}},46:function(e,t,r){"use strict";r.d(t,{V:function(){return d}});var n=r(25043),i=r(74677),s=r(43051),o=r(74357),a=r(44514),c=r(33112),u=r(53605),l=(0,a.d)(function(e){return function(t){void 0===t&&(t=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}});function d(e,t){var r=(0,i.q)(e)?{first:e}:"number"==typeof e?{each:e}:e,a=r.first,l=r.each,d=r.with,f=void 0===d?h:d,p=r.scheduler,m=void 0===p?null!=t?t:n.z:p,g=r.meta,v=void 0===g?null:g;if(null==a&&null==l)throw TypeError("No timeout provided.");return(0,s.e)(function(e,t){var r,n,i=null,s=0,d=function(e){n=(0,u.f)(t,m,function(){try{r.unsubscribe(),(0,o.Xf)(f({meta:v,lastValue:i,seen:s})).subscribe(t)}catch(e){t.error(e)}},e)};r=e.subscribe((0,c.x)(t,function(e){null==n||n.unsubscribe(),s++,t.next(i=e),l>0&&d(l)},void 0,void 0,function(){(null==n?void 0:n.closed)||null==n||n.unsubscribe(),i=null})),s||d(null!=a?"number"==typeof a?a:+a-m.now():l)})}function h(e){throw new l(e)}},25043:function(e,t,r){"use strict";r.d(t,{P:function(){return d},z:function(){return l}});var n=r(69703),i=function(e){function t(t,r){return e.call(this)||this}return(0,n.__extends)(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(r(43122).w0),s={setInterval:function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var o=s.delegate;return(null==o?void 0:o.setInterval)?o.setInterval.apply(o,(0,n.__spreadArray)([e,t],(0,n.__read)(r))):setInterval.apply(void 0,(0,n.__spreadArray)([e,t],(0,n.__read)(r)))},clearInterval:function(e){var t=s.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},o=r(56833),a=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n.pending=!1,n}return(0,n.__extends)(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r,n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(i,this.id,t),this},t.prototype.requestAsyncId=function(e,t,r){return void 0===r&&(r=0),s.setInterval(e.flush.bind(e,this),r)},t.prototype.recycleAsyncId=function(e,t,r){if(void 0===r&&(r=0),null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&s.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return Error("executing a cancelled action");this.pending=!1;var r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var r,n=!1;try{this.work(e)}catch(e){n=!0,r=e||Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,r=this.scheduler,n=r.actions;this.work=this.state=this.scheduler=null,this.pending=!1,(0,o.P)(n,this),null!=t&&(this.id=this.recycleAsyncId(r,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(i),c=r(39639),u=function(){function e(t,r){void 0===r&&(r=e.now),this.schedulerActionCtor=t,this.now=r}return e.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(r,t)},e.now=c.l.now,e}(),l=new(function(e){function t(t,r){void 0===r&&(r=u.now);var n=e.call(this,t,r)||this;return n.actions=[],n._active=!1,n}return(0,n.__extends)(t,e),t.prototype.flush=function(e){var t,r=this.actions;if(this._active){r.push(e);return}this._active=!0;do if(t=e.execute(e.state,e.delay))break;while(e=r.shift());if(this._active=!1,t){for(;e=r.shift();)e.unsubscribe();throw t}},t}(u))(a),d=l},39639:function(e,t,r){"use strict";r.d(t,{l:function(){return n}});var n={now:function(){return(n.delegate||Date).now()},delegate:void 0}},4803:function(e,t,r){"use strict";r.d(t,{z:function(){return i}});var n=r(69703),i={setTimeout:function(e,t){for(var r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];var o=i.delegate;return(null==o?void 0:o.setTimeout)?o.setTimeout.apply(o,(0,n.__spreadArray)([e,t],(0,n.__read)(r))):setTimeout.apply(void 0,(0,n.__spreadArray)([e,t],(0,n.__read)(r)))},clearTimeout:function(e){var t=i.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0}},86398:function(e,t,r){"use strict";r.d(t,{h:function(){return n}});var n="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},23027:function(e,t,r){"use strict";r.d(t,{L:function(){return n}});var n="function"==typeof Symbol&&Symbol.observable||"@@observable"},90714:function(e,t,r){"use strict";r.d(t,{jO:function(){return o},yG:function(){return a}});var n=r(40366),i=r(73768);function s(e){return e[e.length-1]}function o(e){return(0,n.m)(s(e))?e.pop():void 0}function a(e){return(0,i.K)(s(e))?e.pop():void 0}},56833:function(e,t,r){"use strict";function n(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}r.d(t,{P:function(){return n}})},44514:function(e,t,r){"use strict";function n(e){var t=e(function(e){Error.call(e),e.stack=Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}r.d(t,{d:function(){return n}})},70057:function(e,t,r){"use strict";r.d(t,{O:function(){return o},x:function(){return s}});var n=r(78534),i=null;function s(e){if(n.v.useDeprecatedSynchronousErrorHandling){var t=!i;if(t&&(i={errorThrown:!1,error:null}),e(),t){var r=i,s=r.errorThrown,o=r.error;if(i=null,s)throw o}}else e()}function o(e){n.v.useDeprecatedSynchronousErrorHandling&&i&&(i.errorThrown=!0,i.error=e)}},53605:function(e,t,r){"use strict";function n(e,t,r,n,i){void 0===n&&(n=0),void 0===i&&(i=!1);var s=t.schedule(function(){r(),i?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(s),!i)return s}r.d(t,{f:function(){return n}})},39638:function(e,t,r){"use strict";function n(e){return e}r.d(t,{y:function(){return n}})},29400:function(e,t,r){"use strict";r.d(t,{z:function(){return n}});var n=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},56196:function(e,t,r){"use strict";r.d(t,{D:function(){return i}});var n=r(40366);function i(e){return Symbol.asyncIterator&&(0,n.m)(null==e?void 0:e[Symbol.asyncIterator])}},74677:function(e,t,r){"use strict";function n(e){return e instanceof Date&&!isNaN(e)}r.d(t,{q:function(){return n}})},40366:function(e,t,r){"use strict";function n(e){return"function"==typeof e}r.d(t,{m:function(){return n}})},9161:function(e,t,r){"use strict";r.d(t,{c:function(){return s}});var n=r(23027),i=r(40366);function s(e){return(0,i.m)(e[n.L])}},63624:function(e,t,r){"use strict";r.d(t,{T:function(){return s}});var n=r(86398),i=r(40366);function s(e){return(0,i.m)(null==e?void 0:e[n.h])}},22073:function(e,t,r){"use strict";r.d(t,{t:function(){return i}});var n=r(40366);function i(e){return(0,n.m)(null==e?void 0:e.then)}},23321:function(e,t,r){"use strict";r.d(t,{L:function(){return o},Q:function(){return s}});var n=r(69703),i=r(40366);function s(e){return(0,n.__asyncGenerator)(this,arguments,function(){var t,r,i;return(0,n.__generator)(this,function(s){switch(s.label){case 0:t=e.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,(0,n.__await)(t.read())];case 3:if(i=(r=s.sent()).value,!r.done)return[3,5];return[4,(0,n.__await)(void 0)];case 4:return[2,s.sent()];case 5:return[4,(0,n.__await)(i)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function o(e){return(0,i.m)(null==e?void 0:e.getReader)}},73768:function(e,t,r){"use strict";r.d(t,{K:function(){return i}});var n=r(40366);function i(e){return e&&(0,n.m)(e.schedule)}},43051:function(e,t,r){"use strict";r.d(t,{A:function(){return i},e:function(){return s}});var n=r(40366);function i(e){return(0,n.m)(null==e?void 0:e.lift)}function s(e){return function(t){if(i(t))return t.lift(function(t){try{return e(t,this)}catch(e){this.error(e)}});throw TypeError("Unable to lift unknown Observable type")}}},38265:function(e,t,r){"use strict";function n(){}r.d(t,{Z:function(){return n}})},30803:function(e,t,r){"use strict";r.d(t,{h:function(){return s}});var n=r(78534),i=r(4803);function s(e){i.z.setTimeout(function(){var t=n.v.onUnhandledError;if(t)t(e);else throw e})}},5644:function(e,t,r){"use strict";function n(e){return TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}r.d(t,{z:function(){return n}})},2240:function(e,t,r){"use strict";var n=r(23663).Buffer;/*! typedarray-to-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */e.exports=function(e){return ArrayBuffer.isView(e)?n.from(e.buffer,e.byteOffset,e.byteLength):n.from(e)}},31015:function(e,t,r){"use strict";r.d(t,{O:function(){return o},u:function(){return s.u}});var n=r(68028),i=r(19386),s=r(94463);function o(e){return new n.E({...e,_sdkVersion:"html-ethers-".concat(i.bq.VERSION)})}},22840:function(e,t,r){"use strict";r.d(t,{O:function(){return g}});var n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,s=Math.floor,o="[BigNumber Error] ",a=o+"Number primitive has more than 15 significant digits: ",c=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13];function u(e){var t=0|e;return e>0||e===t?t:t-1}function l(e){for(var t,r,n=1,i=e.length,s=e[0]+"";n<i;){for(r=14-(t=e[n++]+"").length;r--;t="0"+t);s+=t}for(i=s.length;48===s.charCodeAt(--i););return s.slice(0,i+1||1)}function d(e,t){var r,n,i=e.c,s=t.c,o=e.s,a=t.s,c=e.e,u=t.e;if(!o||!a)return null;if(r=i&&!i[0],n=s&&!s[0],r||n)return r?n?0:-a:o;if(o!=a)return o;if(r=o<0,n=c==u,!i||!s)return n?0:!i^r?1:-1;if(!n)return c>u^r?1:-1;for(o=0,a=(c=i.length)<(u=s.length)?c:u;o<a;o++)if(i[o]!=s[o])return i[o]>s[o]^r?1:-1;return c==u?0:c>u^r?1:-1}function h(e,t,r,n){if(e<t||e>r||e!==s(e))throw Error(o+(n||"Argument")+("number"==typeof e?e<t||e>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function f(e){var t=e.c.length-1;return u(e.e/14)==t&&e.c[t]%2!=0}function p(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function m(e,t,r){var n,i;if(t<0){for(i=r+".";++t;i+=r);e=i+e}else if(n=e.length,++t>n){for(i=r,t-=n;--t;i+=r);e+=i}else t<n&&(e=e.slice(0,t)+"."+e.slice(t));return e}var g=function e(t){var r,g,v,b,y,w,E,_,S,A=U.prototype={constructor:U,toString:null,valueOf:null},T=new U(1),x=20,I=4,R=-7,O=21,P=-1e7,k=1e7,N=!1,C=1,M=0,L={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xa0",suffix:""},B="0123456789abcdefghijklmnopqrstuvwxyz",D=!0;function U(e,t){var r,i,o,c,u,l,d,f,p=this;if(!(p instanceof U))return new U(e,t);if(null==t){if(e&&!0===e._isBigNumber){p.s=e.s,!e.c||e.e>k?p.c=p.e=null:e.e<P?p.c=[p.e=0]:(p.e=e.e,p.c=e.c.slice());return}if((l="number"==typeof e)&&0*e==0){if(p.s=1/e<0?(e=-e,-1):1,e===~~e){for(c=0,u=e;u>=10;u/=10,c++);c>k?p.c=p.e=null:(p.e=c,p.c=[e]);return}f=String(e)}else{if(!n.test(f=String(e)))return S(p,f,l);p.s=45==f.charCodeAt(0)?(f=f.slice(1),-1):1}(c=f.indexOf("."))>-1&&(f=f.replace(".","")),(u=f.search(/e/i))>0?(c<0&&(c=u),c+=+f.slice(u+1),f=f.substring(0,u)):c<0&&(c=f.length)}else{if(h(t,2,B.length,"Base"),10==t&&D)return q(p=new U(e),x+p.e+1,I);if(f=String(e),l="number"==typeof e){if(0*e!=0)return S(p,f,l,t);if(p.s=1/e<0?(f=f.slice(1),-1):1,U.DEBUG&&f.replace(/^0\.0*|\./,"").length>15)throw Error(a+e)}else p.s=45===f.charCodeAt(0)?(f=f.slice(1),-1):1;for(r=B.slice(0,t),c=u=0,d=f.length;u<d;u++)if(0>r.indexOf(i=f.charAt(u))){if("."==i){if(u>c){c=d;continue}}else if(!o&&(f==f.toUpperCase()&&(f=f.toLowerCase())||f==f.toLowerCase()&&(f=f.toUpperCase()))){o=!0,u=-1,c=0;continue}return S(p,String(e),l,t)}l=!1,(c=(f=_(f,t,10,p.s)).indexOf("."))>-1?f=f.replace(".",""):c=f.length}for(u=0;48===f.charCodeAt(u);u++);for(d=f.length;48===f.charCodeAt(--d););if(f=f.slice(u,++d)){if(d-=u,l&&U.DEBUG&&d>15&&(e>9007199254740991||e!==s(e)))throw Error(a+p.s*e);if((c=c-u-1)>k)p.c=p.e=null;else if(c<P)p.c=[p.e=0];else{if(p.e=c,p.c=[],u=(c+1)%14,c<0&&(u+=14),u<d){for(u&&p.c.push(+f.slice(0,u)),d-=14;u<d;)p.c.push(+f.slice(u,u+=14));u=14-(f=f.slice(u)).length}else u-=d;for(;u--;f+="0");p.c.push(+f)}}else p.c=[p.e=0]}function H(e,t,r,n){var i,s,o,a,c;if(null==r?r=I:h(r,0,8),!e.c)return e.toString();if(i=e.c[0],o=e.e,null==t)c=l(e.c),c=1==n||2==n&&(o<=R||o>=O)?p(c,o):m(c,o,"0");else if(s=(e=q(new U(e),t,r)).e,a=(c=l(e.c)).length,1==n||2==n&&(t<=s||s<=R)){for(;a<t;c+="0",a++);c=p(c,s)}else if(t-=o,c=m(c,s,"0"),s+1>a){if(--t>0)for(c+=".";t--;c+="0");}else if((t+=s-a)>0)for(s+1==a&&(c+=".");t--;c+="0");return e.s<0&&i?"-"+c:c}function j(e,t){for(var r,n,i=1,s=new U(e[0]);i<e.length;i++)(n=new U(e[i])).s&&(r=d(s,n))!==t&&(0!==r||s.s!==t)||(s=n);return s}function F(e,t,r){for(var n=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,n++);return(r=n+14*r-1)>k?e.c=e.e=null:r<P?e.c=[e.e=0]:(e.e=r,e.c=t),e}function q(e,t,r,n){var o,a,u,l,d,h,f,p=e.c;if(p){e:{for(o=1,l=p[0];l>=10;l/=10,o++);if((a=t-o)<0)a+=14,u=t,f=s((d=p[h=0])/c[o-u-1]%10);else if((h=i((a+1)/14))>=p.length){if(n){for(;p.length<=h;p.push(0));d=f=0,o=1,a%=14,u=a-14+1}else break e}else{for(o=1,d=l=p[h];l>=10;l/=10,o++);a%=14,f=(u=a-14+o)<0?0:s(d/c[o-u-1]%10)}if(n=n||t<0||null!=p[h+1]||(u<0?d:d%c[o-u-1]),n=r<4?(f||n)&&(0==r||r==(e.s<0?3:2)):f>5||5==f&&(4==r||n||6==r&&(a>0?u>0?d/c[o-u]:0:p[h-1])%10&1||r==(e.s<0?8:7)),t<1||!p[0])return p.length=0,n?(t-=e.e+1,p[0]=c[(14-t%14)%14],e.e=-t||0):p[0]=e.e=0,e;if(0==a?(p.length=h,l=1,h--):(p.length=h+1,l=c[14-a],p[h]=u>0?s(d/c[o-u]%c[u])*l:0),n)for(;;){if(0==h){for(a=1,u=p[0];u>=10;u/=10,a++);for(u=p[0]+=l,l=1;u>=10;u/=10,l++);a!=l&&(e.e++,1e14==p[0]&&(p[0]=1));break}if(p[h]+=l,1e14!=p[h])break;p[h--]=0,l=1}for(a=p.length;0===p[--a];p.pop());}e.e>k?e.c=e.e=null:e.e<P&&(e.c=[e.e=0])}return e}function G(e){var t,r=e.e;return null===r?e.toString():(t=l(e.c),t=r<=R||r>=O?p(t,r):m(t,r,"0"),e.s<0?"-"+t:t)}return U.clone=e,U.ROUND_UP=0,U.ROUND_DOWN=1,U.ROUND_CEIL=2,U.ROUND_FLOOR=3,U.ROUND_HALF_UP=4,U.ROUND_HALF_DOWN=5,U.ROUND_HALF_EVEN=6,U.ROUND_HALF_CEIL=7,U.ROUND_HALF_FLOOR=8,U.EUCLID=9,U.config=U.set=function(e){var t,r;if(null!=e){if("object"==typeof e){if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(h(r=e[t],0,1e9,t),x=r),e.hasOwnProperty(t="ROUNDING_MODE")&&(h(r=e[t],0,8,t),I=r),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((r=e[t])&&r.pop?(h(r[0],-1e9,0,t),h(r[1],0,1e9,t),R=r[0],O=r[1]):(h(r,-1e9,1e9,t),R=-(O=r<0?-r:r))),e.hasOwnProperty(t="RANGE")){if((r=e[t])&&r.pop)h(r[0],-1e9,-1,t),h(r[1],1,1e9,t),P=r[0],k=r[1];else if(h(r,-1e9,1e9,t),r)P=-(k=r<0?-r:r);else throw Error(o+t+" cannot be zero: "+r)}if(e.hasOwnProperty(t="CRYPTO")){if(!!(r=e[t])===r){if(r){if("undefined"!=typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))N=r;else throw N=!r,Error(o+"crypto unavailable")}else N=r}else throw Error(o+t+" not true or false: "+r)}if(e.hasOwnProperty(t="MODULO_MODE")&&(h(r=e[t],0,9,t),C=r),e.hasOwnProperty(t="POW_PRECISION")&&(h(r=e[t],0,1e9,t),M=r),e.hasOwnProperty(t="FORMAT")){if("object"==typeof(r=e[t]))L=r;else throw Error(o+t+" not an object: "+r)}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(r=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(o+t+" invalid: "+r);D="0123456789"==r.slice(0,10),B=r}}else throw Error(o+"Object expected: "+e)}return{DECIMAL_PLACES:x,ROUNDING_MODE:I,EXPONENTIAL_AT:[R,O],RANGE:[P,k],CRYPTO:N,MODULO_MODE:C,POW_PRECISION:M,FORMAT:L,ALPHABET:B}},U.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!U.DEBUG)return!0;var t,r,n=e.c,i=e.e,a=e.s;e:if("[object Array]"==({}).toString.call(n)){if((1===a||-1===a)&&i>=-1e9&&i<=1e9&&i===s(i)){if(0===n[0]){if(0===i&&1===n.length)return!0;break e}if((t=(i+1)%14)<1&&(t+=14),String(n[0]).length==t){for(t=0;t<n.length;t++)if((r=n[t])<0||r>=1e14||r!==s(r))break e;if(0!==r)return!0}}}else if(null===n&&null===i&&(null===a||1===a||-1===a))return!0;throw Error(o+"Invalid BigNumber: "+e)},U.maximum=U.max=function(){return j(arguments,-1)},U.minimum=U.min=function(){return j(arguments,1)},U.random=(r=9007199254740992*Math.random()&2097151?function(){return s(9007199254740992*Math.random())}:function(){return(1073741824*Math.random()|0)*8388608+(8388608*Math.random()|0)},function(e){var t,n,a,u,l,d=0,f=[],p=new U(T);if(null==e?e=x:h(e,0,1e9),u=i(e/14),N){if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(u*=2));d<u;)(l=131072*t[d]+(t[d+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[d]=n[0],t[d+1]=n[1]):(f.push(l%1e14),d+=2);d=u/2}else if(crypto.randomBytes){for(t=crypto.randomBytes(u*=7);d<u;)(l=(31&t[d])*281474976710656+1099511627776*t[d+1]+4294967296*t[d+2]+16777216*t[d+3]+(t[d+4]<<16)+(t[d+5]<<8)+t[d+6])>=9e15?crypto.randomBytes(7).copy(t,d):(f.push(l%1e14),d+=7);d=u/7}else throw N=!1,Error(o+"crypto unavailable")}if(!N)for(;d<u;)(l=r())<9e15&&(f[d++]=l%1e14);for(u=f[--d],e%=14,u&&e&&(l=c[14-e],f[d]=s(u/l)*l);0===f[d];f.pop(),d--);if(d<0)f=[a=0];else{for(a=-1;0===f[0];f.splice(0,1),a-=14);for(d=1,l=f[0];l>=10;l/=10,d++);d<14&&(a-=14-d)}return p.e=a,p.c=f,p}),U.sum=function(){for(var e=1,t=arguments,r=new U(t[0]);e<t.length;)r=r.plus(t[e++]);return r},_=function(){var e="0123456789";function t(e,t,r,n){for(var i,s,o=[0],a=0,c=e.length;a<c;){for(s=o.length;s--;o[s]*=t);for(o[0]+=n.indexOf(e.charAt(a++)),i=0;i<o.length;i++)o[i]>r-1&&(null==o[i+1]&&(o[i+1]=0),o[i+1]+=o[i]/r|0,o[i]%=r)}return o.reverse()}return function(r,n,i,s,o){var a,c,u,d,h,f,p,g,v=r.indexOf("."),b=x,y=I;for(v>=0&&(d=M,M=0,r=r.replace(".",""),f=(g=new U(n)).pow(r.length-v),M=d,g.c=t(m(l(f.c),f.e,"0"),10,i,e),g.e=g.c.length),u=d=(p=t(r,n,i,o?(a=B,e):(a=e,B))).length;0==p[--d];p.pop());if(!p[0])return a.charAt(0);if(v<0?--u:(f.c=p,f.e=u,f.s=s,p=(f=E(f,g,b,y,i)).c,h=f.r,u=f.e),v=p[c=u+b+1],d=i/2,h=h||c<0||null!=p[c+1],h=y<4?(null!=v||h)&&(0==y||y==(f.s<0?3:2)):v>d||v==d&&(4==y||h||6==y&&1&p[c-1]||y==(f.s<0?8:7)),c<1||!p[0])r=h?m(a.charAt(1),-b,a.charAt(0)):a.charAt(0);else{if(p.length=c,h)for(--i;++p[--c]>i;)p[c]=0,c||(++u,p=[1].concat(p));for(d=p.length;!p[--d];);for(v=0,r="";v<=d;r+=a.charAt(p[v++]));r=m(r,u,a.charAt(0))}return r}}(),E=function(){function e(e,t,r){var n,i,s,o,a=0,c=e.length,u=t%1e7,l=t/1e7|0;for(e=e.slice();c--;)n=l*(s=e[c]%1e7)+(o=e[c]/1e7|0)*u,a=((i=u*s+n%1e7*1e7+a)/r|0)+(n/1e7|0)+l*o,e[c]=i%r;return a&&(e=[a].concat(e)),e}function t(e,t,r,n){var i,s;if(r!=n)s=r>n?1:-1;else for(i=s=0;i<r;i++)if(e[i]!=t[i]){s=e[i]>t[i]?1:-1;break}return s}function r(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=e[r]<t[r]?1:0,e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(n,i,o,a,c){var l,d,h,f,p,m,g,v,b,y,w,E,_,S,A,T,x,I=n.s==i.s?1:-1,R=n.c,O=i.c;if(!R||!R[0]||!O||!O[0])return new U(n.s&&i.s&&(R?!O||R[0]!=O[0]:O)?R&&0==R[0]||!O?0*I:I/0:NaN);for(b=(v=new U(I)).c=[],I=o+(d=n.e-i.e)+1,c||(c=1e14,d=u(n.e/14)-u(i.e/14),I=I/14|0),h=0;O[h]==(R[h]||0);h++);if(O[h]>(R[h]||0)&&d--,I<0)b.push(1),f=!0;else{for(S=R.length,T=O.length,h=0,I+=2,(p=s(c/(O[0]+1)))>1&&(O=e(O,p,c),R=e(R,p,c),T=O.length,S=R.length),_=T,w=(y=R.slice(0,T)).length;w<T;y[w++]=0);x=[0].concat(x=O.slice()),A=O[0],O[1]>=c/2&&A++;do{if(p=0,(l=t(O,y,T,w))<0){if(E=y[0],T!=w&&(E=E*c+(y[1]||0)),(p=s(E/A))>1)for(p>=c&&(p=c-1),g=(m=e(O,p,c)).length,w=y.length;1==t(m,y,g,w);)p--,r(m,T<g?x:O,g,c),g=m.length,l=1;else 0==p&&(l=p=1),g=(m=O.slice()).length;if(g<w&&(m=[0].concat(m)),r(y,m,w,c),w=y.length,-1==l)for(;1>t(O,y,T,w);)p++,r(y,T<w?x:O,w,c),w=y.length}else 0===l&&(p++,y=[0]);b[h++]=p,y[0]?y[w++]=R[_]||0:(y=[R[_]],w=1)}while((_++<S||null!=y[0])&&I--);f=null!=y[0],b[0]||b.splice(0,1)}if(1e14==c){for(h=1,I=b[0];I>=10;I/=10,h++);q(v,o+(v.e=h+14*d-1)+1,a,f)}else v.e=d,v.r=+f;return v}}(),g=/^(-?)0([xbo])(?=\w[\w.]*$)/i,v=/^([^.]+)\.$/,b=/^\.([^.]+)$/,y=/^-?(Infinity|NaN)$/,w=/^\s*\+(?=[\w.])|^\s+|\s+$/g,S=function(e,t,r,n){var i,s=r?t:t.replace(w,"");if(y.test(s))e.s=isNaN(s)?null:s<0?-1:1;else{if(!r&&(s=s.replace(g,function(e,t,r){return i="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=i?e:t}),n&&(i=n,s=s.replace(v,"$1").replace(b,"0.$1")),t!=s))return new U(s,i);if(U.DEBUG)throw Error(o+"Not a"+(n?" base "+n:"")+" number: "+t);e.s=null}e.c=e.e=null},A.absoluteValue=A.abs=function(){var e=new U(this);return e.s<0&&(e.s=1),e},A.comparedTo=function(e,t){return d(this,new U(e,t))},A.decimalPlaces=A.dp=function(e,t){var r,n,i;if(null!=e)return h(e,0,1e9),null==t?t=I:h(t,0,8),q(new U(this),e+this.e+1,t);if(!(r=this.c))return null;if(n=((i=r.length-1)-u(this.e/14))*14,i=r[i])for(;i%10==0;i/=10,n--);return n<0&&(n=0),n},A.dividedBy=A.div=function(e,t){return E(this,new U(e,t),x,I)},A.dividedToIntegerBy=A.idiv=function(e,t){return E(this,new U(e,t),0,1)},A.exponentiatedBy=A.pow=function(e,t){var r,n,a,c,u,l,d,h,p,m=this;if((e=new U(e)).c&&!e.isInteger())throw Error(o+"Exponent not an integer: "+G(e));if(null!=t&&(t=new U(t)),l=e.e>14,!m.c||!m.c[0]||1==m.c[0]&&!m.e&&1==m.c.length||!e.c||!e.c[0])return p=new U(Math.pow(+G(m),l?e.s*(2-f(e)):+G(e))),t?p.mod(t):p;if(d=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new U(NaN);(n=!d&&m.isInteger()&&t.isInteger())&&(m=m.mod(t))}else{if(e.e>9&&(m.e>0||m.e<-1||(0==m.e?m.c[0]>1||l&&m.c[1]>=24e7:m.c[0]<8e13||l&&m.c[0]<=9999975e7)))return c=m.s<0&&f(e)?-0:0,m.e>-1&&(c=1/c),new U(d?1/c:c);M&&(c=i(M/14+2))}for(l?(r=new U(.5),d&&(e.s=1),h=f(e)):h=(a=Math.abs(+G(e)))%2,p=new U(T);;){if(h){if(!(p=p.times(m)).c)break;c?p.c.length>c&&(p.c.length=c):n&&(p=p.mod(t))}if(a){if(0===(a=s(a/2)))break;h=a%2}else if(q(e=e.times(r),e.e+1,1),e.e>14)h=f(e);else{if(0==(a=+G(e)))break;h=a%2}m=m.times(m),c?m.c&&m.c.length>c&&(m.c.length=c):n&&(m=m.mod(t))}return n?p:(d&&(p=T.div(p)),t?p.mod(t):c?q(p,M,I,u):p)},A.integerValue=function(e){var t=new U(this);return null==e?e=I:h(e,0,8),q(t,t.e+1,e)},A.isEqualTo=A.eq=function(e,t){return 0===d(this,new U(e,t))},A.isFinite=function(){return!!this.c},A.isGreaterThan=A.gt=function(e,t){return d(this,new U(e,t))>0},A.isGreaterThanOrEqualTo=A.gte=function(e,t){return 1===(t=d(this,new U(e,t)))||0===t},A.isInteger=function(){return!!this.c&&u(this.e/14)>this.c.length-2},A.isLessThan=A.lt=function(e,t){return 0>d(this,new U(e,t))},A.isLessThanOrEqualTo=A.lte=function(e,t){return -1===(t=d(this,new U(e,t)))||0===t},A.isNaN=function(){return!this.s},A.isNegative=function(){return this.s<0},A.isPositive=function(){return this.s>0},A.isZero=function(){return!!this.c&&0==this.c[0]},A.minus=function(e,t){var r,n,i,s,o=this.s;if(t=(e=new U(e,t)).s,!o||!t)return new U(NaN);if(o!=t)return e.s=-t,this.plus(e);var a=this.e/14,c=e.e/14,l=this.c,d=e.c;if(!a||!c){if(!l||!d)return l?(e.s=-t,e):new U(d?this:NaN);if(!l[0]||!d[0])return d[0]?(e.s=-t,e):new U(l[0]?this:3==I?-0:0)}if(a=u(a),c=u(c),l=l.slice(),o=a-c){for((s=o<0)?(o=-o,i=l):(c=a,i=d),i.reverse(),t=o;t--;i.push(0));i.reverse()}else for(n=(s=(o=l.length)<(t=d.length))?o:t,o=t=0;t<n;t++)if(l[t]!=d[t]){s=l[t]<d[t];break}if(s&&(i=l,l=d,d=i,e.s=-e.s),(t=(n=d.length)-(r=l.length))>0)for(;t--;l[r++]=0);for(t=1e14-1;n>o;){if(l[--n]<d[n]){for(r=n;r&&!l[--r];l[r]=t);--l[r],l[n]+=1e14}l[n]-=d[n]}for(;0==l[0];l.splice(0,1),--c);return l[0]?F(e,l,c):(e.s=3==I?-1:1,e.c=[e.e=0],e)},A.modulo=A.mod=function(e,t){var r,n;return(e=new U(e,t),this.c&&e.s&&(!e.c||e.c[0]))?e.c&&(!this.c||this.c[0])?(9==C?(n=e.s,e.s=1,r=E(this,e,0,3),e.s=n,r.s*=n):r=E(this,e,0,C),(e=this.minus(r.times(e))).c[0]||1!=C||(e.s=this.s),e):new U(this):new U(NaN)},A.multipliedBy=A.times=function(e,t){var r,n,i,s,o,a,c,l,d,h,f,p,m,g=this.c,v=(e=new U(e,t)).c;if(!g||!v||!g[0]||!v[0])return this.s&&e.s&&(!g||g[0]||v)&&(!v||v[0]||g)?(e.s*=this.s,g&&v?(e.c=[0],e.e=0):e.c=e.e=null):e.c=e.e=e.s=null,e;for(n=u(this.e/14)+u(e.e/14),e.s*=this.s,(c=g.length)<(h=v.length)&&(m=g,g=v,v=m,i=c,c=h,h=i),i=c+h,m=[];i--;m.push(0));for(i=h;--i>=0;){for(r=0,f=v[i]%1e7,p=v[i]/1e7|0,s=i+(o=c);s>i;)a=p*(l=g[--o]%1e7)+(d=g[o]/1e7|0)*f,r=((l=f*l+a%1e7*1e7+m[s]+r)/1e14|0)+(a/1e7|0)+p*d,m[s--]=l%1e14;m[s]=r}return r?++n:m.splice(0,1),F(e,m,n)},A.negated=function(){var e=new U(this);return e.s=-e.s||null,e},A.plus=function(e,t){var r,n=this.s;if(t=(e=new U(e,t)).s,!n||!t)return new U(NaN);if(n!=t)return e.s=-t,this.minus(e);var i=this.e/14,s=e.e/14,o=this.c,a=e.c;if(!i||!s){if(!o||!a)return new U(n/0);if(!o[0]||!a[0])return a[0]?e:new U(o[0]?this:0*n)}if(i=u(i),s=u(s),o=o.slice(),n=i-s){for(n>0?(s=i,r=a):(n=-n,r=o),r.reverse();n--;r.push(0));r.reverse()}for((n=o.length)-(t=a.length)<0&&(r=a,a=o,o=r,t=n),n=0;t;)n=(o[--t]=o[t]+a[t]+n)/1e14|0,o[t]=1e14===o[t]?0:o[t]%1e14;return n&&(o=[n].concat(o),++s),F(e,o,s)},A.precision=A.sd=function(e,t){var r,n,i;if(null!=e&&!!e!==e)return h(e,1,1e9),null==t?t=I:h(t,0,8),q(new U(this),e,t);if(!(r=this.c))return null;if(n=14*(i=r.length-1)+1,i=r[i]){for(;i%10==0;i/=10,n--);for(i=r[0];i>=10;i/=10,n++);}return e&&this.e+1>n&&(n=this.e+1),n},A.shiftedBy=function(e){return h(e,-9007199254740991,9007199254740991),this.times("1e"+e)},A.squareRoot=A.sqrt=function(){var e,t,r,n,i,s=this.c,o=this.s,a=this.e,c=x+4,d=new U("0.5");if(1!==o||!s||!s[0])return new U(!o||o<0&&(!s||s[0])?NaN:s?this:1/0);if(0==(o=Math.sqrt(+G(this)))||o==1/0?(((t=l(s)).length+a)%2==0&&(t+="0"),o=Math.sqrt(+t),a=u((a+1)/2)-(a<0||a%2),r=new U(t=o==1/0?"5e"+a:(t=o.toExponential()).slice(0,t.indexOf("e")+1)+a)):r=new U(o+""),r.c[0]){for((o=(a=r.e)+c)<3&&(o=0);;)if(i=r,r=d.times(i.plus(E(this,i,c,1))),l(i.c).slice(0,o)===(t=l(r.c)).slice(0,o)){if(r.e<a&&--o,"9999"!=(t=t.slice(o-3,o+1))&&(n||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(q(r,r.e+x+2,1),e=!r.times(r).eq(this));break}if(!n&&(q(i,i.e+x+2,0),i.times(i).eq(this))){r=i;break}c+=4,o+=4,n=1}}return q(r,r.e+x+1,I,e)},A.toExponential=function(e,t){return null!=e&&(h(e,0,1e9),e++),H(this,e,t,1)},A.toFixed=function(e,t){return null!=e&&(h(e,0,1e9),e=e+this.e+1),H(this,e,t)},A.toFormat=function(e,t,r){var n;if(null==r)null!=e&&t&&"object"==typeof t?(r=t,t=null):e&&"object"==typeof e?(r=e,e=t=null):r=L;else if("object"!=typeof r)throw Error(o+"Argument not an object: "+r);if(n=this.toFixed(e,t),this.c){var i,s=n.split("."),a=+r.groupSize,c=+r.secondaryGroupSize,u=r.groupSeparator||"",l=s[0],d=s[1],h=this.s<0,f=h?l.slice(1):l,p=f.length;if(c&&(i=a,a=c,c=i,p-=i),a>0&&p>0){for(i=p%a||a,l=f.substr(0,i);i<p;i+=a)l+=u+f.substr(i,a);c>0&&(l+=u+f.slice(i)),h&&(l="-"+l)}n=d?l+(r.decimalSeparator||"")+((c=+r.fractionGroupSize)?d.replace(RegExp("\\d{"+c+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):d):l}return(r.prefix||"")+n+(r.suffix||"")},A.toFraction=function(e){var t,r,n,i,s,a,u,d,h,f,p,m,g=this.c;if(null!=e&&(!(u=new U(e)).isInteger()&&(u.c||1!==u.s)||u.lt(T)))throw Error(o+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+G(u));if(!g)return new U(this);for(t=new U(T),h=r=new U(T),n=d=new U(T),m=l(g),s=t.e=m.length-this.e-1,t.c[0]=c[(a=s%14)<0?14+a:a],e=!e||u.comparedTo(t)>0?s>0?t:h:u,a=k,k=1/0,u=new U(m),d.c[0]=0;f=E(u,t,0,1),1!=(i=r.plus(f.times(n))).comparedTo(e);)r=n,n=i,h=d.plus(f.times(i=h)),d=i,t=u.minus(f.times(i=t)),u=i;return i=E(e.minus(r),n,0,1),d=d.plus(i.times(h)),r=r.plus(i.times(n)),d.s=h.s=this.s,s*=2,p=1>E(h,n,s,I).minus(this).abs().comparedTo(E(d,r,s,I).minus(this).abs())?[h,n]:[d,r],k=a,p},A.toNumber=function(){return+G(this)},A.toPrecision=function(e,t){return null!=e&&h(e,1,1e9),H(this,e,t,2)},A.toString=function(e){var t,r=this,n=r.s,i=r.e;return null===i?n?(t="Infinity",n<0&&(t="-"+t)):t="NaN":(null==e?t=i<=R||i>=O?p(l(r.c),i):m(l(r.c),i,"0"):10===e&&D?t=m(l((r=q(new U(r),x+i+1,I)).c),r.e,"0"):(h(e,2,B.length,"Base"),t=_(m(l(r.c),i,"0"),10,e,n,!0)),n<0&&r.c[0]&&(t="-"+t)),t},A.valueOf=A.toJSON=function(){return G(this)},A._isBigNumber=!0,A[Symbol.toStringTag]="BigNumber",A[Symbol.for("nodejs.util.inspect.custom")]=A.valueOf,null!=t&&U.set(t),U}();t.Z=g},10764:function(e,t,r){"use strict";let n;r.d(t,{$W:function(){return _},F3:function(){return v},GW:function(){return b},H3:function(){return E},LM:function(){return H},Py:function(){return y},U2:function(){return j},Zw:function(){return w},gQ:function(){return g},so:function(){return m},vH:function(){return i}});let i={context:void 0,registry:void 0};Symbol("solid-proxy");let s=Symbol("solid-track");Symbol("solid-dev-component");let o={equals:(e,t)=>e===t},a=N,c={owned:null,cleanups:null,context:null,owner:null};var u=null;let l=null,d=null,h=null,f=null,p=0;function m(e,t){let r=d,n=u,i=0===e.length,s=void 0===t?n:t,o=i?c:{owned:null,cleanups:null,context:s?s.context:null,owner:s};u=o,d=null;try{return k(i?e:()=>e(()=>w(()=>L(o))),!0)}finally{d=r,u=n}}function g(e,t){let r={value:e,observers:null,observerSlots:null,comparator:(t=t?Object.assign({},o,t):o).equals||void 0};return[T.bind(r),e=>("function"==typeof e&&(e=e(l&&l.running&&l.sources.has(r)?r.tValue:r.value)),x(r,e))]}function v(e,t,r){I(O(e,t,!1,1))}function b(e,t,r){a=C;let i=O(e,t,!1,1),s=n&&(u&&u.context&&void 0!==u.context[n.id]?u.context[n.id]:n.defaultValue);s&&(i.suspense=s),r&&r.render||(i.user=!0),f?f.push(i):I(i)}function y(e,t,r){r=r?Object.assign({},o,r):o;let n=O(e,t,!0,0);return n.observers=null,n.observerSlots=null,n.comparator=r.equals||void 0,I(n),T.bind(n)}function w(e){if(null===d)return e();let t=d;d=null;try{return e()}finally{d=t}}function E(e){b(()=>w(e))}function _(e){return null===u||(null===u.cleanups?u.cleanups=[e]:u.cleanups.push(e)),e}let[S,A]=g(!1);function T(){let e=l&&l.running;if(this.sources&&(e?this.tState:this.state)){if((e?this.tState:this.state)===1)I(this);else{let e=h;h=null,k(()=>M(this),!1),h=e}}if(d){let e=this.observers?this.observers.length:0;d.sources?(d.sources.push(this),d.sourceSlots.push(e)):(d.sources=[this],d.sourceSlots=[e]),this.observers?(this.observers.push(d),this.observerSlots.push(d.sources.length-1)):(this.observers=[d],this.observerSlots=[d.sources.length-1])}return e&&l.sources.has(this)?this.tValue:this.value}function x(e,t,r){let n=l&&l.running&&l.sources.has(e)?e.tValue:e.value;if(!e.comparator||!e.comparator(n,t)){if(l){let n=l.running;(n||!r&&l.sources.has(e))&&(l.sources.add(e),e.tValue=t),n||(e.value=t)}else e.value=t;e.observers&&e.observers.length&&k(()=>{for(let t=0;t<e.observers.length;t+=1){let r=e.observers[t],n=l&&l.running;n&&l.disposed.has(r)||((n?r.tState:r.state)||(r.pure?h.push(r):f.push(r),r.observers&&function e(t){let r=l&&l.running;for(let n=0;n<t.observers.length;n+=1){let i=t.observers[n];(r?i.tState:i.state)||(r?i.tState=2:i.state=2,i.pure?h.push(i):f.push(i),i.observers&&e(i))}}(r)),n?r.tState=1:r.state=1)}if(h.length>1e6)throw h=[],Error()},!1)}return t}function I(e){if(!e.fn)return;L(e);let t=p;R(e,l&&l.running&&l.sources.has(e)?e.tValue:e.value,t),l&&!l.running&&l.sources.has(e)&&queueMicrotask(()=>{k(()=>{l&&(l.running=!0),d=u=e,R(e,e.tValue,t),d=u=null},!1)})}function R(e,t,r){let n;let i=u,s=d;d=u=e;try{n=e.fn(t)}catch(t){return e.pure&&(l&&l.running?(e.tState=1,e.tOwned&&e.tOwned.forEach(L),e.tOwned=void 0):(e.state=1,e.owned&&e.owned.forEach(L),e.owned=null)),e.updatedAt=r+1,B(t)}finally{d=s,u=i}(!e.updatedAt||e.updatedAt<=r)&&(null!=e.updatedAt&&"observers"in e?x(e,n,!0):l&&l.running&&e.pure?(l.sources.add(e),e.tValue=n):e.value=n,e.updatedAt=r)}function O(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;arguments.length>4&&arguments[4];let i={fn:e,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:u,context:u?u.context:null,pure:r};return l&&l.running&&(i.state=0,i.tState=n),null===u||u!==c&&(l&&l.running&&u.pure?u.tOwned?u.tOwned.push(i):u.tOwned=[i]:u.owned?u.owned.push(i):u.owned=[i]),i}function P(e){let t=l&&l.running;if((t?e.tState:e.state)===0)return;if((t?e.tState:e.state)===2)return M(e);if(e.suspense&&w(e.suspense.inFallback))return e.suspense.effects.push(e);let r=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<p);){if(t&&l.disposed.has(e))return;(t?e.tState:e.state)&&r.push(e)}for(let n=r.length-1;n>=0;n--){if(e=r[n],t){let t=e,i=r[n+1];for(;(t=t.owner)&&t!==i;)if(l.disposed.has(t))return}if((t?e.tState:e.state)===1)I(e);else if((t?e.tState:e.state)===2){let t=h;h=null,k(()=>M(e,r[0]),!1),h=t}}}function k(e,t){if(h)return e();let r=!1;t||(h=[]),f?r=!0:f=[],p++;try{let t=e();return function(e){let t;if(h&&(N(h),h=null),e)return;if(l){if(l.promises.size||l.queue.size){if(l.running){l.running=!1,l.effects.push.apply(l.effects,f),f=null,A(!0);return}}else{let e=l.sources,r=l.disposed;for(let e of(f.push.apply(f,l.effects),t=l.resolve,f))"tState"in e&&(e.state=e.tState),delete e.tState;l=null,k(()=>{for(let e of r)L(e);for(let t of e){if(t.value=t.tValue,t.owned)for(let e=0,r=t.owned.length;e<r;e++)L(t.owned[e]);t.tOwned&&(t.owned=t.tOwned),delete t.tValue,delete t.tOwned,t.tState=0}A(!1)},!1)}}let r=f;f=null,r.length&&k(()=>a(r),!1),t&&t()}(r),t}catch(e){r||(f=null),h=null,B(e)}}function N(e){for(let t=0;t<e.length;t++)P(e[t])}function C(e){let t,r=0;for(t=0;t<e.length;t++){let n=e[t];n.user?e[r++]=n:P(n)}if(i.context){if(i.count){i.effects||(i.effects=[]),i.effects.push(...e.slice(0,r));return}i.effects&&(e=[...i.effects,...e],r+=i.effects.length,delete i.effects),i.context=void 0}for(t=0;t<r;t++)P(e[t])}function M(e,t){let r=l&&l.running;r?e.tState=0:e.state=0;for(let n=0;n<e.sources.length;n+=1){let i=e.sources[n];if(i.sources){let e=r?i.tState:i.state;1===e?i!==t&&(!i.updatedAt||i.updatedAt<p)&&P(i):2===e&&M(i,t)}}}function L(e){let t;if(e.sources)for(;e.sources.length;){let t=e.sources.pop(),r=e.sourceSlots.pop(),n=t.observers;if(n&&n.length){let e=n.pop(),i=t.observerSlots.pop();r<n.length&&(e.sourceSlots[i]=r,n[r]=e,t.observerSlots[r]=i)}}if(l&&l.running&&e.pure){if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)L(e.tOwned[t]);delete e.tOwned}!function e(t,r){if(r||(t.tState=0,l.disposed.add(t)),t.owned)for(let r=0;r<t.owned.length;r++)e(t.owned[r])}(e,!0)}else if(e.owned){for(t=e.owned.length-1;t>=0;t--)L(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}l&&l.running?e.tState=0:e.state=0}function B(e){throw arguments.length>1&&void 0!==arguments[1]&&arguments[1],e instanceof Error?e:Error("string"==typeof e?e:"Unknown error",{cause:e})}let D=Symbol("fallback");function U(e){for(let t=0;t<e.length;t++)e[t]()}function H(e,t){return w(()=>e(t||{}))}function j(e){return y(function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=[],i=[],o=[],a=0,c=t.length>1?[]:null;return _(()=>U(o)),()=>{let u=e()||[],l,d;return u[s],w(()=>{let e=u.length,t,s,f,p,g,v,b,y,w;if(0===e)0!==a&&(U(o),o=[],n=[],i=[],a=0,c&&(c=[])),r.fallback&&(n=[D],i[0]=m(e=>(o[0]=e,r.fallback())),a=1);else if(0===a){for(d=0,i=Array(e);d<e;d++)n[d]=u[d],i[d]=m(h);a=e}else{for(f=Array(e),p=Array(e),c&&(g=Array(e)),v=0,b=Math.min(a,e);v<b&&n[v]===u[v];v++);for(b=a-1,y=e-1;b>=v&&y>=v&&n[b]===u[y];b--,y--)f[y]=i[b],p[y]=o[b],c&&(g[y]=c[b]);for(t=new Map,s=Array(y+1),d=y;d>=v;d--)w=u[d],l=t.get(w),s[d]=void 0===l?-1:l,t.set(w,d);for(l=v;l<=b;l++)w=n[l],void 0!==(d=t.get(w))&&-1!==d?(f[d]=i[l],p[d]=o[l],c&&(g[d]=c[l]),d=s[d],t.set(w,d)):o[l]();for(d=v;d<e;d++)d in f?(i[d]=f[d],o[d]=p[d],c&&(c[d]=g[d],c[d](d))):i[d]=m(h);i=i.slice(0,a=e),n=u.slice(0)}return i});function h(e){if(o[d]=e,c){let[e,r]=g(d);return c[d]=r,t(u[d],e)}return t(u[d])}}}(()=>e.each,e.children,"fallback"in e&&{fallback:()=>e.fallback}||void 0))}!function(e,t){Symbol("context")}()},53535:function(e,t,r){"use strict";r.d(t,{addEventListener:function(){return l},className:function(){return u},createComponent:function(){return n.LM},delegateEvents:function(){return a},effect:function(){return n.F3},insert:function(){return h},isServer:function(){return v},memo:function(){return n.Py},render:function(){return s},setAttribute:function(){return c},style:function(){return d},template:function(){return o}});var n=r(10764);Object.create(null),Object.create(null);let i="_$DX_DELEGATE";function s(e,t,r){let i,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(0,n.so)(n=>{i=n,t===document?e():h(t,e(),t.firstChild?null:void 0,r)},s.owner),()=>{i(),t.textContent=""}}function o(e,t,r){let i;let s=()=>{let t=document.createElement("template");return t.innerHTML=e,r?t.content.firstChild.firstChild:t.content.firstChild},o=t?()=>(0,n.Zw)(()=>document.importNode(i||(i=s()),!0)):()=>(i||(i=s())).cloneNode(!0);return o.cloneNode=o,o}function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.document,r=t[i]||(t[i]=new Set);for(let n=0,i=e.length;n<i;n++){let i=e[n];r.has(i)||(r.add(i),t.addEventListener(i,f))}}function c(e,t,r){n.vH.context||(null==r?e.removeAttribute(t):e.setAttribute(t,r))}function u(e,t){n.vH.context||(null==t?e.removeAttribute("class"):e.className=t)}function l(e,t,r,n){if(n)Array.isArray(r)?(e["$$".concat(t)]=r[0],e["$$".concat(t,"Data")]=r[1]):e["$$".concat(t)]=r;else if(Array.isArray(r)){let n=r[0];e.addEventListener(t,r[0]=t=>n.call(e,r[1],t))}else e.addEventListener(t,r)}function d(e,t,r){let n,i;if(!t)return r?c(e,"style"):t;let s=e.style;if("string"==typeof t)return s.cssText=t;for(i in"string"==typeof r&&(s.cssText=r=void 0),r||(r={}),t||(t={}),r)null==t[i]&&s.removeProperty(i),delete r[i];for(i in t)(n=t[i])!==r[i]&&(s.setProperty(i,n),r[i]=n);return r}function h(e,t,r,i){if(void 0===r||i||(i=[]),"function"!=typeof t)return p(e,t,i,r);(0,n.F3)(n=>p(e,t(),n,r),i)}function f(e){let t="$$".concat(e.type),r=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==r&&Object.defineProperty(e,"target",{configurable:!0,value:r}),Object.defineProperty(e,"currentTarget",{configurable:!0,get:()=>r||document}),n.vH.registry&&!n.vH.done&&(n.vH.done=_$HY.done=!0);r;){let n=r[t];if(n&&!r.disabled){let i=r["".concat(t,"Data")];if(void 0!==i?n.call(r,i,e):n.call(r,e),e.cancelBubble)return}r=r._$host||r.parentNode||r.host}}function p(e,t,r,i,s){if(n.vH.context){r||(r=[...e.childNodes]);let t=[];for(let e=0;e<r.length;e++){let n=r[e];8===n.nodeType&&"!$"===n.data.slice(0,2)?n.remove():t.push(n)}r=t}for(;"function"==typeof r;)r=r();if(t===r)return r;let o=typeof t,a=void 0!==i;if(e=a&&r[0]&&r[0].parentNode||e,"string"===o||"number"===o){if(n.vH.context)return r;if("number"===o&&(t=t.toString()),a){let n=r[0];n&&3===n.nodeType?n.data!==t&&(n.data=t):n=document.createTextNode(t),r=g(e,r,i,n)}else r=""!==r&&"string"==typeof r?e.firstChild.data=t:e.textContent=t}else if(null==t||"boolean"===o){if(n.vH.context)return r;r=g(e,r,i)}else if("function"===o)return(0,n.F3)(()=>{let n=t();for(;"function"==typeof n;)n=n();r=p(e,n,r,i)}),()=>r;else if(Array.isArray(t)){let o=[],c=r&&Array.isArray(r);if(function e(t,r,n,i){let s=!1;for(let o=0,a=r.length;o<a;o++){let a=r[o],c=n&&n[o],u;if(null==a||!0===a||!1===a);else if("object"==(u=typeof a)&&a.nodeType)t.push(a);else if(Array.isArray(a))s=e(t,a,c)||s;else if("function"===u){if(i){for(;"function"==typeof a;)a=a();s=e(t,Array.isArray(a)?a:[a],Array.isArray(c)?c:[c])||s}else t.push(a),s=!0}else{let e=String(a);c&&3===c.nodeType&&c.data===e?t.push(c):t.push(document.createTextNode(e))}}return s}(o,t,r,s))return(0,n.F3)(()=>r=p(e,o,r,i,!0)),()=>r;if(n.vH.context){if(!o.length)return r;if(void 0===i)return[...e.childNodes];let t=o[0],n=[t];for(;(t=t.nextSibling)!==i;)n.push(t);return r=n}if(0===o.length){if(r=g(e,r,i),a)return r}else c?0===r.length?m(e,o,i):function(e,t,r){let n=r.length,i=t.length,s=n,o=0,a=0,c=t[i-1].nextSibling,u=null;for(;o<i||a<s;){if(t[o]===r[a]){o++,a++;continue}for(;t[i-1]===r[s-1];)i--,s--;if(i===o){let t=s<n?a?r[a-1].nextSibling:r[s-a]:c;for(;a<s;)e.insertBefore(r[a++],t)}else if(s===a)for(;o<i;)u&&u.has(t[o])||t[o].remove(),o++;else if(t[o]===r[s-1]&&r[a]===t[i-1]){let n=t[--i].nextSibling;e.insertBefore(r[a++],t[o++].nextSibling),e.insertBefore(r[--s],n),t[i]=r[s]}else{if(!u){u=new Map;let e=a;for(;e<s;)u.set(r[e],e++)}let n=u.get(t[o]);if(null!=n){if(a<n&&n<s){let c=o,l=1,d;for(;++c<i&&c<s&&null!=(d=u.get(t[c]))&&d===n+l;)l++;if(l>n-a){let i=t[o];for(;a<n;)e.insertBefore(r[a++],i)}else e.replaceChild(r[a++],t[o++])}else o++}else t[o++].remove()}}}(e,r,o):(r&&g(e),m(e,o));r=o}else if(t.nodeType){if(n.vH.context&&t.parentNode)return r=a?[t]:t;if(Array.isArray(r)){if(a)return r=g(e,r,i,t);g(e,r,null,t)}else null!=r&&""!==r&&e.firstChild?e.replaceChild(t,e.firstChild):e.appendChild(t);r=t}return r}function m(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;for(let n=0,i=t.length;n<i;n++)e.insertBefore(t[n],r)}function g(e,t,r,n){if(void 0===r)return e.textContent="";let i=n||document.createTextNode("");if(t.length){let n=!1;for(let s=t.length-1;s>=0;s--){let o=t[s];if(i!==o){let t=o.parentNode===e;n||s?t&&o.remove():t?e.replaceChild(i,o):e.insertBefore(i,r)}else n=!0}}else e.insertBefore(i,r);return[i]}Symbol();let v=!1},95387:function(e,t,r){"use strict";let n,i;r.d(t,{ZPm:function(){return lj}});var s,o,a,c,u,l,d,h,f,p,m,g,v,b,y,w,E,_,S,A,T,x,I,R,O,P,k,N={};r.r(N),r.d(N,{abiSchemaToJsonSchema:function(){return rO},codePointToInt:function(){return rC},ensureIfUint8Array:function(){return rF},ethAbiToJsonSchema:function(){return rP},fetchArrayElement:function(){return rk},hexToNumber:function(){return rM},hexToUint8Array:function(){return rj},numberToHex:function(){return rL},padLeft:function(){return rB},parseBaseType:function(){return rI},transformJsonDataToAbiFormat:function(){return rN},uint8ArrayToHexString:function(){return rD}});var C={};r.r(C),r.d(C,{isBatchRequest:function(){return iG},isBatchResponse:function(){return iH},isResponseRpcError:function(){return iN},isResponseWithError:function(){return iM},isResponseWithNotification:function(){return iL},isResponseWithResult:function(){return iC},isSubscriptionResult:function(){return iB},isValidResponse:function(){return iU},setRequestIdStart:function(){return ij},toBatchPayload:function(){return iq},toPayload:function(){return iF},validateResponse:function(){return iD}});var M={};r.r(M),r.d(M,{ChunkResponseParser:function(){return iW},Eip1193Provider:function(){return iJ},EventEmitter:function(){return nq},SocketProvider:function(){return iX},Web3DeferredPromise:function(){return iK},asciiToHex:function(){return nR},bytesToHex:function(){return np},bytesToUint8Array:function(){return nh},checkAddressCheckSum:function(){return nK},compareBlockNumbers:function(){return n$},convert:function(){return is},convertScalarValue:function(){return ii},encodePacked:function(){return ib},ethUnitMap:function(){return nd},format:function(){return io},fromAscii:function(){return nO},fromDecimal:function(){return ny},fromTwosComplement:function(){return n9},fromUtf8:function(){return n_},fromWei:function(){return nL},getStorageSlotNumForLongString:function(){return iE},hexToAscii:function(){return nP},hexToBytes:function(){return nm},hexToNumber:function(){return ng},hexToNumberString:function(){return nw},hexToString:function(){return nI},hexToUtf8:function(){return nA},isAddress:function(){return nW},isBatchRequest:function(){return iG},isBatchResponse:function(){return iH},isBloom:function(){return nV},isContractAddressInBloom:function(){return nQ},isContractInitOptions:function(){return n0},isDataFormat:function(){return it},isHex:function(){return nz},isHexStrict:function(){return nG},isInBloom:function(){return nJ},isNullish:function(){return n1},isPromise:function(){return iT},isResponseRpcError:function(){return iN},isResponseWithError:function(){return iM},isResponseWithNotification:function(){return iL},isResponseWithResult:function(){return iC},isSubscriptionResult:function(){return iB},isTopic:function(){return nX},isTopicInBloom:function(){return nY},isUint8Array:function(){return nc},isUserEthereumAddressInBloom:function(){return nZ},isValidResponse:function(){return iU},jsonRpc:function(){return C},keccak256:function(){return il},keccak256Wrapper:function(){return il},leftPad:function(){return n5},mergeDeep:function(){return n3},numberToHex:function(){return nb},padLeft:function(){return n4},padRight:function(){return n6},pollTillDefined:function(){return iR},pollTillDefinedAndReturnIntervalId:function(){return iI},processSolidityEncodePackedArgs:function(){return iv},randomBytes:function(){return i_},randomHex:function(){return iS},rejectIfConditionAtInterval:function(){return iP},rejectIfTimeout:function(){return iO},rightPad:function(){return n8},setRequestIdStart:function(){return ij},sha3:function(){return ic},sha3Raw:function(){return iu},soliditySha3:function(){return iy},soliditySha3Raw:function(){return iw},stringToHex:function(){return nS},toAscii:function(){return nk},toBatchPayload:function(){return iq},toBigInt:function(){return nM},toBool:function(){return nU},toChecksumAddress:function(){return nD},toDecimal:function(){return nv},toHex:function(){return nN},toNumber:function(){return nC},toPayload:function(){return iF},toTwosComplement:function(){return n7},toUtf8:function(){return nT},toWei:function(){return nB},uint8ArrayConcat:function(){return nu},uint8ArrayEquals:function(){return nl},utf8ToBytes:function(){return nx},utf8ToHex:function(){return nE},uuidV4:function(){return ik},validateResponse:function(){return iD},waitWithTimeout:function(){return ix}});var L={};r.r(L),r.d(L,{dQ:function(){return s0},ci:function(){return sG},bytesToNumberBE:function(){return sJ},ty:function(){return sZ},eV:function(){return s$},n$:function(){return s3},ql:function(){return sY},hexToBytes:function(){return sV},_t:function(){return sF},tL:function(){return sQ},S5:function(){return sX},FF:function(){return s6}});var B={};r.r(B),r.d(B,{secp256k1:function(){return oT}});class D extends Error{static convertToString(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==e)return"undefined";let r=JSON.stringify(e,(e,t)=>"bigint"==typeof t?t.toString():t);return t&&["bigint","string"].includes(typeof e)?r.replace(/['\\"]+/g,""):r}toJSON(){return{name:this.name,code:this.code,message:this.message,innerError:this.innerError}}constructor(e,t){super(e),this.innerError=t,this.name=this.constructor.name,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(new.target.constructor):this.stack=Error().stack}}class U extends D{constructor(e,t){super('Invalid value given "'.concat(D.convertToString(e,!0),'". Error: ').concat(t,".")),this.name=this.constructor.name}}class H extends D{constructor(){super("Private key must be 32 bytes."),this.code=701}}class j extends D{constructor(){super("Invalid Private Key, Not a valid string or uint8Array"),this.code=702}}class F extends D{constructor(e){super('"'.concat(e,'"')),this.code=802}}class q extends D{constructor(){super("Invalid key derivation function"),this.code=703}}class G extends D{constructor(){super("Key derivation failed - possibly wrong password"),this.code=704}}class z extends D{constructor(){super("Unsupported key store version"),this.code=705}}class K extends D{constructor(){super("Password cannot be empty"),this.code=706}}class W extends D{constructor(){super("Initialization vector must be 16 bytes"),this.code=707}}class V extends D{constructor(){super("c > 1000, pbkdf2 is less secure with less iterations"),this.code=709}}class J extends D{toJSON(){return Object.assign(Object.assign({},super.toJSON()),{errorCode:this.errorCode,errorReason:this.errorReason})}constructor(e,t){super(e),this.code=500,t&&(this.errorCode=t.code,this.errorReason=t.reason)}}class Z extends J{constructor(e){super("Connection not open",e),this.code=503}}class Q extends J{constructor(e){super("Maximum number of reconnect attempts reached! (".concat(e,")")),this.code=505}}class X extends J{constructor(){super("CONNECTION ERROR: Provider started to reconnect before the response got received!"),this.code=506}}class Y extends J{constructor(e){super("Request already sent with following id: ".concat(e)),this.code=507}}class $ extends D{constructor(e,t){super(e),this.code=300,this.receipt=t}}class ee extends D{toJSON(){return Object.assign(Object.assign({},super.toJSON()),{address:this.address,name:this.name})}constructor(e,t){super("The resolver at ".concat(e,' does not implement requested method: "').concat(t,'".')),this.address=e,this.name=t,this.code=301}}class et extends ${setDecodedProperties(e,t,r){this.errorName=e,this.errorSignature=t,this.errorArgs=r}toJSON(){let e=Object.assign(Object.assign({},super.toJSON()),{data:this.data});return this.errorName&&(e=Object.assign(Object.assign({},e),{errorName:this.errorName,errorSignature:this.errorSignature,errorArgs:this.errorArgs})),e}constructor(e){if(super(e.message||"Error"),this.name="name"in e&&e.name||this.constructor.name,this.stack="stack"in e&&e.stack||void 0,this.code=e.code,"object"==typeof e.data){let t;t="originalError"in e.data?e.data.originalError:e.data,this.data=t.data,this.innerError=new et(t)}else this.data=e.data}}class er extends ${constructor(e){super("Error happened while trying to execute a function inside a smart contract"),this.code=310,this.innerError=new et(e)}}class en extends U{constructor(e){var t,r;super("data: ".concat(null!==(t=e.data)&&void 0!==t?t:"undefined",", input: ").concat(null!==(r=e.input)&&void 0!==r?r:"undefined"),'You can\'t have "data" and "input" as properties of a contract at the same time, please use either "data" or "input" instead.'),this.code=311}}class ei extends D{constructor(e){super("ENS is not supported on network ".concat(e)),this.code=902}}class es extends D{constructor(){super("Network not synced"),this.code=903}}class eo extends D{toJSON(){return Object.assign(Object.assign({},super.toJSON()),{hint:this.hint})}constructor(e){super('Invalid parameters passed. "'.concat(void 0!==e?e:"",'"')),this.hint=e,this.code=207}}class ea extends D{constructor(){super(...arguments),this.code=201}}class ec extends D{constructor(){super("The method you're trying to call is not implemented."),this.code=202}}class eu extends D{constructor(){super(...arguments),this.code=203}}class el extends D{constructor(){super(...arguments),this.code=204}}class ed extends D{constructor(e,t){super(e),this.code=205,this.props=null!=t?t:{}}}class eh extends D{constructor(e){super("A plugin with the namespace: ".concat(e," has already been registered.")),this.code=206}}class ef extends D{constructor(){super(...arguments),this.code=600}}class ep extends D{constructor(e){super('Client URL "'.concat(e,'" is invalid.')),this.code=602}}class em extends D{constructor(){super(...arguments),this.code=603}}class eg extends D{constructor(){super(...arguments),this.code=604}}class ev extends U{constructor(){super(...arguments),this.code=801}}class eb extends D{toJSON(){return Object.assign(Object.assign({},super.toJSON()),{receipt:this.receipt})}constructor(e,t){super(e),this.receipt=t,this.code=400}}class ey extends D{toJSON(){return Object.assign(Object.assign({},super.toJSON()),{reason:this.reason,signature:this.signature,receipt:this.receipt,data:this.data})}constructor(e,t,r,n){super("Transaction has been reverted by the EVM".concat(void 0===r?"":":\n ".concat(D.convertToString(r)))),this.reason=e,this.signature=t,this.receipt=r,this.data=n,this.code=402}}class ew extends ey{toJSON(){return Object.assign(Object.assign({},super.toJSON()),{reason:this.reason,customErrorName:this.customErrorName,customErrorDecodedSignature:this.customErrorDecodedSignature,customErrorArguments:this.customErrorArguments,signature:this.signature,receipt:this.receipt,data:this.data})}constructor(e,t,r,n,i,s,o){super(e),this.reason=e,this.customErrorName=t,this.customErrorDecodedSignature=r,this.customErrorArguments=n,this.signature=i,this.receipt=s,this.data=o,this.code=438}}class eE extends eb{constructor(e){super("Transaction has been reverted by the EVM".concat(void 0===e?"":":\n ".concat(D.convertToString(e))),e),this.code=405}}class e_ extends eb{constructor(){super("Raw transaction undefined"),this.code=407}}class eS extends eb{constructor(){super("Transaction not found"),this.code=430}}class eA extends U{constructor(e){super(e,"invalid transaction with invalid sender"),this.code=408}}class eT extends U{constructor(e){super(e,"invalid transaction with invalid receiver"),this.code=437}}class ex extends U{constructor(){super("MissingCustomChainError","If tx.common is provided it must have tx.common.customChain"),this.code=410}}class eI extends U{constructor(){super("MissingCustomChainIdError","If tx.common is provided it must have tx.common.customChain and tx.common.customChain.chainId"),this.code=411}}class eR extends U{constructor(e){super(JSON.stringify(e),"Chain Id doesnt match in tx.chainId tx.common.customChain.chainId"),this.code=412}}class eO extends U{constructor(e){super(JSON.stringify(e),"Chain doesnt match in tx.chain tx.common.basechain"),this.code=435}}class eP extends U{constructor(e){super(JSON.stringify(e),"hardfork doesnt match in tx.hardfork tx.common.hardfork"),this.code=436}}class ek extends U{constructor(){super("CommonOrChainAndHardforkError","Please provide the common object or the chain and hardfork property but not all together."),this.code=413}}class eN extends U{constructor(e){var t,r;super("MissingChainOrHardforkError",'When specifying chain and hardfork, both values must be defined. Received "chain": '.concat(null!==(t=e.chain)&&void 0!==t?t:"undefined",', "hardfork": ').concat(null!==(r=e.hardfork)&&void 0!==r?r:"undefined")),this.code=414}}class eC extends D{constructor(){super('Missing properties in transaction, either define "gas" and "gasPrice" for type 0 transactions or "gas", "maxPriorityFeePerGas" and "maxFeePerGas" for type 2 transactions'),this.code=440}}class eM extends U{constructor(e){var t,r,n,i;super("gas: ".concat(null!==(t=e.gas)&&void 0!==t?t:"undefined",", gasPrice: ").concat(null!==(r=e.gasPrice)&&void 0!==r?r:"undefined",", maxPriorityFeePerGas: ").concat(null!==(n=e.maxPriorityFeePerGas)&&void 0!==n?n:"undefined",", maxFeePerGas: ").concat(null!==(i=e.maxFeePerGas)&&void 0!==i?i:"undefined"),'"gas" is missing'),this.code=415,this.innerError=new eC}}class eL extends D{constructor(){super('Missing properties in transaction, either define "gas" and "gasPrice" for type 0 transactions or "gas", "maxPriorityFeePerGas" and "maxFeePerGas" for type 2 transactions, not both'),this.code=441}}class eB extends U{constructor(e){var t,r,n,i;super("gas: ".concat(null!==(t=e.gas)&&void 0!==t?t:"undefined",", gasPrice: ").concat(null!==(r=e.gasPrice)&&void 0!==r?r:"undefined",", maxPriorityFeePerGas: ").concat(null!==(n=e.maxPriorityFeePerGas)&&void 0!==n?n:"undefined",", maxFeePerGas: ").concat(null!==(i=e.maxFeePerGas)&&void 0!==i?i:"undefined"),"transaction must specify legacy or fee market gas properties, not both"),this.code=434,this.innerError=new eL}}class eD extends U{constructor(e){var t,r;super("gas: ".concat(null!==(t=e.gas)&&void 0!==t?t:"undefined",", gasPrice: ").concat(null!==(r=e.gasPrice)&&void 0!==r?r:"undefined"),"Gas or gasPrice is lower than 0"),this.code=416}}class eU extends U{constructor(e){var t,r;super("maxPriorityFeePerGas: ".concat(null!==(t=e.maxPriorityFeePerGas)&&void 0!==t?t:"undefined",", maxFeePerGas: ").concat(null!==(r=e.maxFeePerGas)&&void 0!==r?r:"undefined"),"maxPriorityFeePerGas or maxFeePerGas is lower than 0"),this.code=417}}class eH extends U{constructor(e){super(e,"eip-1559 transactions don't support gasPrice"),this.code=418}}class ej extends U{constructor(e){var t,r;super("maxPriorityFeePerGas: ".concat(null!==(t=e.maxPriorityFeePerGas)&&void 0!==t?t:"undefined",", maxFeePerGas: ").concat(null!==(r=e.maxFeePerGas)&&void 0!==r?r:"undefined"),"pre-eip-1559 transaction don't support maxFeePerGas/maxPriorityFeePerGas"),this.code=419}}class eF extends U{constructor(e){super(e,"invalid transaction object"),this.code=420}}class eq extends U{constructor(e){var t,r;super("nonce: ".concat(null!==(t=e.nonce)&&void 0!==t?t:"undefined",", chainId: ").concat(null!==(r=e.chainId)&&void 0!==r?r:"undefined"),"Nonce or chainId is lower than 0"),this.code=421}}class eG extends U{constructor(){super("UnableToPopulateNonceError","unable to populate nonce, no from address available"),this.code=422}}class ez extends U{constructor(){super("Eip1559NotSupportedError","Network doesn't support eip-1559"),this.code=423}}class eK extends U{constructor(e){super(e,"unsupported transaction type"),this.code=424}}class eW extends U{constructor(e){var t,r;super("data: ".concat(null!==(t=e.data)&&void 0!==t?t:"undefined",", input: ").concat(null!==(r=e.input)&&void 0!==r?r:"undefined"),'You can\'t have "data" and "input" as properties of transactions at the same time, please use either "data" or "input" instead.'),this.code=425}}class eV extends D{constructor(e){super("The connected Ethereum Node did not respond within ".concat(e.numberOfSeconds," seconds, please make sure your transaction was properly sent and you are connected to a healthy Node. Be aware that transaction might still be pending or mined!\n	Transaction Hash: ").concat(e.transactionHash?e.transactionHash.toString():"not available")),this.code=431}}function eJ(e){return"Please make sure your transaction was properly sent and there are no previous pending transaction for the same account. However, be aware that it might still be mined!\n	Transaction Hash: ".concat(e?e.toString():"not available")}class eZ extends D{constructor(e){super("Transaction was not mined within ".concat(e.numberOfSeconds," seconds. ").concat(eJ(e.transactionHash))),this.code=426}}class eQ extends D{constructor(e){super("Transaction started at ".concat(e.starterBlockNumber," but was not mined within ").concat(e.numberOfBlocks," blocks. ").concat(eJ(e.transactionHash))),this.code=432}}class eX extends U{constructor(e){var t,r;super("receipt: ".concat(JSON.stringify(e.receipt),", blockHash: ").concat(null===(t=e.blockHash)||void 0===t?void 0:t.toString(),", transactionHash: ").concat(null===(r=e.transactionHash)||void 0===r?void 0:r.toString()),"Receipt missing or blockHash null"),this.code=427}}class eY extends U{constructor(e){super("receipt: ".concat(JSON.stringify(e.receipt)),"Receipt missing block number"),this.code=428}}class e$ extends D{constructor(e){super('Invalid signature. "'.concat(e,'"')),this.code=433}}class e0 extends U{constructor(){super("LocalWalletNotAvailableError","Attempted to index account in local wallet, but no wallet is available"),this.code=429}}class e1 extends D{constructor(e,t){let r=[];e.forEach(e=>r.push(e.keyword)),super("The following properties are invalid for the transaction type ".concat(t,": ").concat(r.join(", "))),this.code=439}}class e2 extends U{constructor(e){super(e,"can not parse as byte data"),this.code=1002}}class e3 extends U{constructor(e){super(e,"can not parse as number data"),this.code=1003}}class e4 extends U{constructor(e){super(e,"invalid ethereum address"),this.code=1005}}class e6 extends U{constructor(e){super(e,"not a valid string"),this.code=1001}}class e8 extends U{constructor(e){super(e,"invalid unit"),this.code=1004}}class e5 extends U{constructor(e){super(e,"can not be converted to hex"),this.code=1006}}class e7 extends U{constructor(e){super(e,"value greater than the nibble width"),this.code=1014}}class e9 extends U{constructor(e){super(e,"not a valid boolean."),this.code=1008}}class te extends U{constructor(e){super(e,"not a valid unsigned integer."),this.code=1009}}class tt extends U{constructor(e){super(e,"invalid size given."),this.code=1010}}class tr extends U{constructor(e){super(e,"value is larger than size."),this.code=1011}}class tn extends U{constructor(e){super(e,"invalid string given"),this.code=1012}}let ti=e=>!Array.isArray(e)&&"2.0"===e.jsonrpc&&!!e&&(void 0===e.result||null===e.result)&&"error"in e&&("number"==typeof e.id||"string"==typeof e.id),ts=e=>ti(e)?e.error.message:"";class to extends D{toJSON(){return Object.assign(Object.assign({},super.toJSON()),{data:this.data,request:this.request})}constructor(e,t,r){var n;let i;super(null!=t?t:"Returned error: ".concat(Array.isArray(e)?e.map(e=>ts(e)).join(","):ts(e))),this.code=100,t||(this.data=Array.isArray(e)?e.map(e=>{var t;return null===(t=e.error)||void 0===t?void 0:t.data}):null===(n=null==e?void 0:e.error)||void 0===n?void 0:n.data),this.request=r,"error"in e?i=e.error:e instanceof Array&&(i=e.map(e=>e.error)),this.innerError=i}}class ta extends to{constructor(e,t){let r;super(e,void 0,t),this.code=101,"error"in e?r=e.error:e instanceof Array&&(r=e.map(e=>e.error)),this.innerError=r}}class tc extends D{constructor(e,t){super("Web3Config hardfork doesnt match in defaultHardfork ".concat(e," and common.hardfork ").concat(t)),this.code=1101}}class tu extends D{constructor(e,t){super("Web3Config chain doesnt match in defaultHardfork ".concat(e," and common.hardfork ").concat(t)),this.code=1101}}let tl="An Rpc error has occured with a code of *code*",td={[-32700]:{message:"Parse error",description:"Invalid JSON"},[-32600]:{message:"Invalid request",description:"JSON is not a valid request object	"},[-32601]:{message:"Method not found",description:"Method does not exist	"},[-32602]:{message:"Invalid params",description:"Invalid method parameters"},[-32603]:{message:"Internal error",description:"Internal JSON-RPC error"},[-32e3]:{message:"Invalid input",description:"Missing or invalid parameters"},[-32001]:{message:"Resource not found",description:"Requested resource not found"},[-32002]:{message:"Resource unavailable",description:"Requested resource not available"},[-32003]:{message:"Transaction rejected",description:"Transaction creation failed"},[-32004]:{message:"Method not supported",description:"Method is not implemented"},[-32005]:{message:"Limit exceeded",description:"Request exceeds defined limit"},[-32006]:{message:"JSON-RPC version not supported",description:"Version of JSON-RPC protocol is not supported"},4001:{name:"User Rejected Request",message:"The user rejected the request."},4100:{name:"Unauthorized",message:"The requested method and/or account has not been authorized by the user."},4200:{name:"Unsupported Method",message:"The Provider does not support the requested method."},4900:{name:"Disconnected",message:"The Provider is disconnected from all chains."},4901:{name:"Chain Disconnected",message:"The Provider is not connected to the requested chain."},"0-999":{name:"",message:"Not used."},1e3:{name:"Normal Closure",message:"The connection successfully completed the purpose for which it was created."},1001:{name:"Going Away",message:"The endpoint is going away, either because of a server failure or because the browser is navigating away from the page that opened the connection."},1002:{name:"Protocol error",message:"The endpoint is terminating the connection due to a protocol error."},1003:{name:"Unsupported Data",message:"The connection is being terminated because the endpoint received data of a type it cannot accept. (For example, a text-only endpoint received binary data.)"},1004:{name:"Reserved",message:"Reserved. A meaning might be defined in the future."},1005:{name:"No Status Rcvd",message:"Reserved. Indicates that no status code was provided even though one was expected."},1006:{name:"Abnormal Closure",message:"Reserved. Indicates that a connection was closed abnormally (that is, with no close frame being sent) when a status code is expected."},1007:{name:"Invalid frame payload data",message:"The endpoint is terminating the connection because a message was received that contained inconsistent data (e.g., non-UTF-8 data within a text message)."},1008:{name:"Policy Violation",message:"The endpoint is terminating the connection because it received a message that violates its policy. This is a generic status code, used when codes 1003 and 1009 are not suitable."},1009:{name:"Message Too Big",message:"The endpoint is terminating the connection because a data frame was received that is too large."},1010:{name:"Mandatory Ext.",message:"The client is terminating the connection because it expected the server to negotiate one or more extension, but the server didn't."},1011:{name:"Internal Error",message:"The server is terminating the connection because it encountered an unexpected condition that prevented it from fulfilling the request."},1012:{name:"Service Restart",message:"The server is terminating the connection because it is restarting."},1013:{name:"Try Again Later",message:"The server is terminating the connection due to a temporary condition, e.g. it is overloaded and is casting off some of its clients."},1014:{name:"Bad Gateway",message:"The server was acting as a gateway or proxy and received an invalid response from the upstream server. This is similar to 502 HTTP Status Code."},1015:{name:"TLS handshake",message:"Reserved. Indicates that the connection was closed due to a failure to perform a TLS handshake (e.g., the server certificate can't be verified)."},"1016-2999":{name:"",message:"For definition by future revisions of the WebSocket Protocol specification, and for definition by extension specifications."},"3000-3999":{name:"",message:"For use by libraries, frameworks, and applications. These status codes are registered directly with IANA. The interpretation of these codes is undefined by the WebSocket protocol."},"4000-4999":{name:"",message:"For private use, and thus can't be registered. Such codes can be used by prior agreements between WebSocket applications. The interpretation of these codes is undefined by the WebSocket protocol."}};class th extends D{toJSON(){return Object.assign(Object.assign({},super.toJSON()),{error:this.jsonRpcError,id:this.id,jsonRpc:this.jsonrpc})}constructor(e,t){super(null!=t?t:tl.replace("*code*",e.error.code.toString())),this.code=e.error.code,this.id=e.id,this.jsonrpc=e.jsonrpc,this.jsonRpcError=e.error}}class tf extends D{constructor(e,t){var r,n,i,s;if(e){if(null===(r=td[e])||void 0===r?void 0:r.message)super(td[e].message);else{let t=Object.keys(td).find(t=>"string"==typeof t&&e>=parseInt(t.split("-")[0],10)&&e<=parseInt(t.split("-")[1],10));super(null!==(i=null===(n=td[null!=t?t:""])||void 0===n?void 0:n.message)&&void 0!==i?i:tl.replace("*code*",null!==(s=null==e?void 0:e.toString())&&void 0!==s?s:'""'))}}else super();this.code=e,this.data=t}}class tp extends th{constructor(e){super(e,td[-32700].message),this.code=-32700}}class tm extends th{constructor(e){super(e,td[-32600].message),this.code=-32600}}class tg extends th{constructor(e){super(e,td[-32601].message),this.code=-32601}}class tv extends th{constructor(e){super(e,td[-32602].message),this.code=-32602}}class tb extends th{constructor(e){super(e,td[-32603].message),this.code=-32603}}class ty extends th{constructor(e){super(e,td[-32e3].message),this.code=-32e3}}class tw extends th{constructor(e){super(e,td[-32004].message),this.code=-32004}}class tE extends th{constructor(e){super(e,td[-32002].message),this.code=-32002}}class t_ extends th{constructor(e){super(e,td[-32001].message),this.code=-32001}}class tS extends th{constructor(e){super(e,td[-32006].message),this.code=-32006}}class tA extends th{constructor(e){super(e,td[-32003].message),this.code=-32003}}class tT extends th{constructor(e){super(e,td[-32005].message),this.code=-32005}}let tx=new Map;tx.set(-32700,{error:tp}),tx.set(-32600,{error:tm}),tx.set(-32601,{error:tg}),tx.set(-32602,{error:tv}),tx.set(-32603,{error:tb}),tx.set(-32e3,{error:ty}),tx.set(-32004,{error:tw}),tx.set(-32002,{error:tE}),tx.set(-32003,{error:tA}),tx.set(-32001,{error:t_}),tx.set(-32006,{error:tS}),tx.set(-32005,{error:tT});class tI extends D{toJSON(){return Object.assign(Object.assign({},super.toJSON()),{type:this.type})}constructor(e){super("Format for the type ".concat(e," is unsupported")),this.type=e,this.code=1200}}function tR(e){if(!Number.isSafeInteger(e)||e<0)throw Error("Wrong positive integer: ".concat(e))}function tO(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(!(e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name))throw Error("Expected Uint8Array");if(r.length>0&&!r.includes(e.length))throw Error("Expected Uint8Array of length ".concat(r,", not of length=").concat(e.length))}function tP(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.wrapConstructor");tR(e.outputLen),tR(e.blockLen)}function tk(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function tN(e,t){tO(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least ".concat(r))}var tC={number:tR,bool:function(e){if("boolean"!=typeof e)throw Error("Expected boolean, not ".concat(e))},bytes:tO,hash:tP,exists:tk,output:tN};let tM=BigInt(4294967296-1),tL=BigInt(32);function tB(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?{h:Number(e&tM),l:Number(e>>tL&tM)}:{h:0|Number(e>>tL&tM),l:0|Number(e&tM)}}function tD(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){let{h:s,l:o}=tB(e[i],t);[r[i],n[i]]=[s,o]}return[r,n]}let tU=(e,t,r)=>e<<r|t>>>32-r,tH=(e,t,r)=>t<<r|e>>>32-r,tj=(e,t,r)=>t<<r-32|e>>>64-r,tF=(e,t,r)=>e<<r-32|t>>>64-r;var tq={fromBig:tB,split:tD,toBig:(e,t)=>BigInt(e>>>0)<<tL|BigInt(t>>>0),shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:tU,rotlSL:tH,rotlBH:tj,rotlBL:tF,add:function(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/4294967296|0)|0,l:0|i}},add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,n)=>t+r+n+(e/4294967296|0)|0,add4L:(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),add4H:(e,t,r,n,i)=>t+r+n+i+(e/4294967296|0)|0,add5H:(e,t,r,n,i,s)=>t+r+n+i+s+(e/4294967296|0)|0,add5L:(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0)};let tG="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,tz=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));function tK(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}let tW=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),tV=(e,t)=>e<<32-t|e>>>t;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw Error("Non little-endian hardware is not supported");function tJ(e){if("string"!=typeof e)throw Error("utf8ToBytes expected string, got ".concat(typeof e));return new Uint8Array(new TextEncoder().encode(e))}function tZ(e){if("string"==typeof e&&(e=tJ(e)),!tK(e))throw Error("expected Uint8Array, got ".concat(typeof e));return e}function tQ(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let n=0;for(let e=0;e<t.length;e++){let r=t[e];if(!tK(r))throw Error("Uint8Array expected");n+=r.length}let i=new Uint8Array(n);for(let e=0,r=0;e<t.length;e++){let n=t[e];i.set(n,r),r+=n.length}return i}class tX{clone(){return this._cloneInto()}}let tY={}.toString;function t$(e,t){if(void 0!==t&&"[object Object]"!==tY.call(t))throw Error("Options should be object or undefined");return Object.assign(e,t)}function t0(e){let t=t=>e().update(tZ(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function t1(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(tG&&"function"==typeof tG.getRandomValues)return tG.getRandomValues(new Uint8Array(e));throw Error("crypto.getRandomValues must be defined")}let[t2,t3,t4]=[[],[],[]],t6=BigInt(0),t8=BigInt(1),t5=BigInt(2),t7=BigInt(7),t9=BigInt(256),re=BigInt(113);for(let e=0,t=t8,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],t2.push(2*(5*n+r)),t3.push((e+1)*(e+2)/2%64);let i=t6;for(let e=0;e<7;e++)(t=(t<<t8^(t>>t7)*re)%t9)&t5&&(i^=t8<<(t8<<BigInt(e))-t8);t4.push(i)}let[rt,rr]=tD(t4,!0),rn=(e,t,r)=>r>32?tj(e,t,r):tU(e,t,r),ri=(e,t,r)=>r>32?tF(e,t,r):tH(e,t,r);class rs extends tX{keccak(){!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24,r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let n=(t+8)%10,i=(t+2)%10,s=r[i],o=r[i+1],a=rn(s,o,1)^r[n],c=ri(s,o,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=a,e[t+r+1]^=c}let t=e[2],i=e[3];for(let r=0;r<24;r++){let n=t3[r],s=rn(t,i,n),o=ri(t,i,n),a=t2[r];t=e[a],i=e[a+1],e[a]=s,e[a+1]=o}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=rt[n],e[1]^=rr[n]}r.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){tk(this);let{blockLen:t,state:r}=this,n=(e=tZ(e)).length;for(let i=0;i<n;){let s=Math.min(t-this.pos,n-i);for(let t=0;t<s;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,(128&t)!=0&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){tk(this,!1),tO(e),this.finish();let t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();let s=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+s),n),this.posOut+=s,n+=s}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return tR(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(tN(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:s}=this;return e||(e=new rs(t,r,n,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=s,e.destroyed=this.destroyed,e}constructor(e,t,r,n=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,tR(r),0>=this.blockLen||this.blockLen>=200)throw Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=tz(this.state)}}let ro=(e,t,r)=>t0(()=>new rs(t,e,r)),ra=ro(1,144,28),rc=ro(1,136,32),ru=ro(1,104,48),rl=ro(1,72,64);tC.bool;let rd=tC.bytes;function rh(e){if(!(e instanceof Uint8Array))throw TypeError("bytesToUtf8 expected Uint8Array, got ".concat(typeof e));return new TextDecoder().decode(e)}function rf(e){return t=>(tC.bytes(t),e(t))}(()=>{let e="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,t="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);return t&&!e?t("crypto"):void 0})(),rf(ra);let rp=(()=>{let e=rf(rc);return e.create=rc.create,e})();rf(ru),rf(rl);var rm=r(30248);let rg=e=>e.message?e.message:"unspecified error";class rv extends D{_compileErrors(){return this.errors.map(rg)}constructor(e){super(),this.code=1100,this.errors=e,super.message="Web3 validator found ".concat(e.length," error[s]:\n").concat(this._compileErrors().join("\n"))}}let rb=["bool","int","uint","bytes","string","address","tuple"],ry=e=>"object"==typeof e&&"type"in e&&"name"in e,rw=e=>"string"==typeof e,rE=e=>"string"==typeof e&&/^((-)?0x[0-9a-f]+|(0x))$/i.test(e);function r_(e,t){return"string"==typeof e&&!!e.match(/^0x[0-9A-Fa-f]*$/)&&(void 0===t||!(t>0)||e.length===2+2*t)}let rS=e=>"number"==typeof e||"bigint"==typeof e||"string"==typeof e&&/^((-0x|0x|-)?[0-9a-f]+|(0x))$/i.test(e);function rA(e){if("string"!=typeof e)throw Error("[isHexPrefixed] input must be type 'string', received type ".concat(typeof e));return e.startsWith("0x")}let rT=function(e){for(let[t,r]of Object.entries(e))if(void 0!==r&&r.length>0&&0===r[0])throw Error("".concat(t," cannot have leading zeroes, received: ").concat(r.toString()))},rx=["hex","number","blockNumber","blockNumberOrTag","filter","bloom"],rI=e=>{let t,r=e.replace(/ /,""),n=!1,i=[];if(e.includes("[")&&(r=r.slice(0,r.indexOf("[")),n=(i=[...e.matchAll(/(?:\[(\d*)\])/g)].map(e=>parseInt(e[1],10)).map(e=>Number.isNaN(e)?-1:e)).length>0),rb.includes(r))return{baseType:r,isArray:n,baseTypeSize:t,arraySizes:i};if(r.startsWith("int"))t=parseInt(r.substring(3),10),r="int";else if(r.startsWith("uint"))t=parseInt(e.substring(4),10),r="uint";else{if(!r.startsWith("bytes"))return{baseType:void 0,isArray:!1,baseTypeSize:void 0,arraySizes:i};t=parseInt(r.substring(5),10),r="bytes"}return{baseType:r,isArray:n,baseTypeSize:t,arraySizes:i}},rR=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Object.keys(t).includes("type"))throw new rv([{keyword:"eth",message:'Either "eth" or "type" can be presented in schema',params:{eth:e},instancePath:"",schemaPath:""}]);let{baseType:r,baseTypeSize:n}=rI(e);if(!r&&!rx.includes(e))throw new rv([{keyword:"eth",message:'Eth data type "'.concat(e,'" is not valid'),params:{eth:e},instancePath:"",schemaPath:""}]);if(r){if("tuple"===r)throw Error('"tuple" type is not implemented directly.');return{format:"".concat(r).concat(null!=n?n:""),required:!0}}return e?{format:e,required:!0}:{}},rO=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/0",r={type:"array",items:[],maxItems:e.length,minItems:e.length};for(let[n,i]of e.entries()){let e,s,o;let a=[];ry(i)?(e=i.type,s=i.name,a=i.components):"string"==typeof i?(e=i,s="".concat(t,"/").concat(n)):Array.isArray(i)&&(i[0]&&"string"==typeof i[0]&&i[0].startsWith("tuple")&&!Array.isArray(i[0])&&i[1]&&Array.isArray(i[1])?(e=i[0],s="".concat(t,"/").concat(n),a=i[1]):(e="tuple",s="".concat(t,"/").concat(n),a=i));let{baseType:c,isArray:u,arraySizes:l}=rI(e),d=r;for(let e=l.length-1;e>0;e-=1)o={type:"array",items:[],maxItems:l[e],minItems:l[e]},l[e]<0&&(delete o.maxItems,delete o.minItems),Array.isArray(d.items)?0===d.items.length?d.items=o:d.items.push(o):d.items=[d.items,o],d=o;if("tuple"!==c||u){if("tuple"===c&&u){let e=l[0],t={$id:s,type:"array",items:rO(a,s),maxItems:e,minItems:e};e<0&&(delete t.maxItems,delete t.minItems),d.items.push(t)}else if(u){let e=l[0],t={type:"array",$id:s,items:rR(String(c)),minItems:e,maxItems:e};e<0&&(delete t.maxItems,delete t.minItems),d.items.push(t)}else Array.isArray(d.items)?d.items.push(Object.assign({$id:s},rR(e))):d.items.items.push(Object.assign({$id:s},rR(e)))}else{let e=rO(a,s);e.$id=s,d.items.push(e)}d=r}return r},rP=e=>rO(e),rk=(e,t)=>1===t?e:rk(e[0],t-1),rN=(e,t,r)=>{let n=[];for(let[i,s]of e.entries()){let e,o;let a=[];ry(s)?(e=s.type,o=s.name,a=s.components):"string"==typeof s?e=s:Array.isArray(s)&&(s[1]&&Array.isArray(s[1])?(e=s[0],a=s[1]):(e="tuple",a=s));let{baseType:c,isArray:u,arraySizes:l}=rI(e),d=Array.isArray(t)?t[i]:t[o];if("tuple"!==c||u){if("tuple"===c&&u){let e=[];for(let t of d)if(l.length>1){let n=rk(t,l.length-1),i=[];for(let e of n)i.push(rN(a,e,r));e.push(i)}else e.push(rN(a,t,r));n.push(e)}else n.push(d)}else n.push(rN(a,d,r))}return(r=null!=r?r:[]).push(...n),r},rC=e=>{if(e>=48&&e<=57)return e-48;if(e>=65&&e<=70)return e-55;if(e>=97&&e<=102)return e-87;throw Error("Invalid code point: ".concat(e))},rM=e=>{if(!rE(e))throw Error("Invalid hex string");let[t,r]=e.startsWith("-")?[!0,e.slice(1)]:[!1,e],n=BigInt(r);return n>Number.MAX_SAFE_INTEGER?t?-n:n:n<Number.MIN_SAFE_INTEGER?n:t?-1*Number(n):Number(n)},rL=e=>{if(("number"==typeof e||"bigint"==typeof e)&&e<0)return"-0x".concat(e.toString(16).slice(1));if(("number"==typeof e||"bigint"==typeof e)&&e>=0)return"0x".concat(e.toString(16));if("string"==typeof e&&rE(e)){let[t,r]=e.startsWith("-")?[!0,e.slice(1)]:[!1,e],n=r.split(/^(-)?0(x|X)/).slice(-1)[0];return"".concat(t?"-":"","0x").concat(n.replace(/^0+/,"").toLowerCase())}if("string"==typeof e&&!rE(e))return rL(BigInt(e));throw new e3(e)},rB=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0";if("string"==typeof e&&!rE(e))return e.padStart(t,r);let n="string"==typeof e&&rE(e)?e:rL(e),[i,s]=n.startsWith("-")?["-0x",n.slice(3)]:["0x",n.slice(2)];return"".concat(i).concat(s.padStart(t,r))};function rD(e){let t="0x";for(let r of e){let e=r.toString(16);t+=1===e.length?"0".concat(e):e}return t}let rU={zero:48,nine:57,A:65,F:70,a:97,f:102};function rH(e){return e>=rU.zero&&e<=rU.nine?e-rU.zero:e>=rU.A&&e<=rU.F?e-(rU.A-10):e>=rU.a&&e<=rU.f?e-(rU.a-10):void 0}function rj(e){let t=0;if(e.startsWith("0")&&("x"===e[1]||"X"===e[1])&&(t=2),e.length%2!=0)throw new e2("hex string has odd length: ".concat(e));let r=(e.length-t)/2,n=new Uint8Array(r);for(let i=0,s=t;i<r;i+=1){let t=rH(e.charCodeAt(s++)),r=rH(e.charCodeAt(s++));if(void 0===t||void 0===r)throw new e2('Invalid byte sequence ("'.concat(e[s-2]).concat(e[s-1],'" in "').concat(e,'").'));n[i]=16*t+r}return n}function rF(e){var t;return e instanceof Uint8Array||(null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.name)!=="Uint8Array"?e:Uint8Array.from(e)}let rq=e=>{var t;return e instanceof Uint8Array||(null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.name)==="Uint8Array"},rG=function(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{abiType:"bytes"};if("string"!=typeof e&&!Array.isArray(e)&&!rq(e)||"string"==typeof e&&rE(e)&&e.startsWith("-")||"string"==typeof e&&!rE(e))return!1;if("string"==typeof e){if(e.length%2!=0)return!1;t=rj(e)}else if(Array.isArray(e)){if(e.some(e=>e<0||e>255||!Number.isInteger(e)))return!1;t=new Uint8Array(e)}else t=e;if(null==r?void 0:r.abiType){let{baseTypeSize:e}=rI(r.abiType);return!e||t.length===e}return null==r||!r.size||t.length===(null==r?void 0:r.size)},rz=e=>{if(!/^(0x)?[0-9a-f]{40}$/i.test(e))return!1;let t=e.slice(2),r=rD(rp(rF(tJ(t.toLowerCase())))).slice(2);for(let e=0;e<40;e+=1)if(parseInt(r[e],16)>7&&t[e].toUpperCase()!==t[e]||7>=parseInt(r[e],16)&&t[e].toLowerCase()!==t[e])return!1;return!0},rK=function(e){let t,r=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return!!("string"==typeof e||rq(e))&&(t=rq(e)?rD(e):"string"!=typeof e||rE(e)?e:e.toLowerCase().startsWith("0x")?e:"0x".concat(e),!!/^(0x)?[0-9a-f]{40}$/i.test(t)&&(!!(/^(0x|0X)?[0-9a-f]{40}$/.test(t)||/^(0x|0X)?[0-9A-F]{40}$/.test(t))||!r||rz(t)))};(s=v||(v={})).NUMBER="NUMBER_NUMBER",s.HEX="NUMBER_HEX",s.STR="NUMBER_STR",s.BIGINT="NUMBER_BIGINT",(o=b||(b={})).HEX="BYTES_HEX",o.UINT8ARRAY="BYTES_UINT8ARRAY";let rW={number:v.BIGINT,bytes:b.HEX},rV={number:v.HEX,bytes:b.HEX};(a=y||(y={})).EARLIEST="earliest",a.LATEST="latest",a.PENDING="pending",a.SAFE="safe",a.FINALIZED="finalized",(c=w||(w={})).chainstart="chainstart",c.frontier="frontier",c.homestead="homestead",c.dao="dao",c.tangerineWhistle="tangerineWhistle",c.spuriousDragon="spuriousDragon",c.byzantium="byzantium",c.constantinople="constantinople",c.petersburg="petersburg",c.istanbul="istanbul",c.muirGlacier="muirGlacier",c.berlin="berlin",c.london="london",c.altair="altair",c.arrowGlacier="arrowGlacier",c.grayGlacier="grayGlacier",c.bellatrix="bellatrix",c.merge="merge",c.capella="capella",c.shanghai="shanghai";let rJ=Object.getPrototypeOf(Uint8Array);var rZ=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};let rQ=Symbol.for("web3/base-provider");class rX{static isWeb3Provider(e){return e instanceof rX||!!(e&&e[rQ])}get[rQ](){return!0}send(e,t){this.request(e).then(e=>{t(null,e)}).catch(e=>{t(e)})}sendAsync(e){return rZ(this,void 0,void 0,function*(){return this.request(e)})}asEIP1193Provider(){let e=Object.create(this),t=e.request;return e.request=function(e){return rZ(this,void 0,void 0,function*(){return(yield t(e)).result})},e.asEIP1193Provider=void 0,e}}class rY extends Array{constructor(e){super(),this._accountProvider=e}}let r$=(e,t)=>{let r=e;for(let n=1;n<t;n+=1)r*=e;return r},r0=function(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{abiType:"uint"};if(!["number","string","bigint"].includes(typeof e)||"string"==typeof e&&0===e.length)return!1;if(null==r?void 0:r.abiType){let{baseTypeSize:e}=rI(r.abiType);e&&(t=e)}else r.bitSize&&(t=r.bitSize);let n=r$(BigInt(2),BigInt(null!=t?t:256))-BigInt(1);try{let t="string"==typeof e&&rE(e)?BigInt(rM(e)):BigInt(e);return t>=0&&t<=n}catch(e){return!1}},r1=function(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{abiType:"int"};if(!["number","string","bigint"].includes(typeof e)||"number"==typeof e&&e>Number.MAX_SAFE_INTEGER)return!1;if(null==r?void 0:r.abiType){let{baseTypeSize:e,baseType:n}=rI(r.abiType);if("int"!==n)return!1;e&&(t=e)}else r.bitSize&&(t=r.bitSize);let n=r$(BigInt(2),BigInt((null!=t?t:256)-1)),i=BigInt(-1)*r$(BigInt(2),BigInt((null!=t?t:256)-1));try{let t="string"==typeof e&&rE(e)?BigInt(rM(e)):BigInt(e);return t>=i&&t<=n}catch(e){return!1}},r2=e=>!!(r1(e)||"string"==typeof e&&/[0-9.]/.test(e)&&e.indexOf(".")===e.lastIndexOf("."))||"number"==typeof e,r3=e=>r0(e),r4=e=>Object.values(y).includes(e),r6=e=>r4(e)||r3(e),r8=e=>!!("string"==typeof e&&/^(0x)?[0-9a-f]{512}$/i.test(e))&&!!(/^(0x)?[0-9a-f]{512}$/.test(e)||/^(0x)?[0-9A-F]{512}$/.test(e)),r5=(e,t)=>{if("string"==typeof t&&!rE(t)||!r8(e))return!1;let r=rD(rp("string"==typeof t?rj(t):t)).slice(2);for(let t=0;t<12;t+=4){let n=(parseInt(r.slice(t,t+2),16)<<8)+parseInt(r.slice(t+2,t+4),16)&2047,i=rC(e.charCodeAt(e.length-1-Math.floor(n/4))),s=1<<n%4;if((i&s)!==s)return!1}return!0},r7=e=>!!["number","string","boolean"].includes(typeof e)&&("boolean"==typeof e||("string"!=typeof e||rE(e)?"string"==typeof e&&rE(e)?"0x1"===e||"0x0"===e:1===e||0===e:"1"===e||"0"===e)),r9=e=>null==e,ne=e=>"object"==typeof e&&!r9(e)&&!Array.isArray(e)&&!(e instanceof rJ),nt=e=>!!("string"==typeof e&&/^(0x)?[0-9a-f]{64}$/i.test(e))&&!!(/^(0x)?[0-9a-f]{64}$/.test(e)||/^(0x)?[0-9A-F]{64}$/.test(e)),nr=e=>{let t=["fromBlock","toBlock","address","topics","blockHash"];if(r9(e)||"object"!=typeof e||!Object.keys(e).every(e=>t.includes(e))||!r9(e.fromBlock)&&!r6(e.fromBlock)||!r9(e.toBlock)&&!r6(e.toBlock))return!1;if(!r9(e.address)){if(Array.isArray(e.address)){if(!e.address.every(e=>rK(e)))return!1}else if(!rK(e.address))return!1}return!!(r9(e.topics)||e.topics.every(e=>!!r9(e)||(Array.isArray(e)?e.every(e=>nt(e)):!!nt(e))))},nn={address:e=>rK(e),bloom:e=>r8(e),blockNumber:e=>r3(e),blockTag:e=>r4(e),blockNumberOrTag:e=>r6(e),bool:e=>r7(e),bytes:e=>rG(e),filter:e=>nr(e),hex:e=>rE(e),uint:e=>r0(e),int:e=>r1(e),number:e=>r2(e),string:e=>rw(e)};for(let e=8;e<=256;e+=8)nn["int".concat(e)]=t=>r1(t,{bitSize:e}),nn["uint".concat(e)]=t=>r0(t,{bitSize:e});for(let e=1;e<=32;e+=1)nn["bytes".concat(e)]=t=>rG(t,{size:e});nn.bytes256=nn.bytes;let ni=e=>{if((!(null==e?void 0:e.type)||(null==e?void 0:e.type)==="object")&&(null==e?void 0:e.properties)){let t={};for(let r of Object.keys(e.properties)){let n=ni(e.properties[r]);n&&(t[r]=n)}return Array.isArray(e.required)?rm.z.object(t).partial().required(e.required.reduce((e,t)=>Object.assign(Object.assign({},e),{[t]:!0}),{})):rm.z.object(t).partial()}if((null==e?void 0:e.type)==="array"&&(null==e?void 0:e.items)){if(Array.isArray(e.items)&&e.items.length>0){let t=[];for(let r of e.items){let e=ni(r);e&&t.push(e)}return rm.z.tuple(t)}return rm.z.array(ni(e.items))}if(e.oneOf&&Array.isArray(e.oneOf))return rm.z.union(e.oneOf.map(e=>ni(e)));if(null==e?void 0:e.format){if(!nn[e.format])throw new tI(e.format);return rm.z.any().refine(nn[e.format],t=>({params:{value:t,format:e.format}}))}return(null==e?void 0:e.type)&&(null==e?void 0:e.type)!=="object"&&"function"==typeof rm.z[String(e.type)]?rm.z[String(e.type)]():rm.z.object({data:rm.z.any()}).partial()};class ns{static factory(){return ns.validatorInstance||(ns.validatorInstance=new ns),ns.validatorInstance}validate(e,t,r){var n,i;let s=ni(e).safeParse(t);if(!s.success){let e=this.convertErrors(null!==(i=null===(n=s.error)||void 0===n?void 0:n.issues)&&void 0!==i?i:[]);if(e){if(null==r?void 0:r.silent)return e;throw new rv(e)}}}convertErrors(e){if(e&&Array.isArray(e)&&e.length>0)return e.map(e=>{var t;let r,n,i,s;s=e.path.join("/");let o=String(e.path[e.path.length-1]),a=e.path.join("/");if(e.code===rm.NL.too_big)n="maxItems",s="".concat(a,"/maxItems"),i={limit:e.maximum},r="must NOT have more than ".concat(e.maximum," items");else if(e.code===rm.NL.too_small)n="minItems",s="".concat(a,"/minItems"),i={limit:e.minimum},r="must NOT have fewer than ".concat(e.minimum," items");else if(e.code===rm.NL.custom){let{value:n,format:o}=null!==(t=e.params)&&void 0!==t?t:{};r=void 0===n?'value at "/'.concat(s,'" is required'):'value "'.concat("object"==typeof n?JSON.stringify(n):n,'" at "/').concat(s,'" must pass "').concat(o,'" validation'),i={value:n}}return{keyword:null!=n?n:o,instancePath:a?"/".concat(a):"",schemaPath:s?"#".concat(s):"#",params:null!=i?i:{value:e.message},message:null!=r?r:e.message}})}}class no{validateJSONSchema(e,t,r){return this._validator.validate(e,t,r)}validate(e,t){var r,n;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{silent:!1},s=rP(e);if(!Array.isArray(s.items)||(null===(r=s.items)||void 0===r?void 0:r.length)!==0||0!==t.length){if(Array.isArray(s.items)&&(null===(n=s.items)||void 0===n?void 0:n.length)===0&&0!==t.length)throw new rv([{instancePath:"/0",schemaPath:"/",keyword:"required",message:"empty schema against data can not be validated",params:t}]);return this._validator.validate(s,t,i)}}constructor(){this._validator=ns.factory()}}let na=new no;function nc(e){var t;return e instanceof Uint8Array||(null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.name)==="Uint8Array"}function nu(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let n=t.reduce((e,t)=>e+t.length,0),i=new Uint8Array(n),s=0;for(let e of t)i.set(e,s),s+=e.length;return i}function nl(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r+=1)if(e[r]!==t[r])return!1;return!0}let nd={noether:BigInt(0),wei:BigInt(1),kwei:BigInt(1e3),Kwei:BigInt(1e3),babbage:BigInt(1e3),femtoether:BigInt(1e3),mwei:BigInt(1e6),Mwei:BigInt(1e6),lovelace:BigInt(1e6),picoether:BigInt(1e6),gwei:BigInt(1e9),Gwei:BigInt(1e9),shannon:BigInt(1e9),nanoether:BigInt(1e9),nano:BigInt(1e9),szabo:BigInt(1e12),microether:BigInt(1e12),micro:BigInt(1e12),finney:BigInt(1e15),milliether:BigInt(1e15),milli:BigInt(1e15),ether:BigInt("1000000000000000000"),kether:BigInt("1000000000000000000000"),grand:BigInt("1000000000000000000000"),mether:BigInt("1000000000000000000000000"),gether:BigInt("1000000000000000000000000000"),tether:BigInt("1000000000000000000000000000000")},nh=e=>{if(na.validate(["bytes"],[e]),nc(e))return e;if(Array.isArray(e))return new Uint8Array(e);if("string"==typeof e)return rj(e);throw new e2(e)},{uint8ArrayToHexString:nf}=N,np=e=>nf(nh(e)),nm=e=>"string"==typeof e&&"0x"!==e.slice(0,2).toLowerCase()?nh("0x".concat(e)):nh(e),ng=e=>(na.validate(["hex"],[e]),rM(e)),nv=ng,nb=(e,t)=>{"bigint"!=typeof e&&na.validate(["int"],[e]);let r=rL(e);return t&&(r.startsWith("-")||r.length%2!=1?r.length%2==0&&r.startsWith("-")&&(r="-0x0".concat(r.slice(3))):r="0x0".concat(r.slice(2))),r},ny=nb,nw=e=>ng(e).toString(),nE=e=>{na.validate(["string"],[e]);let t=e.replace(/^(?:\u0000)/,"");return t=t.replace(/(?:\u0000)$/,""),np(new TextEncoder().encode(t))},n_=nE,nS=nE,nA=e=>rh(nm(e)),nT=e=>"string"==typeof e?nA(e):(na.validate(["bytes"],[e]),rh(e)),nx=tJ,nI=nA,nR=e=>{na.validate(["string"],[e]);let t="";for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r).toString(16);t+=n.length%2!=0?"0".concat(n):n}return"0x".concat(t)},nO=nR,nP=e=>new TextDecoder("ascii").decode(nm(e)),nk=nP,nN=(e,t)=>{if("string"==typeof e&&rK(e))return t?"address":"0x".concat(e.toLowerCase().replace(/^0x/i,""));if("boolean"==typeof e)return t?"bool":e?"0x01":"0x00";if("number"==typeof e)return t?e<0?"int256":"uint256":nb(e);if("bigint"==typeof e)return t?"bigint":nb(e);if("object"==typeof e&&e)return t?"string":nE(JSON.stringify(e));if("string"==typeof e){if(e.startsWith("-0x")||e.startsWith("-0X"))return t?"int256":nb(e);if(rE(e))return t?"bytes":e;if(rS(e)&&!r1(e)&&!r0(e))return t?"bytes":"0x".concat(e);if(rS(e)&&!r1(e)&&r0(e))return t?"uint":nb(e);if(!Number.isFinite(e))return t?"string":nE(e)}throw new e5(e)},nC=e=>{if("number"==typeof e)return e;if("bigint"==typeof e)return e>=Number.MIN_SAFE_INTEGER&&e<=Number.MAX_SAFE_INTEGER?Number(e):e;if("string"==typeof e&&rE(e))return ng(e);try{return nC(BigInt(e))}catch(t){throw new e3(e)}},nM=e=>{if("number"==typeof e)return BigInt(e);if("bigint"==typeof e)return e;if("string"==typeof e&&rS(e))return e.startsWith("-")?-BigInt(e.substring(1)):BigInt(e);throw new e3(e)},nL=(e,t)=>{let r=nd[t];if(!r)throw new e8(t);let n=String(nC(e)),i=r.toString().length-1;if(i<=0)return n.toString();let s=n.padStart(i,"0"),o=s.slice(0,-i),a=s.slice(-i).replace(/\.?0+$/,"");return""===o?"0.".concat(a):""===a?o:"".concat(o,".").concat(a)},nB=(e,t)=>{na.validate(["number"],[e]);let r=nd[t];if(!r)throw new e8(t);let[n,i]=String("string"!=typeof e||rE(e)?nC(e):e).split(".").concat(""),s=BigInt("".concat(n).concat(i))*r,o=r.toString().length-1,a=Math.min(i.length,o);return 0===a?s.toString():s.toString().padStart(a,"0").slice(0,-a)},nD=e=>{if(!rK(e,!1))throw new e4(e);let t=e.toLowerCase().replace(/^0x/i,""),r=rD(rp(rF(nx(t))));if(r9(r)||"0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470"===r)return"";let n="0x",i=r.replace(/^0x/i,"");for(let e=0;e<t.length;e+=1)parseInt(i[e],16)>7?n+=t[e].toUpperCase():n+=t[e];return n},nU=e=>{if("boolean"==typeof e)return e;if("number"==typeof e&&(0===e||1===e)||"bigint"==typeof e&&(e===BigInt(0)||e===BigInt(1)))return!!e;if("string"==typeof e&&!rE(e)&&("1"===e||"0"===e||"false"===e||"true"===e))return"true"===e||"false"!==e&&!!Number(e);if("string"==typeof e&&rE(e)&&("0x1"===e||"0x0"===e))return!!nC(e);throw new e9(e)};var nH=r(70094);let nj=e=>t=>e(t.detail);class nF extends EventTarget{on(e,t){return this.addEventListener(e,t),this}once(e,t){let r=n=>{var i,s,o,a;return i=this,s=void 0,o=void 0,a=function*(){this.off(e,r),yield t(n)},new(o||(o=Promise))(function(e,t){function r(e){try{c(a.next(e))}catch(e){t(e)}}function n(e){try{c(a.throw(e))}catch(e){t(e)}}function c(t){var i;t.done?e(t.value):((i=t.value)instanceof o?i:new o(function(e){e(i)})).then(r,n)}c((a=a.apply(i,s||[])).next())})};return this.on(e,r)}off(e,t){return this.removeEventListener(e,t),this}emit(e,t){let r=new CustomEvent(e,{detail:t});return super.dispatchEvent(r)}listenerCount(e){let t=this._listeners[e];return t?t.length:0}listeners(e){return this._listeners[e].map(e=>e[0])||[]}eventNames(){return Object.keys(this._listeners)}removeAllListeners(){return Object.keys(this._listeners).forEach(e=>{this._listeners[e].forEach(t=>{super.removeEventListener(e,t[1])})}),this._listeners={},this}setMaxListeners(e){return this.maxListeners=e,this}getMaxListeners(){return this.maxListeners}addEventListener(e,t){let r=nj(t);super.addEventListener(e,r),this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push([t,r])}removeEventListener(e,t){let r=this._listeners[e];if(r){let n=r.findIndex(e=>e[0]===t);-1!==n&&(super.removeEventListener(e,r[n][1]),r.splice(n,1))}}constructor(){super(...arguments),this._listeners={},this.maxListeners=Number.MAX_SAFE_INTEGER}}n=nF;class nq extends n{}let nG=rE,nz=rS,nK=rz,nW=rK,nV=r8,nJ=r5,nZ=(e,t)=>!!(r8(e)&&rK(t))&&r5(e,rB(t,64)),nQ=(e,t)=>!!(r8(e)&&rK(t))&&r5(e,t),nX=nt,nY=(e,t)=>!!(r8(e)&&nt(t))&&r5(e,t),n$=(e,t)=>{let r="string"==typeof e&&r4(e),n="string"==typeof t&&r4(t);if(e===t||("earliest"===e||0===e)&&("earliest"===t||0===t))return 0;if("earliest"===e&&t>0)return -1;if("earliest"===t&&e>0)return 1;if(r&&n){let r={[y.EARLIEST]:1,[y.FINALIZED]:2,[y.SAFE]:3,[y.LATEST]:4,[y.PENDING]:5};return r[e]<r[t]?-1:1}if(r&&!n||!r&&n)throw new tn("Cannot compare blocktag with provided non-blocktag input.");let i=BigInt(e),s=BigInt(t);return i<s?-1:i===s?0:1},n0=e=>"object"==typeof e&&!r9(e)&&0!==Object.keys(e).length&&["input","data","from","gas","gasPrice","gasLimit","address","jsonInterface","syncWithContext","dataInputFill"].some(t=>t in e),n1=r9,n2=e=>"object"==typeof e&&!r9(e)&&!Array.isArray(e)&&!(e instanceof rJ),n3=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(!n2(e))return e;for(let t of r)for(let r in t)n2(t[r])?(e[r]||(e[r]={}),n3(e[r],t[r])):!r9(t[r])&&Object.hasOwnProperty.call(t,r)&&(Array.isArray(t[r])||t[r]instanceof rJ?e[r]=t[r].slice(0):e[r]=t[r]);return e},n4=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0";return"string"==typeof e?rE(e)?rB(e,t,r):e.padStart(t,r):(na.validate(["int"],[e]),rB(e,t,r))},n6=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0";if("string"==typeof e&&!rE(e))return e.padEnd(t,r);na.validate(["int"],[e]);let n="string"==typeof e&&rE(e)?e:nb(e),i=n.startsWith("-")?3:2;return n.padEnd(t+i,r)},n8=n6,n5=n4,n7=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64;na.validate(["int"],[e]);let r=nC(e);if(r>=0)return n4(nN(r),t);let n=r$(BigInt(2),BigInt(4*t));if(-r>=n)throw new e7("value: ".concat(e,", nibbleWidth: ").concat(t));return n4(nb(BigInt(r)+n),t)},n9=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64;na.validate(["int"],[e]);let r=nC(e);if(r<0)return r;let n=Math.ceil(Math.log(Number(r))/Math.log(2));if(n>4*t)throw new e7('value: "'.concat(e,'", nibbleWidth: "').concat(t,'"'));if(4*t!==n)return r;let i=r$(BigInt(2),BigInt(t)*BigInt(4));return nC(BigInt(r)-i)},{parseBaseType:ie}=N,it=e=>"object"==typeof e&&!r9(e)&&"number"in e&&"bytes"in e,ir=function(e,t){let r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=Object.assign({},e);for(let e of t){if(i.oneOf&&r){let e=n.find(function(e){return this===e[0]},null!=r?r:"");e&&e[0]===r&&(i=i.oneOf[e[1]])}if(!i.properties&&!i.items)return;if(i.properties)i=i.properties[e];else if(i.items&&i.items.properties){let t=i.items.properties;if(!t)return;i=t[e]}else i.items&&ne(i.items)?i=i.items:i.items&&Array.isArray(i.items)&&(i=i.items[parseInt(e,10)]);i&&e&&(r=e)}return i},ii=(e,t,r)=>{try{let{baseType:n,baseTypeSize:i}=ie(t);if("int"===n||"uint"===n)switch(r.number){case v.NUMBER:return Number(nM(e));case v.HEX:return nb(nM(e));case v.STR:return nM(e).toString();case v.BIGINT:return nM(e);default:throw new ea("Invalid format: ".concat(String(r.number)))}if("bytes"===n){let t;switch(i?"string"==typeof e?t=n4(e,2*i):nc(e)&&(t=nu(new Uint8Array(i-e.length),e)):t=e,r.bytes){case b.HEX:return np(nh(t));case b.UINT8ARRAY:return nh(t);default:throw new ea("Invalid format: ".concat(String(r.bytes)))}}}catch(e){}return e},is=function(e,t,r,n){var i,s;let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];if(!ne(e)&&!Array.isArray(e))return ii(e,null==t?void 0:t.format,n);for(let[a,c]of Object.entries(e)){r.push(a);let u=ir(t,r,o);if(r9(u)){delete e[a],r.pop();continue}if(ne(c)){is(c,t,r,n),r.pop();continue}if(Array.isArray(c)){let l=u;if((null==u?void 0:u.oneOf)!==void 0&&u.oneOf.forEach((e,t)=>{var r,n;Array.isArray(null==u?void 0:u.items)||("object"!=typeof c[0]||(null===(r=null==e?void 0:e.items)||void 0===r?void 0:r.type)!=="object")&&("string"!=typeof c[0]||(null===(n=null==e?void 0:e.items)||void 0===n?void 0:n.type)==="object")||(l=e,o.push([a,t]))}),r9(null==l?void 0:l.items)){delete e[a],r.pop();continue}if(ne(l.items)&&!r9(l.items.format)){for(let t=0;t<c.length;t+=1)e[a][t]=ii(c[t],null===(i=null==l?void 0:l.items)||void 0===i?void 0:i.format,n);r.pop();continue}if(!Array.isArray(null==l?void 0:l.items)&&(null===(s=null==l?void 0:l.items)||void 0===s?void 0:s.type)==="object"){for(let e of c)is(e,t,r,n,o);r.pop();continue}if(Array.isArray(null==l?void 0:l.items)){for(let t=0;t<c.length;t+=1)e[a][t]=ii(c[t],l.items[t].format,n);r.pop();continue}}e[a]=ii(c,u.format,n),r.pop()}return e},io=(e,t,r)=>{let n;n=ne(t)?n3({},t):Array.isArray(t)?[...t]:t;let i=ne(e)?e:rP(e);if(!i.properties&&!i.items&&!i.format)throw new ea("Invalid json schema for formatting");return is(n,i,[],r)},ia="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",ic=e=>{let t=np(rp(rF("string"==typeof e?e.startsWith("0x")&&rE(e)?nm(e):tJ(e):e)));return t===ia?void 0:t},iu=e=>{let t=ic(e);return r9(t)?ia:t},il=e=>np(rp(rF("bigint"==typeof e||"number"==typeof e?tJ(e.toString()):Array.isArray(e)?new Uint8Array(e):"string"!=typeof e||rE(e)?nh(e):tJ(e)))),id=e=>{let t,r;if(Array.isArray(e))throw Error("Autodetection of array types is not supported.");if("object"==typeof e&&("t"in e||"type"in e)&&("v"in e||"value"in e))t="t"in e?e.t:e.type,r="v"in e?e.v:e.value,t="bigint"===t.toLowerCase()?"int":t;else{if("bigint"==typeof e)return["int",e];t=nN(e,!0),r=nN(e),t.startsWith("int")||t.startsWith("uint")||(t="bytes")}return(t.startsWith("int")||t.startsWith("uint"))&&"string"==typeof r&&!/^(-)?0x/i.test(r)&&(r=nM(r)),[t,r]},ih=e=>e.startsWith("int[")?"int256".concat(e.slice(3)):"int"===e?"int256":e.startsWith("uint[")?"uint256'".concat(e.slice(4)):"uint"===e?"uint256":e,ip=(e,t)=>{let r=/^(\d+).*$/.exec(e.slice(t));return r?parseInt(r[1],10):0},im=e=>e.toString(2).length,ig=(e,t)=>{let r=t.toString();if("string"===e){if("string"==typeof t)return nE(t);throw new e6(t)}if("bool"===e||"boolean"===e){if("boolean"==typeof t)return t?"01":"00";throw new e9(t)}if("address"===e){if(!rK(r))throw new e4(r);return r}let n=ih(e);if(e.startsWith("uint")){let e=ip(n,4);if(e%8||e<8||e>256)throw new tt(r);let t=nC(r);if(im(t)>e)throw new tr(r);if(t<BigInt(0))throw new te(r);return e?n5(t.toString(16),e/8*2):t.toString(16)}if(e.startsWith("int")){let t=ip(n,3);if(t%8||t<8||t>256)throw new tt(e);let i=nC(r);if(im(i)>t)throw new tr(r);return i<BigInt(0)?n7(i.toString(),t/8*2):t?n5(i.toString(16),t/4):i.toString(16)}if("bytes"===n){if(r.replace(/^0x/i,"").length%2!=0)throw new e2(r);return r}if(e.startsWith("bytes")){if(r.replace(/^0x/i,"").length%2!=0)throw new e2(r);let t=ip(e,5);if(!t||t<1||t>64||t<r.replace(/^0x/i,"").length/2)throw new e2(r);return n8(r,2*t)}return""},iv=e=>{let[t,r]=id(e);return Array.isArray(r)?r.map(e=>ig(t,e).replace("0x","")).join(""):ig(t,r).replace("0x","")},ib=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let n=t.map(iv);return"0x".concat(n.join("").toLowerCase())},iy=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return ic(ib(...t))},iw=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return iu(ib(...t))},iE=e=>ic("0x".concat(("number"==typeof e?e.toString():e).padStart(64,"0"))),i_=e=>t1(e),iS=e=>np(i_(e));var iA=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};function iT(e){return("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}function ix(e,t,r){return iA(this,void 0,void 0,function*(){let n;let i=yield Promise.race([e instanceof Promise?e:e(),new Promise((e,i)=>{n=setTimeout(()=>r?i(r):e(void 0),t)})]);if(n&&clearTimeout(n),i instanceof Error)throw i;return i})}function iI(e,t){let r;return[new Promise((n,i)=>{r=setInterval(function s(){return iA(this,void 0,void 0,function*(){try{let i=yield ix(e,t);r9(i)||(clearInterval(r),n(i))}catch(e){clearInterval(r),i(e)}}),s}(),t)}),r]}function iR(e,t){return iA(this,void 0,void 0,function*(){return iI(e,t)[0]})}function iO(e,t){let r;let n=new Promise((n,i)=>{r=setTimeout(()=>{i(t)},e)});return[r,n]}function iP(e,t){let r;let n=new Promise((n,i)=>{r=setInterval(()=>{iA(this,void 0,void 0,function*(){let t=yield e();t&&(clearInterval(r),i(t))})},t)});return[r,n]}let ik=()=>{let e=i_(16);e[6]=15&e[6]|64,e[8]=63&e[8]|128;let t=np(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")},iN=e=>{let t=e.error.code;return tx.has(t)||t>=-32099&&t<=-32e3},iC=e=>!Array.isArray(e)&&!!e&&"2.0"===e.jsonrpc&&"result"in e&&r9(e.error)&&("number"==typeof e.id||"string"==typeof e.id),iM=e=>!Array.isArray(e)&&"2.0"===e.jsonrpc&&!!e&&r9(e.result)&&"error"in e&&("number"==typeof e.id||"string"==typeof e.id),iL=e=>!Array.isArray(e)&&!!e&&"2.0"===e.jsonrpc&&!r9(e.params)&&!r9(e.method),iB=e=>!Array.isArray(e)&&!!e&&"2.0"===e.jsonrpc&&"id"in e&&"result"in e,iD=e=>iC(e)||iM(e),iU=e=>Array.isArray(e)?e.every(iD):iD(e),iH=e=>Array.isArray(e)&&e.length>0&&iU(e),ij=e=>{i=e},iF=e=>{var t,r,n,s;return void 0!==i&&(i+=1),{jsonrpc:null!==(t=e.jsonrpc)&&void 0!==t?t:"2.0",id:null!==(n=null!==(r=e.id)&&void 0!==r?r:i)&&void 0!==n?n:ik(),method:e.method,params:null!==(s=e.params)&&void 0!==s?s:void 0}},iq=e=>e.map(e=>iF(e)),iG=e=>Array.isArray(e)&&e.length>0;var iz=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};class iK{get state(){return this._state}then(e,t){return iz(this,void 0,void 0,function*(){return this._promise.then(e,t)})}catch(e){return iz(this,void 0,void 0,function*(){return this._promise.catch(e)})}finally(e){return iz(this,void 0,void 0,function*(){return this._promise.finally(e)})}resolve(e){this._resolve(e),this._state="fulfilled",this._clearTimeout()}reject(e){this._reject(e),this._state="rejected",this._clearTimeout()}startTimer(){this._timeoutInterval&&this._timeoutInterval>0&&(this._timeoutId=setTimeout(this._checkTimeout.bind(this),this._timeoutInterval))}_checkTimeout(){"pending"===this._state&&this._timeoutId&&this.reject(new eu(this._timeoutMessage))}_clearTimeout(){this._timeoutId&&clearTimeout(this._timeoutId)}constructor({timeout:e,eagerStart:t,timeoutMessage:r}={timeout:0,eagerStart:!1,timeoutMessage:"DeferredPromise timed out"}){this[E]="Promise",this._state="pending",this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t}),this._timeoutMessage=r,this._timeoutInterval=e,t&&this.startTimer()}}E=Symbol.toStringTag;class iW{clearQueues(){"function"==typeof this._clearQueues&&this._clearQueues()}onError(e){this._clearQueues=e}parseResponse(e){let t=[];return e.replace(/\}[\n\r]?\{/g,"}|--|{").replace(/\}\][\n\r]?\[\{/g,"}]|--|[{").replace(/\}[\n\r]?\[\{/g,"}|--|[{").replace(/\}\][\n\r]?\{/g,"}]|--|{").split("|--|").forEach(e=>{let r,n=e;this.lastChunk&&(n=this.lastChunk+n);try{r=JSON.parse(n)}catch(e){this.lastChunk=n,this.lastChunkTimeout&&clearTimeout(this.lastChunkTimeout),this.lastChunkTimeout=setTimeout(()=>{this.autoReconnect||(this.clearQueues(),this.eventEmitter.emit("error",new ta({id:1,jsonrpc:"2.0",error:{code:2,message:"Chunk timeout"}})))},this.chunkTimout);return}clearTimeout(this.lastChunkTimeout),this.lastChunk=void 0,r&&t.push(r)}),t}constructor(e,t){this.eventEmitter=e,this.autoReconnect=t,this.chunkTimout=15e3}}var iV=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};class iJ extends rX{_getChainId(){var e;return iV(this,void 0,void 0,function*(){let t=yield this.request(iF({method:"eth_chainId",params:[]}));return null!==(e=null==t?void 0:t.result)&&void 0!==e?e:""})}_getAccounts(){var e;return iV(this,void 0,void 0,function*(){let t=yield this.request(iF({method:"eth_accounts",params:[]}));return null!==(e=null==t?void 0:t.result)&&void 0!==e?e:[]})}_onConnect(){Promise.all([this._getChainId().then(e=>{e!==this._chainId&&(this._chainId=e,this._eventEmitter.emit("chainChanged",this._chainId))}).catch(e=>{console.error(e)}),this._getAccounts().then(e=>{this._accounts.length===e.length&&e.every(t=>e.includes(t))||(this._accounts=e,this._onAccountsChanged())}).catch(e=>{console.error(e)})]).then(()=>this._eventEmitter.emit("connect",{chainId:this._chainId})).catch(e=>{console.error(e)})}_onDisconnect(e,t){this._eventEmitter.emit("disconnect",new tf(e,t))}_onAccountsChanged(){this._eventEmitter.emit("accountsChanged",this._accounts)}constructor(){super(...arguments),this._eventEmitter=new nH.EventEmitter,this._chainId="",this._accounts=[]}}var iZ=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};let iQ={autoReconnect:!0,delay:5e3,maxAttempts:5};class iX extends iJ{get SocketConnection(){return this._socketConnection}_init(){this._reconnectAttempts=0}connect(){try{this._openSocketConnection(),this._connectionStatus="connecting",this._addSocketListeners()}catch(e){if(this.isReconnecting)setImmediate(()=>{this._reconnect()});else{if(this._connectionStatus="disconnected",e&&e.message)throw new J("Error while connecting to ".concat(this._socketPath,". Reason: ").concat(e.message));throw new ep(this._socketPath)}}}_validateProviderPath(e){return!!e}getPendingRequestQueueSize(){return this._pendingRequestsQueue.size}getSentRequestsQueueSize(){return this._sentRequestsQueue.size}supportsSubscriptions(){return!0}on(e,t){this._eventEmitter.on(e,t)}once(e,t){this._eventEmitter.once(e,t)}removeListener(e,t){this._eventEmitter.removeListener(e,t)}_onDisconnect(e,t){this._connectionStatus="disconnected",super._onDisconnect(e,t)}disconnect(e,t){let r=null!=e?e:1e3;this._removeSocketListeners(),"disconnected"!==this.getStatus()&&this._closeSocketConnection(r,t),this._onDisconnect(r,t)}safeDisconnect(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3;return iZ(this,void 0,void 0,function*(){let i=0;yield iZ(this,void 0,void 0,function*(){return new Promise(e=>{let t=setInterval(()=>{r&&5===i&&this.clearQueues(),0===this.getPendingRequestQueueSize()&&0===this.getSentRequestsQueueSize()&&(clearInterval(t),e(!0)),i+=1},n)})}),this.disconnect(e,t)})}removeAllListeners(e){this._eventEmitter.removeAllListeners(e)}_onError(e){this.isReconnecting?this._reconnect():this._eventEmitter.emit("error",e)}reset(){this._sentRequestsQueue.clear(),this._pendingRequestsQueue.clear(),this._init(),this._removeSocketListeners(),this._addSocketListeners()}_reconnect(){this.isReconnecting||(this.isReconnecting=!0,this._sentRequestsQueue.size>0&&this._sentRequestsQueue.forEach((e,t)=>{e.deferredPromise.reject(new X),this._sentRequestsQueue.delete(t)}),this._reconnectAttempts<this._reconnectOptions.maxAttempts?(this._reconnectAttempts+=1,setTimeout(()=>{this._removeSocketListeners(),this.connect(),this.isReconnecting=!1},this._reconnectOptions.delay)):(this.isReconnecting=!1,this._clearQueues(),this._removeSocketListeners(),this._eventEmitter.emit("error",new Q(this._reconnectOptions.maxAttempts))))}request(e){return iZ(this,void 0,void 0,function*(){if(n1(this._socketConnection))throw Error("Connection is undefined");"disconnected"===this.getStatus()&&this.connect();let t=iG(e)?e[0].id:e.id;if(!t)throw new eg("Request Id not defined");if(this._sentRequestsQueue.has(t))throw new Y(t);let r=new iK;r.catch(e=>{this._eventEmitter.emit("error",e)});let n={payload:e,deferredPromise:r};if("connecting"===this.getStatus())return this._pendingRequestsQueue.set(t,n),n.deferredPromise;this._sentRequestsQueue.set(t,n);try{this._sendToSocket(n.payload)}catch(e){this._sentRequestsQueue.delete(t),this._eventEmitter.emit("error",e)}return r})}_onConnect(){this._connectionStatus="connected",this._reconnectAttempts=0,super._onConnect(),this._sendPendingRequests()}_sendPendingRequests(){for(let[e,t]of this._pendingRequestsQueue.entries())this._sendToSocket(t.payload),this._pendingRequestsQueue.delete(e),this._sentRequestsQueue.set(e,t)}_onMessage(e){let t=this._parseResponses(e);if(!n1(t)&&0!==t.length)for(let e of t){if(iL(e)&&e.method.endsWith("_subscription")){this._eventEmitter.emit("message",e);return}let t=iH(e)?e[0].id:e.id,r=this._sentRequestsQueue.get(t);if(!r)return;(iH(e)||iC(e)||iM(e))&&(this._eventEmitter.emit("message",e),r.deferredPromise.resolve(e)),this._sentRequestsQueue.delete(t)}}clearQueues(e){this._clearQueues(e)}_clearQueues(e){this._pendingRequestsQueue.size>0&&this._pendingRequestsQueue.forEach((t,r)=>{t.deferredPromise.reject(new Z(e)),this._pendingRequestsQueue.delete(r)}),this._sentRequestsQueue.size>0&&this._sentRequestsQueue.forEach((t,r)=>{t.deferredPromise.reject(new Z(e)),this._sentRequestsQueue.delete(r)}),this._removeSocketListeners()}constructor(e,t,r){if(super(),this._connectionStatus="connecting",this._onMessageHandler=this._onMessage.bind(this),this._onOpenHandler=this._onConnect.bind(this),this._onCloseHandler=this._onCloseEvent.bind(this),this._onErrorHandler=this._onError.bind(this),!this._validateProviderPath(e))throw new ep(e);this._socketPath=e,this._socketOptions=t,this._reconnectOptions=Object.assign(Object.assign({},iQ),null!=r?r:{}),this._pendingRequestsQueue=new Map,this._sentRequestsQueue=new Map,this._init(),this.connect(),this.chunkResponseParser=new iW(this._eventEmitter,this._reconnectOptions.autoReconnect),this.chunkResponseParser.onError(()=>{this._clearQueues()}),this.isReconnecting=!1}}class iY{on(e,t){this._emitter.on(e,t)}once(e,t){this._emitter.once(e,t)}off(e,t){this._emitter.off(e,t)}emit(e,t){this._emitter.emit(e,t)}listenerCount(e){return this._emitter.listenerCount(e)}listeners(e){return this._emitter.listeners(e)}eventNames(){return this._emitter.eventNames()}removeAllListeners(){return this._emitter.removeAllListeners()}setMaxListenerWarningThreshold(e){this._emitter.setMaxListeners(e)}getMaxListeners(){return this._emitter.getMaxListeners()}constructor(){this._emitter=new nq}}(_||(_={})).CONFIG_CHANGE="CONFIG_CHANGE";class i$ extends iY{setConfig(e){for(let t of Object.keys(e))this._triggerConfigChange(t,e[t]);Object.assign(this.config,e)}get handleRevert(){return this.config.handleRevert}set handleRevert(e){this._triggerConfigChange("handleRevert",e),this.config.handleRevert=e}get contractDataInputFill(){return this.config.contractDataInputFill}set contractDataInputFill(e){this._triggerConfigChange("contractDataInputFill",e),this.config.contractDataInputFill=e}get defaultAccount(){return this.config.defaultAccount}set defaultAccount(e){this._triggerConfigChange("defaultAccount",e),this.config.defaultAccount=e}get defaultBlock(){return this.config.defaultBlock}set defaultBlock(e){this._triggerConfigChange("defaultBlock",e),this.config.defaultBlock=e}get transactionSendTimeout(){return this.config.transactionSendTimeout}set transactionSendTimeout(e){this._triggerConfigChange("transactionSendTimeout",e),this.config.transactionSendTimeout=e}get transactionBlockTimeout(){return this.config.transactionBlockTimeout}set transactionBlockTimeout(e){this._triggerConfigChange("transactionBlockTimeout",e),this.config.transactionBlockTimeout=e}get transactionConfirmationBlocks(){return this.config.transactionConfirmationBlocks}set transactionConfirmationBlocks(e){this._triggerConfigChange("transactionConfirmationBlocks",e),this.config.transactionConfirmationBlocks=e}get transactionPollingInterval(){return this.config.transactionPollingInterval}set transactionPollingInterval(e){this._triggerConfigChange("transactionPollingInterval",e),this.config.transactionPollingInterval=e,this.transactionReceiptPollingInterval=e,this.transactionConfirmationPollingInterval=e}get transactionPollingTimeout(){return this.config.transactionPollingTimeout}set transactionPollingTimeout(e){this._triggerConfigChange("transactionPollingTimeout",e),this.config.transactionPollingTimeout=e}get transactionReceiptPollingInterval(){return this.config.transactionReceiptPollingInterval}set transactionReceiptPollingInterval(e){this._triggerConfigChange("transactionReceiptPollingInterval",e),this.config.transactionReceiptPollingInterval=e}get transactionConfirmationPollingInterval(){return this.config.transactionConfirmationPollingInterval}set transactionConfirmationPollingInterval(e){this._triggerConfigChange("transactionConfirmationPollingInterval",e),this.config.transactionConfirmationPollingInterval=e}get blockHeaderTimeout(){return this.config.blockHeaderTimeout}set blockHeaderTimeout(e){this._triggerConfigChange("blockHeaderTimeout",e),this.config.blockHeaderTimeout=e}get enableExperimentalFeatures(){return this.config.enableExperimentalFeatures}set enableExperimentalFeatures(e){this._triggerConfigChange("enableExperimentalFeatures",e),this.config.enableExperimentalFeatures=e}get maxListenersWarningThreshold(){return this.config.maxListenersWarningThreshold}set maxListenersWarningThreshold(e){this._triggerConfigChange("maxListenersWarningThreshold",e),this.setMaxListenerWarningThreshold(e),this.config.maxListenersWarningThreshold=e}get defaultNetworkId(){return this.config.defaultNetworkId}set defaultNetworkId(e){this._triggerConfigChange("defaultNetworkId",e),this.config.defaultNetworkId=e}get defaultChain(){return this.config.defaultChain}set defaultChain(e){if(!n1(this.config.defaultCommon)&&!n1(this.config.defaultCommon.baseChain)&&e!==this.config.defaultCommon.baseChain)throw new tu(this.config.defaultChain,e);this._triggerConfigChange("defaultChain",e),this.config.defaultChain=e}get defaultHardfork(){return this.config.defaultHardfork}set defaultHardfork(e){if(!n1(this.config.defaultCommon)&&!n1(this.config.defaultCommon.hardfork)&&e!==this.config.defaultCommon.hardfork)throw new tc(this.config.defaultCommon.hardfork,e);this._triggerConfigChange("defaultHardfork",e),this.config.defaultHardfork=e}get defaultCommon(){return this.config.defaultCommon}set defaultCommon(e){if(!n1(this.config.defaultHardfork)&&!n1(e)&&!n1(e.hardfork)&&this.config.defaultHardfork!==e.hardfork)throw new tc(this.config.defaultHardfork,e.hardfork);if(!n1(this.config.defaultChain)&&!n1(e)&&!n1(e.baseChain)&&this.config.defaultChain!==e.baseChain)throw new tu(this.config.defaultChain,e.baseChain);this._triggerConfigChange("defaultCommon",e),this.config.defaultCommon=e}get defaultTransactionType(){return this.config.defaultTransactionType}set defaultTransactionType(e){this._triggerConfigChange("defaultTransactionType",e),this.config.defaultTransactionType=e}get defaultMaxPriorityFeePerGas(){return this.config.defaultMaxPriorityFeePerGas}set defaultMaxPriorityFeePerGas(e){this._triggerConfigChange("defaultMaxPriorityFeePerGas",e),this.config.defaultMaxPriorityFeePerGas=e}get transactionBuilder(){return this.config.transactionBuilder}set transactionBuilder(e){this._triggerConfigChange("transactionBuilder",e),this.config.transactionBuilder=e}get transactionTypeParser(){return this.config.transactionTypeParser}set transactionTypeParser(e){this._triggerConfigChange("transactionTypeParser",e),this.config.transactionTypeParser=e}_triggerConfigChange(e,t){this.emit(_.CONFIG_CHANGE,{name:e,oldValue:this.config[e],newValue:t})}constructor(e){super(),this.config={handleRevert:!1,defaultAccount:void 0,defaultBlock:"latest",transactionBlockTimeout:50,transactionConfirmationBlocks:24,transactionPollingInterval:1e3,transactionPollingTimeout:75e4,transactionReceiptPollingInterval:void 0,transactionSendTimeout:75e4,transactionConfirmationPollingInterval:void 0,blockHeaderTimeout:10,maxListenersWarningThreshold:100,contractDataInputFill:"data",defaultNetworkId:void 0,defaultChain:"mainnet",defaultHardfork:"london",defaultCommon:void 0,defaultTransactionType:"0x2",defaultMaxPriorityFeePerGas:nN(25e8),enableExperimentalFeatures:{useSubscriptionWhenCheckingBlockTimeout:!1,useRpcCallSpecification:!1},transactionBuilder:void 0,transactionTypeParser:void 0},this.setConfig(null!=e?e:{})}}var i0=r(39152);class i1 extends rX{static validateClientUrl(e){return"string"==typeof e&&/^http(s)?:\/\//i.test(e)}getStatus(){throw new ec}supportsSubscriptions(){return!1}request(e,t){var r,n,i,s,o;return n=this,i=void 0,s=void 0,o=function*(){let n=Object.assign(Object.assign({},null===(r=this.httpProviderOptions)||void 0===r?void 0:r.providerOptions),t),i=yield i0(this.clientUrl,Object.assign(Object.assign({},n),{method:"POST",headers:Object.assign(Object.assign({},n.headers),{"Content-Type":"application/json"}),body:JSON.stringify(e)}));if(!i.ok)throw new to((yield i.json()));return yield i.json()},new(s||(s=Promise))(function(e,t){function r(e){try{c(o.next(e))}catch(e){t(e)}}function a(e){try{c(o.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):((n=t.value)instanceof s?n:new s(function(e){e(n)})).then(r,a)}c((o=o.apply(n,i||[])).next())})}on(){throw new ec}removeListener(){throw new ec}once(){throw new ec}removeAllListeners(){throw new ec}connect(){throw new ec}disconnect(){throw new ec}reset(){throw new ec}reconnect(){throw new ec}constructor(e,t){if(super(),!i1.validateClientUrl(e))throw new ep(e);this.clientUrl=e,this.httpProviderOptions=t}}var i2=null,i3="undefined"!=typeof WebSocket?WebSocket:"undefined"!=typeof MozWebSocket?MozWebSocket:void 0!==r.g?r.g.WebSocket||r.g.MozWebSocket:window.WebSocket||window.MozWebSocket;class i4 extends iX{_validateProviderPath(e){return"string"==typeof e&&/^ws(s)?:\/\//i.test(e)}getStatus(){if(this._socketConnection&&!n1(this._socketConnection))switch(this._socketConnection.readyState){case this._socketConnection.CONNECTING:return"connecting";case this._socketConnection.OPEN:return"connected"}return"disconnected"}_openSocketConnection(){this._socketConnection=new i3(this._socketPath,void 0,this._socketOptions&&0===Object.keys(this._socketOptions).length?void 0:this._socketOptions)}_closeSocketConnection(e,t){var r;null===(r=this._socketConnection)||void 0===r||r.close(e,t)}_sendToSocket(e){var t;if("disconnected"===this.getStatus())throw new Z;null===(t=this._socketConnection)||void 0===t||t.send(JSON.stringify(e))}_parseResponses(e){return this.chunkResponseParser.parseResponse(e.data)}_addSocketListeners(){var e,t,r,n;null===(e=this._socketConnection)||void 0===e||e.addEventListener("open",this._onOpenHandler),null===(t=this._socketConnection)||void 0===t||t.addEventListener("message",this._onMessageHandler),null===(r=this._socketConnection)||void 0===r||r.addEventListener("close",e=>this._onCloseHandler(e)),null===(n=this._socketConnection)||void 0===n||n.addEventListener("error",this._onErrorHandler)}_removeSocketListeners(){var e,t,r;null===(e=this._socketConnection)||void 0===e||e.removeEventListener("message",this._onMessageHandler),null===(t=this._socketConnection)||void 0===t||t.removeEventListener("open",this._onOpenHandler),null===(r=this._socketConnection)||void 0===r||r.removeEventListener("close",this._onCloseHandler)}_onCloseEvent(e){var t;if(this._reconnectOptions.autoReconnect&&(![1e3,1001].includes(e.code)||!e.wasClean)){this._reconnect();return}this._clearQueues(e),this._removeSocketListeners(),this._onDisconnect(e.code,e.reason),null===(t=this._socketConnection)||void 0===t||t.removeEventListener("error",this._onErrorHandler)}constructor(e,t,r){super(e,t,r)}}let i6=e=>rX.isWeb3Provider(e),i8=e=>"string"!=typeof e&&"request"in e&&"Function"===e.request.constructor.name,i5=e=>"string"!=typeof e&&"request"in e&&"AsyncFunction"===e.request.constructor.name,i7=e=>"string"!=typeof e&&"send"in e,i9=e=>"string"!=typeof e&&"sendAsync"in e,se=e=>e&&(i6(e)||i5(e)||i8(e)||i9(e)||i7(e)),st=e=>e&&"supportsSubscriptions"in e?e.supportsSubscriptions():!!e&&"string"!=typeof e&&"on"in e;var sr=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};(u=S||(S={})).PROVIDER_CHANGED="PROVIDER_CHANGED",u.BEFORE_PROVIDER_CHANGE="BEFORE_PROVIDER_CHANGE";let sn={HttpProvider:i1,WebsocketProvider:i4};class si extends iY{static get providers(){return sn}get provider(){return this._provider}get providers(){return sn}setProvider(e){let t;if(e&&"string"==typeof e&&this.providers){if(/^http(s)?:\/\//i.test(e))t=new this.providers.HttpProvider(e);else if(/^ws(s)?:\/\//i.test(e))t=new this.providers.WebsocketProvider(e);else throw new ef("Can't autodetect provider for \"".concat(e,'"'))}else t=n1(e)?void 0:e;return this.emit(S.BEFORE_PROVIDER_CHANGE,this._provider),this._provider=t,this.emit(S.PROVIDER_CHANGED,this._provider),!0}send(e){return sr(this,void 0,void 0,function*(){let t=yield this._sendRequest(e);if(iC(t))return t.result;throw new to(t)})}sendBatch(e){return sr(this,void 0,void 0,function*(){return yield this._sendRequest(e)})}_sendRequest(e){return sr(this,void 0,void 0,function*(){let{provider:t}=this;if(n1(t))throw new ef("Provider not available. Use `.setProvider` or `.provider=` to initialize the provider.");let r=iG(e)?iq(e):iF(e);if(i6(t)){let e;try{e=yield t.request(r)}catch(t){e=t}return this._processJsonRpcResponse(r,e,{legacy:!1,error:!1})}if(i5(t))return t.request(r).then(e=>this._processJsonRpcResponse(r,e,{legacy:!0,error:!1})).catch(e=>this._processJsonRpcResponse(r,e,{legacy:!0,error:!0}));if(i8(t))return new Promise((e,n)=>{let i=e=>n(this._processJsonRpcResponse(r,e,{legacy:!0,error:!0})),s=t=>e(this._processJsonRpcResponse(r,t,{legacy:!0,error:!1})),o=t.request(r,(e,t)=>e?i(e):s(t));iT(o)&&o.then(s).catch(i)});if(i7(t))return new Promise((e,n)=>{t.send(r,(t,i)=>{if(t)return n(this._processJsonRpcResponse(r,t,{legacy:!0,error:!0}));if(n1(i))throw new to("",'Got a "nullish" response from provider.');return e(this._processJsonRpcResponse(r,i,{legacy:!0,error:!1}))})});if(i9(t))return t.sendAsync(r).then(e=>this._processJsonRpcResponse(r,e,{legacy:!0,error:!1})).catch(e=>this._processJsonRpcResponse(r,e,{legacy:!0,error:!0}));throw new ef("Provider does not have a request or send method to use.")})}_processJsonRpcResponse(e,t,r){let{legacy:n,error:i}=r;if(n1(t))return this._buildResponse(e,null,i);if(iM(t)){if(this.useRpcCallSpecification&&iN(t)){if(tx.get(t.error.code))throw new(tx.get(t.error.code)).error(t);throw new th(t)}if(!si._isReverted(t))throw new ta(t,e)}if(iC(t))return t;if(t instanceof Error)throw si._isReverted(t),t;if(!n&&iG(e)&&iH(t)||n&&!i&&iG(e))return t;if(n&&i&&iG(e))throw t;if(n&&!iM(t)&&!iC(t))return this._buildResponse(e,t,i);if(iG(e)&&!Array.isArray(t))throw new to(t,"Got normal response for a batch request.");if(!iG(e)&&Array.isArray(t))throw new to(t,"Got batch response for a normal request.");if((iM(t)||iC(t))&&!iG(e)&&t.id&&e.id!==t.id)throw new ta(t);throw new to(t,"Invalid response")}static _isReverted(e){let t;if(iM(e)?t=e.error:e instanceof Error&&(t=e),null==t?void 0:t.message.includes("revert"))throw new er(t);return!1}_buildResponse(e,t,r){let n={jsonrpc:"2.0",id:iG(e)?e[0].id:"id"in e?e.id:null};return r?Object.assign(Object.assign({},n),{error:t}):Object.assign(Object.assign({},n),{result:t})}constructor(e,t){super(),n1(e)||this.setProvider(e),this.useRpcCallSpecification=t}}var ss=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};class so{listenToProviderEvents(){let e=this.requestManager.provider;this.requestManager.provider&&("function"!=typeof(null==e?void 0:e.supportsSubscriptions)||(null==e?void 0:e.supportsSubscriptions()))&&"function"==typeof this.requestManager.provider.on&&("function"==typeof this.requestManager.provider.request?this.requestManager.provider.on("message",e=>this.messageListener(e)):e.on("data",e=>this.messageListener(e)))}messageListener(e){var t,r,n;if(!e)throw new em("Should not call messageListener with no data. Type was");let i=(null===(t=e.params)||void 0===t?void 0:t.subscription)||(null===(r=e.data)||void 0===r?void 0:r.subscription)||(null===(n=e.id)||void 0===n?void 0:n.toString(16));if(i){let t=this._subscriptions.get(i);null==t||t.processSubscriptionData(e)}}subscribe(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rW;return ss(this,void 0,void 0,function*(){let n=this.registeredSubscriptions[e];if(!n)throw new em("Invalid subscription type");let i=new n(null!=t?t:void 0,{subscriptionManager:this,returnFormat:r});return yield this.addSubscription(i),i})}get subscriptions(){return this._subscriptions}addSubscription(e){return ss(this,void 0,void 0,function*(){if(!this.requestManager.provider)throw new ef("Provider not available");if(!this.supportsSubscriptions())throw new em("The current provider does not support subscriptions");if(e.id&&this._subscriptions.has(e.id))throw new em('Subscription with id "'.concat(e.id,'" already exists'));if(yield e.sendSubscriptionRequest(),n1(e.id))throw new em("Subscription is not subscribed yet.");return this._subscriptions.set(e.id,e),e.id})}removeSubscription(e){return ss(this,void 0,void 0,function*(){let{id:t}=e;if(n1(t))throw new em("Subscription is not subscribed yet. Or, had already been unsubscribed but not through the Subscription Manager.");if(!this._subscriptions.has(t)&&!this.tolerateUnlinkedSubscription)throw new em('Subscription with id "'.concat(t.toString(),'" does not exists'));return yield e.sendUnsubscribeRequest(),this._subscriptions.delete(t),t})}unsubscribe(e){return ss(this,void 0,void 0,function*(){let t=[];for(let[r,n]of this.subscriptions.entries())(!e||"function"==typeof e&&e({id:r,sub:n}))&&t.push(this.removeSubscription(n));return Promise.all(t)})}clear(){this._subscriptions.clear()}supportsSubscriptions(){return!n1(this.requestManager.provider)&&st(this.requestManager.provider)}constructor(e,t,r=!1){this.requestManager=e,this.registeredSubscriptions=t,this.tolerateUnlinkedSubscription=r,this._subscriptions=new Map,this.requestManager.on(S.BEFORE_PROVIDER_CHANGE,()=>ss(this,void 0,void 0,function*(){yield this.unsubscribe()})),this.requestManager.on(S.PROVIDER_CHANGED,()=>{this.clear(),this.listenToProviderEvents()}),this.listenToProviderEvents()}}var sa=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};class sc extends iY{get id(){return this._id}get lastBlock(){return this._lastBlock}subscribe(){return sa(this,void 0,void 0,function*(){return this._subscriptionManager.addSubscription(this)})}processSubscriptionData(e){var t,r;(null==e?void 0:e.data)?this._processSubscriptionResult(null!==(r=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.result)&&void 0!==r?r:null==e?void 0:e.data):e&&iL(e)&&this._processSubscriptionResult(null==e?void 0:e.params.result)}sendSubscriptionRequest(){return sa(this,void 0,void 0,function*(){return this._id=yield this._subscriptionManager.requestManager.send({method:"eth_subscribe",params:this._buildSubscriptionParams()}),this.emit("connected",this._id),this._id})}get returnFormat(){return this._returnFormat}get subscriptionManager(){return this._subscriptionManager}resubscribe(){return sa(this,void 0,void 0,function*(){yield this.unsubscribe(),yield this.subscribe()})}unsubscribe(){return sa(this,void 0,void 0,function*(){this.id&&(yield this._subscriptionManager.removeSubscription(this))})}sendUnsubscribeRequest(){return sa(this,void 0,void 0,function*(){yield this._subscriptionManager.requestManager.send({method:"eth_unsubscribe",params:[this.id]}),this._id=void 0})}formatSubscriptionResult(e){return e}_processSubscriptionResult(e){this.emit("data",this.formatSubscriptionResult(e))}_processSubscriptionError(e){this.emit("error",e)}_buildSubscriptionParams(){throw Error("Implement in the child class")}constructor(e,t){var r;super(),this.args=e;let{requestManager:n}=t,{subscriptionManager:i}=t;if(n&&i)throw new em("Only requestManager or subscriptionManager should be provided at Subscription constructor");if(!n&&!i)throw new em("Either requestManager or subscriptionManager should be provided at Subscription constructor");n?this._subscriptionManager=new so(n,{},!0):this._subscriptionManager=i,this._returnFormat=null!==(r=null==t?void 0:t.returnFormat)&&void 0!==r?r:rW}}var su=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};class sl extends rY{static getStorage(){let e;try{e=window.localStorage;let t="__storage_test__";return e.setItem(t,t),e.removeItem(t),e}catch(t){return t&&(22===t.code||1014===t.code||"QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name)&&!r9(e)&&0!==e.length?e:void 0}}create(e){for(let t=0;t<e;t+=1)this.add(this._accountProvider.create());return this}add(e){var t;if("string"==typeof e)return this.add(this._accountProvider.privateKeyToAccount(e));let r=this.length;return this.get(e.address)&&(console.warn("Account ".concat(e.address.toLowerCase()," already exists.")),r=null!==(t=this._addressMap.get(e.address.toLowerCase()))&&void 0!==t?t:r),this._addressMap.set(e.address.toLowerCase(),r),this[r]=e,this}get(e){if("string"==typeof e){let t=this._addressMap.get(e.toLowerCase());return r9(t)?void 0:this[t]}return this[e]}remove(e){if("string"==typeof e){let t=this._addressMap.get(e.toLowerCase());return!r9(t)&&(this._addressMap.delete(e.toLowerCase()),this.splice(t,1),!0)}return!!this[e]&&(this.splice(e,1),!0)}clear(){return this._addressMap.clear(),this.length=0,this}encrypt(e,t){return su(this,void 0,void 0,function*(){return Promise.all(this.map(r=>su(this,void 0,void 0,function*(){return r.encrypt(e,t)})))})}decrypt(e,t,r){return su(this,void 0,void 0,function*(){for(let n of yield Promise.all(e.map(e=>su(this,void 0,void 0,function*(){return this._accountProvider.decrypt(e,t,r)}))))this.add(n);return this})}save(e,t){return su(this,void 0,void 0,function*(){let r=sl.getStorage();if(!r)throw Error("Local storage not available.");return r.setItem(null!=t?t:this._defaultKeyName,JSON.stringify((yield this.encrypt(e)))),!0})}load(e,t){return su(this,void 0,void 0,function*(){let r=sl.getStorage();if(!r)throw Error("Local storage not available.");let n=r.getItem(null!=t?t:this._defaultKeyName);return n&&(yield this.decrypt(JSON.parse(n)||[],e)),this})}constructor(){super(...arguments),this._addressMap=new Map,this._defaultKeyName="web3js_wallet"}}let sd={web:tG};function sh(e,t,r){if(!r.startsWith("aes-"))throw Error("AES submodule doesn't support mode ".concat(r));if(16!==t.length)throw Error("AES: wrong IV length");if(r.startsWith("aes-128")&&16!==e.length||r.startsWith("aes-256")&&32!==e.length)throw Error("AES: wrong key length")}async function sf(e,t,r){let n;if(!sd.web)throw Error("Browser crypto not available.");if(["aes-128-cbc","aes-256-cbc"].includes(e)&&(n="cbc"),["aes-128-ctr","aes-256-ctr"].includes(e)&&(n="ctr"),!n)throw Error("AES: unsupported mode");return[await sd.web.subtle.importKey("raw",t,{name:"AES-".concat(n.toUpperCase()),length:8*t.length},!0,["encrypt","decrypt"]),{name:"aes-".concat(n),iv:r,counter:r,length:128}]}async function sp(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"aes-128-ctr",i=!(arguments.length>4)||void 0===arguments[4]||arguments[4];if(sh(t,r,n),sd.web){let[s,o]=await sf(n,t,r),a=await sd.web.subtle.encrypt(o,s,e),c=new Uint8Array(a);return i||"aes-cbc"!==o.name||e.length%16||(c=c.slice(0,-16)),c}if(sd.node){let s=sd.node.createCipheriv(n,t,r);return s.setAutoPadding(i),tQ(s.update(e),s.final())}throw Error("The environment doesn't have AES module")}async function sm(e,t,r,n){let i=e.slice(-16);for(let e=0;e<16;e++)i[e]^=16^r[e];return(await sp(i,t,r,n)).slice(0,16)}async function sg(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"aes-128-ctr",i=!(arguments.length>4)||void 0===arguments[4]||arguments[4];if(sh(t,r,n),sd.web){let[s,o]=await sf(n,t,r);if(!i&&"aes-cbc"===o.name){let i=await sm(e,t,r,n);e=tQ(e,i)}let a=await sd.web.subtle.decrypt(o,s,e),c=new Uint8Array(a);if("aes-cbc"===o.name&&!function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(await sp(c,t,r,n),e))throw Error("AES: wrong padding");return c}if(sd.node){let s=sd.node.createDecipheriv(n,t,r);return s.setAutoPadding(i),tQ(s.update(e),s.final())}throw Error("The environment doesn't have AES module")}class sv extends tX{update(e){return tk(this),this.iHash.update(e),this}digestInto(e){tk(this),tO(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:o}=this;return e.finished=n,e.destroyed=i,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}constructor(e,t){super(),this.finished=!1,this.destroyed=!1,tP(e);let r=tZ(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i.fill(0)}}let sb=(e,t,r)=>new sv(e,t).update(r).digest();function sy(e,t,r,n){var i;let s;let{c:o,dkLen:a,DK:c,PRF:u,PRFSalt:l}=function(e,t,r,n){tP(e);let{c:i,dkLen:s,asyncTick:o}=t$({dkLen:32,asyncTick:10},n);if(tR(i),tR(s),tR(o),i<1)throw Error("PBKDF2: iterations (c) should be >= 1");let a=tZ(t),c=tZ(r),u=new Uint8Array(s),l=sb.create(e,a),d=l._cloneInto().update(c);return{c:i,dkLen:s,asyncTick:o,DK:u,PRF:l,PRFSalt:d}}(e,t,r,n),d=new Uint8Array(4),h=tW(d),f=new Uint8Array(u.outputLen);for(let e=1,t=0;t<a;e++,t+=u.outputLen){let r=c.subarray(t,t+u.outputLen);h.setInt32(0,e,!1),(s=l._cloneInto(s)).update(d).digestInto(f),r.set(f.subarray(0,r.length));for(let e=1;e<o;e++){u._cloneInto(s).update(f).digestInto(f);for(let e=0;e<r.length;e++)r[e]^=f[e]}}return i=s,u.destroy(),l.destroy(),i&&i.destroy(),f.fill(0),c}sb.create=(e,t)=>new sv(e,t);class sw extends tX{update(e){tk(this);let{view:t,buffer:r,blockLen:n}=this,i=(e=tZ(e)).length;for(let s=0;s<i;){let o=Math.min(n-this.pos,i-s);if(o===n){let t=tW(e);for(;n<=i-s;s+=n)this.process(t,s);continue}r.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){tk(this),tN(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:n,isLE:i}=this,{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>n-s&&(this.process(r,0),s=0);for(let e=s;e<n;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,u=n?0:4;e.setUint32(t+c,o,n),e.setUint32(t+u,a,n)}(r,n-8,BigInt(8*this.length),i),this.process(r,0);let o=tW(e),a=this.outputLen;if(a%4)throw Error("_sha2: outputLen should be aligned to 32bit");let c=a/4,u=this.get();if(c>u.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)o.setUint32(4*e,u[e],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:s,pos:o}=this;return e.length=n,e.pos=o,e.finished=i,e.destroyed=s,n%t&&e.buffer.set(r),e}constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=tW(this.buffer)}}let sE=(e,t,r)=>e&t^~e&r,s_=(e,t,r)=>e&t^e&r^t&r,sS=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),sA=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),sT=new Uint32Array(64);class sx extends sw{get(){let{A:e,B:t,C:r,D:n,E:i,F:s,G:o,H:a}=this;return[e,t,r,n,i,s,o,a]}set(e,t,r,n,i,s,o,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)sT[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=sT[e-15],r=sT[e-2],n=tV(t,7)^tV(t,18)^t>>>3,i=tV(r,17)^tV(r,19)^r>>>10;sT[e]=i+sT[e-7]+n+sT[e-16]|0}let{A:r,B:n,C:i,D:s,E:o,F:a,G:c,H:u}=this;for(let e=0;e<64;e++){let t=u+(tV(o,6)^tV(o,11)^tV(o,25))+sE(o,a,c)+sS[e]+sT[e]|0,l=(tV(r,2)^tV(r,13)^tV(r,22))+s_(r,n,i)|0;u=c,c=a,a=o,o=s+t|0,s=i,i=n,n=r,r=t+l|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,s=s+this.D|0,o=o+this.E|0,a=a+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,n,i,s,o,a,c,u)}roundClean(){sT.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}constructor(){super(64,32,8,!1),this.A=0|sA[0],this.B=0|sA[1],this.C=0|sA[2],this.D=0|sA[3],this.E=0|sA[4],this.F=0|sA[5],this.G=0|sA[6],this.H=0|sA[7]}}let sI=t0(()=>new sx),[sR,sO]=tq.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),sP=new Uint32Array(80),sk=new Uint32Array(80);class sN extends sw{get(){let{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:s,Dh:o,Dl:a,Eh:c,El:u,Fh:l,Fl:d,Gh:h,Gl:f,Hh:p,Hl:m}=this;return[e,t,r,n,i,s,o,a,c,u,l,d,h,f,p,m]}set(e,t,r,n,i,s,o,a,c,u,l,d,h,f,p,m){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|c,this.El=0|u,this.Fh=0|l,this.Fl=0|d,this.Gh=0|h,this.Gl=0|f,this.Hh=0|p,this.Hl=0|m}process(e,t){for(let r=0;r<16;r++,t+=4)sP[r]=e.getUint32(t),sk[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){let t=0|sP[e-15],r=0|sk[e-15],n=tq.rotrSH(t,r,1)^tq.rotrSH(t,r,8)^tq.shrSH(t,r,7),i=tq.rotrSL(t,r,1)^tq.rotrSL(t,r,8)^tq.shrSL(t,r,7),s=0|sP[e-2],o=0|sk[e-2],a=tq.rotrSH(s,o,19)^tq.rotrBH(s,o,61)^tq.shrSH(s,o,6),c=tq.rotrSL(s,o,19)^tq.rotrBL(s,o,61)^tq.shrSL(s,o,6),u=tq.add4L(i,c,sk[e-7],sk[e-16]),l=tq.add4H(u,n,a,sP[e-7],sP[e-16]);sP[e]=0|l,sk[e]=0|u}let{Ah:r,Al:n,Bh:i,Bl:s,Ch:o,Cl:a,Dh:c,Dl:u,Eh:l,El:d,Fh:h,Fl:f,Gh:p,Gl:m,Hh:g,Hl:v}=this;for(let e=0;e<80;e++){let t=tq.rotrSH(l,d,14)^tq.rotrSH(l,d,18)^tq.rotrBH(l,d,41),b=tq.rotrSL(l,d,14)^tq.rotrSL(l,d,18)^tq.rotrBL(l,d,41),y=l&h^~l&p,w=d&f^~d&m,E=tq.add5L(v,b,w,sO[e],sk[e]),_=tq.add5H(E,g,t,y,sR[e],sP[e]),S=0|E,A=tq.rotrSH(r,n,28)^tq.rotrBH(r,n,34)^tq.rotrBH(r,n,39),T=tq.rotrSL(r,n,28)^tq.rotrBL(r,n,34)^tq.rotrBL(r,n,39),x=r&i^r&o^i&o,I=n&s^n&a^s&a;g=0|p,v=0|m,p=0|h,m=0|f,h=0|l,f=0|d,({h:l,l:d}=tq.add(0|c,0|u,0|_,0|S)),c=0|o,u=0|a,o=0|i,a=0|s,i=0|r,s=0|n;let R=tq.add3L(S,T,I);r=tq.add3H(R,_,A,x),n=0|R}({h:r,l:n}=tq.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:s}=tq.add(0|this.Bh,0|this.Bl,0|i,0|s)),({h:o,l:a}=tq.add(0|this.Ch,0|this.Cl,0|o,0|a)),({h:c,l:u}=tq.add(0|this.Dh,0|this.Dl,0|c,0|u)),({h:l,l:d}=tq.add(0|this.Eh,0|this.El,0|l,0|d)),({h:h,l:f}=tq.add(0|this.Fh,0|this.Fl,0|h,0|f)),({h:p,l:m}=tq.add(0|this.Gh,0|this.Gl,0|p,0|m)),({h:g,l:v}=tq.add(0|this.Hh,0|this.Hl,0|g,0|v)),this.set(r,n,i,s,o,a,c,u,l,d,h,f,p,m,g,v)}roundClean(){sP.fill(0),sk.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}}let sC=t0(()=>new sN);function sM(e,t,r,n,i){if(!["sha256","sha512"].includes(i))throw Error("Only sha256 and sha512 are supported");return rd(e),rd(t),sy("sha256"===i?sI:sC,e,t,{c:r,dkLen:n})}let sL=(e,t)=>e<<t|e>>>32-t;function sB(e,t,r,n,i,s){let o=e[t++]^r[n++],a=e[t++]^r[n++],c=e[t++]^r[n++],u=e[t++]^r[n++],l=e[t++]^r[n++],d=e[t++]^r[n++],h=e[t++]^r[n++],f=e[t++]^r[n++],p=e[t++]^r[n++],m=e[t++]^r[n++],g=e[t++]^r[n++],v=e[t++]^r[n++],b=e[t++]^r[n++],y=e[t++]^r[n++],w=e[t++]^r[n++],E=e[t++]^r[n++],_=o,S=a,A=c,T=u,x=l,I=d,R=h,O=f,P=p,k=m,N=g,C=v,M=b,L=y,B=w,D=E;for(let e=0;e<8;e+=2)x^=sL(_+M|0,7),P^=sL(x+_|0,9),M^=sL(P+x|0,13),_^=sL(M+P|0,18),k^=sL(I+S|0,7),L^=sL(k+I|0,9),S^=sL(L+k|0,13),I^=sL(S+L|0,18),B^=sL(N+R|0,7),A^=sL(B+N|0,9),R^=sL(A+B|0,13),N^=sL(R+A|0,18),T^=sL(D+C|0,7),O^=sL(T+D|0,9),C^=sL(O+T|0,13),D^=sL(C+O|0,18),S^=sL(_+T|0,7),A^=sL(S+_|0,9),T^=sL(A+S|0,13),_^=sL(T+A|0,18),R^=sL(I+x|0,7),O^=sL(R+I|0,9),x^=sL(O+R|0,13),I^=sL(x+O|0,18),C^=sL(N+k|0,7),P^=sL(C+N|0,9),k^=sL(P+C|0,13),N^=sL(k+P|0,18),M^=sL(D+B|0,7),L^=sL(M+D|0,9),B^=sL(L+M|0,13),D^=sL(B+L|0,18);i[s++]=o+_|0,i[s++]=a+S|0,i[s++]=c+A|0,i[s++]=u+T|0,i[s++]=l+x|0,i[s++]=d+I|0,i[s++]=h+R|0,i[s++]=f+O|0,i[s++]=p+P|0,i[s++]=m+k|0,i[s++]=g+N|0,i[s++]=v+C|0,i[s++]=b+M|0,i[s++]=y+L|0,i[s++]=w+B|0,i[s++]=E+D|0}function sD(e,t,r,n,i){let s=n+0,o=n+16*i;for(let n=0;n<16;n++)r[o+n]=e[t+(2*i-1)*16+n];for(let n=0;n<i;n++,s+=16,t+=16)sB(r,o,e,t,r,s),n>0&&(o+=16),sB(r,s,e,t+=16,r,o)}function sU(e,t,r,n,i,s,o){return rd(e),rd(t),function(e,t,r){let{N:n,r:i,p:s,dkLen:o,blockSize32:a,V:c,B32:u,B:l,tmp:d,blockMixCb:h}=function(e,t,r){let{N:n,r:i,p:s,dkLen:o,asyncTick:a,maxmem:c,onProgress:u}=t$({dkLen:32,asyncTick:10,maxmem:1073742848},r);if(tR(n),tR(i),tR(s),tR(o),tR(a),tR(c),void 0!==u&&"function"!=typeof u)throw Error("progressCb should be function");let l=128*i,d=l/4;if(n<=1||(n&n-1)!=0||n>=2**(l/8)||n>4294967296)throw Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(s<0||s>(4294967296-1)*32/l)throw Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(o<0||o>(4294967296-1)*32)throw Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");let h=l*(n+s);if(h>c)throw Error("Scrypt: parameters too large, ".concat(h," (128 * r * (N + p)) > ").concat(c," (maxmem)"));let f=sy(sI,e,t,{c:1,dkLen:l*s}),p=tz(f),m=tz(new Uint8Array(l*n)),g=tz(new Uint8Array(l)),v=()=>{};if(u){let e=2*n*s,t=Math.max(Math.floor(e/1e4),1),r=0;v=()=>{r++,u&&(!(r%t)||r===e)&&u(r/e)}}return{N:n,r:i,p:s,dkLen:o,blockSize32:d,V:m,B32:p,B:f,tmp:g,blockMixCb:v,asyncTick:a}}(e,t,r);for(let e=0;e<s;e++){let t=a*e;for(let e=0;e<a;e++)c[e]=u[t+e];for(let e=0,t=0;e<n-1;e++)sD(c,t,c,t+=a,i),h();sD(c,(n-1)*a,u,t,i),h();for(let e=0;e<n;e++){let e=u[t+a-16]%n;for(let r=0;r<a;r++)d[r]=u[t+r]^c[e*a+r];sD(d,0,u,t,i),h()}}return function(e,t,r,n,i){let s=sy(sI,e,r,{c:1,dkLen:t});return r.fill(0),n.fill(0),i.fill(0),s}(e,o,l,c,d)}(e,t,{N:r,r:i,p:n,dkLen:s,onProgress:o})}BigInt(0);let sH=BigInt(1),sj=BigInt(2);function sF(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}let sq=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function sG(e){if(!sF(e))throw Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=sq[e[r]];return t}function sz(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":"0x".concat(e))}let sK={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function sW(e){return e>=sK._0&&e<=sK._9?e-sK._0:e>=sK._A&&e<=sK._F?e-(sK._A-10):e>=sK._a&&e<=sK._f?e-(sK._a-10):void 0}function sV(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw Error("padded hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=sW(e.charCodeAt(i)),s=sW(e.charCodeAt(i+1));if(void 0===r||void 0===s)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+s}return n}function sJ(e){return sz(sG(e))}function sZ(e){if(!sF(e))throw Error("Uint8Array expected");return sz(sG(Uint8Array.from(e).reverse()))}function sQ(e,t){return sV(e.toString(16).padStart(2*t,"0"))}function sX(e,t){return sQ(e,t).reverse()}function sY(e,t,r){let n;if("string"==typeof t)try{n=sV(t)}catch(r){throw Error("".concat(e,' must be valid hex string, got "').concat(t,'". Cause: ').concat(r))}else if(sF(t))n=Uint8Array.from(t);else throw Error("".concat(e," must be hex string or Uint8Array"));let i=n.length;if("number"==typeof r&&i!==r)throw Error("".concat(e," expected ").concat(r," bytes, got ").concat(i));return n}function s$(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let n=0;for(let e=0;e<t.length;e++){let r=t[e];if(!sF(r))throw Error("Uint8Array expected");n+=r.length}let i=new Uint8Array(n),s=0;for(let e=0;e<t.length;e++){let r=t[e];i.set(r,s),s+=r.length}return i}let s0=e=>(sj<<BigInt(e-1))-sH,s1=e=>new Uint8Array(e),s2=e=>Uint8Array.from(e);function s3(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let n=s1(e),i=s1(e),s=0,o=()=>{n.fill(1),i.fill(0),s=0},a=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return r(i,n,...t)},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s1();i=a(s2([0]),e),n=a(),0!==e.length&&(i=a(s2([1]),e),n=a())},u=()=>{if(s++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){let t=(n=a()).slice();r.push(t),e+=n.length}return s$(...r)};return(e,t)=>{let r;for(o(),c(e);!(r=t(u()));)c();return o(),r}}let s4={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||sF(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function s6(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=(t,r,n)=>{let i=s4[r];if("function"!=typeof i)throw Error('Invalid validator "'.concat(r,'", expected function'));let s=e[t];if((!n||void 0!==s)&&!i(s,e))throw Error("Invalid param ".concat(String(t),"=").concat(s," (").concat(typeof s,"), expected ").concat(r))};for(let[e,r]of Object.entries(t))n(e,r,!1);for(let[e,t]of Object.entries(r))n(e,t,!0);return e}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let s8=BigInt(0),s5=BigInt(1),s7=BigInt(2),s9=BigInt(3),oe=BigInt(4),ot=BigInt(5),or=BigInt(8);function on(e,t){let r=e%t;return r>=s8?r:t+r}function oi(e,t,r){let n=e;for(;t-- >s8;)n*=n,n%=r;return n}function os(e,t){if(e===s8||t<=s8)throw Error("invert: expected positive integers, got n=".concat(e," mod=").concat(t));let r=on(e,t),n=t,i=s8,s=s5,o=s5,a=s8;for(;r!==s8;){let e=n/r,t=n%r,c=i-o*e,u=s-a*e;n=r,r=t,i=o,s=a,o=c,a=u}if(n!==s5)throw Error("invert: does not exist");return on(i,t)}BigInt(9),BigInt(16);let oo=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function oa(e,t){let r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function oc(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function ou(e){let t=oc(e);return t+Math.ceil(t/2)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let ol=BigInt(0),od=BigInt(1);function oh(e){return s6(e.Fp,oo.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),s6(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...oa(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}let{bytesToNumberBE:of,hexToBytes:op}=L,om={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){let{Err:t}=om;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");let r=e[1],n=e.subarray(2,r+2);if(!r||n.length!==r)throw new t("Invalid signature integer: wrong length");if(128&n[0])throw new t("Invalid signature integer: negative");if(0===n[0]&&!(128&n[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:of(n),l:e.subarray(r+2)}},toSig(e){let{Err:t}=om,r="string"==typeof e?op(e):e;if(!sF(r))throw Error("ui8a expected");let n=r.length;if(n<2||48!=r[0])throw new t("Invalid signature tag");if(r[1]!==n-2)throw new t("Invalid signature: incorrect length");let{d:i,l:s}=om._parseInt(r.subarray(2)),{d:o,l:a}=om._parseInt(s);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(e){let t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,r=e=>{let t=e.toString(16);return 1&t.length?"0".concat(t):t},n=t(r(e.s)),i=t(r(e.r)),s=n.length/2,o=i.length/2,a=r(s),c=r(o);return"30".concat(r(o+s+4),"02").concat(c).concat(i,"02").concat(a).concat(n)}},og=BigInt(0),ov=BigInt(1),ob=(BigInt(2),BigInt(3));BigInt(4);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let oy=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ow=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),oE=BigInt(1),o_=BigInt(2),oS=(e,t)=>(e+t/o_)/t,oA=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e<=s8)throw Error("Expected Field ORDER > 0, got ".concat(e));let{nBitLength:i,nByteLength:s}=oa(e,t);if(s>2048)throw Error("Field lengths over 2048 bytes are not supported");let o=function(e){if(e%oe===s9){let t=(e+s5)/oe;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}if(e%or===ot){let t=(e-ot)/or;return function(e,r){let n=e.mul(r,s7),i=e.pow(n,t),s=e.mul(r,i),o=e.mul(e.mul(s,s7),i),a=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),r))throw Error("Cannot find square root");return a}}return function(e){let t,r,n;let i=(e-s5)/s7;for(t=e-s5,r=0;t%s7===s8;t/=s7,r++);for(n=s7;n<e&&function(e,t,r){if(r<=s8||t<s8)throw Error("Expected power/modulo > 0");if(r===s5)return s8;let n=s5;for(;t>s8;)t&s5&&(n=n*e%r),e=e*e%r,t>>=s5;return n}(n,i,e)!==e-s5;n++);if(1===r){let t=(e+s5)/oe;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}let s=(t+s5)/s7;return function(e,o){if(e.pow(o,i)===e.neg(e.ONE))throw Error("Cannot find square root");let a=r,c=e.pow(e.mul(e.ONE,n),t),u=e.pow(o,s),l=e.pow(o,t);for(;!e.eql(l,e.ONE);){if(e.eql(l,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(l);t<a&&!e.eql(r,e.ONE);t++)r=e.sqr(r);let r=e.pow(c,s5<<BigInt(a-t-1));c=e.sqr(r),u=e.mul(u,r),l=e.mul(l,c),a=t}return u}}(e)}(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:s,MASK:s0(i),ZERO:s8,ONE:s5,create:t=>on(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error("Invalid field element: expected bigint, got ".concat(typeof t));return s8<=t&&t<e},is0:e=>e===s8,isOdd:e=>(e&s5)===s5,neg:t=>on(-t,e),eql:(e,t)=>e===t,sqr:t=>on(t*t,e),add:(t,r)=>on(t+r,e),sub:(t,r)=>on(t-r,e),mul:(t,r)=>on(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<s8)throw Error("Expected power > 0");if(r===s8)return e.ONE;if(r===s5)return t;let n=e.ONE,i=t;for(;r>s8;)r&s5&&(n=e.mul(n,i)),i=e.sqr(i),r>>=s5;return n})(a,e,t),div:(t,r)=>on(t*os(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>os(t,e),sqrt:n.sqrt||(e=>o(a,e)),invertBatch:e=>(function(e,t){let r=Array(t.length),n=t.reduce((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n)),e.ONE),i=e.inv(n);return t.reduceRight((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n)),i),r})(a,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?sX(e,s):sQ(e,s),fromBytes:e=>{if(e.length!==s)throw Error("Fp.fromBytes: expected ".concat(s,", got ").concat(e.length));return r?sZ(e):sJ(e)}});return Object.freeze(a)}(oy,void 0,void 0,{sqrt:function(e){let t=BigInt(3),r=BigInt(6),n=BigInt(11),i=BigInt(22),s=BigInt(23),o=BigInt(44),a=BigInt(88),c=e*e*e%oy,u=c*c*e%oy,l=oi(u,t,oy)*u%oy,d=oi(l,t,oy)*u%oy,h=oi(d,o_,oy)*c%oy,f=oi(h,n,oy)*h%oy,p=oi(f,i,oy)*f%oy,m=oi(p,o,oy)*p%oy,g=oi(m,a,oy)*m%oy,v=oi(g,o,oy)*p%oy,b=oi(v,t,oy)*u%oy,y=oi(b,s,oy)*f%oy,w=oi(y,r,oy)*c%oy,E=oi(w,o_,oy);if(!oA.eql(oA.sqr(E),e))throw Error("Cannot find square root");return E}}),oT=function(e,t){let r=t=>(function(e){let t=function(e){let t=oh(e);return s6(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n:n}=t,i=r.BYTES+1,s=2*r.BYTES+1;function o(e){return on(e,n)}let{ProjectivePoint:a,normPrivateKeyToScalar:c,weierstrassEquation:u,isWithinCurveOrder:l}=function(e){let t=/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function(e){let t=oh(e);s6(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:r}=t,n=t.toBytes||((e,t,n)=>{let i=t.toAffine();return s$(Uint8Array.from([4]),r.toBytes(i.x),r.toBytes(i.y))}),i=t.fromBytes||(e=>{let t=e.subarray(1);return{x:r.fromBytes(t.subarray(0,r.BYTES)),y:r.fromBytes(t.subarray(r.BYTES,2*r.BYTES))}});function s(e){let{a:n,b:i}=t,s=r.sqr(e),o=r.mul(s,e);return r.add(r.add(o,r.mul(e,n)),i)}if(!r.eql(r.sqr(t.Gy),s(t.Gx)))throw Error("bad generator point: equation left != right");function o(e){return"bigint"==typeof e&&og<e&&e<t.n}function a(e){if(!o(e))throw Error("Expected valid bigint: 0 < bigint < curve.n")}function c(e){let r;let{allowedPrivateKeyLengths:n,nByteLength:i,wrapPrivateKey:s,n:o}=t;if(n&&"bigint"!=typeof e){if(sF(e)&&(e=sG(e)),"string"!=typeof e||!n.includes(e.length))throw Error("Invalid key");e=e.padStart(2*i,"0")}try{r="bigint"==typeof e?e:sJ(sY("private key",e,i))}catch(t){throw Error("private key must be ".concat(i," bytes, hex or bigint, not ").concat(typeof e))}return s&&(r=on(r,o)),a(r),r}let u=new Map;function l(e){if(!(e instanceof d))throw Error("ProjectivePoint expected")}class d{static fromAffine(e){let{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw Error("invalid affine point");if(e instanceof d)throw Error("projective point not allowed");let i=e=>r.eql(e,r.ZERO);return i(t)&&i(n)?d.ZERO:new d(t,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){let t=r.invertBatch(e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(d.fromAffine)}static fromHex(e){let t=d.fromAffine(i(sY("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return d.BASE.multiply(c(e))}_setWindowSize(e){this._WINDOW_SIZE=e,u.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!r.is0(this.py))return;throw Error("bad point: ZERO")}let{x:e,y:n}=this.toAffine();if(!r.isValid(e)||!r.isValid(n))throw Error("bad point: x or y not FE");let i=r.sqr(n),o=s(e);if(!r.eql(i,o))throw Error("bad point: equation left != right");if(!this.isTorsionFree())throw Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:e}=this.toAffine();if(r.isOdd)return!r.isOdd(e);throw Error("Field doesn't support isOdd")}equals(e){l(e);let{px:t,py:n,pz:i}=this,{px:s,py:o,pz:a}=e,c=r.eql(r.mul(t,a),r.mul(s,i)),u=r.eql(r.mul(n,a),r.mul(o,i));return c&&u}negate(){return new d(this.px,r.neg(this.py),this.pz)}double(){let{a:e,b:n}=t,i=r.mul(n,ob),{px:s,py:o,pz:a}=this,c=r.ZERO,u=r.ZERO,l=r.ZERO,h=r.mul(s,s),f=r.mul(o,o),p=r.mul(a,a),m=r.mul(s,o);return m=r.add(m,m),l=r.mul(s,a),l=r.add(l,l),c=r.mul(e,l),u=r.mul(i,p),u=r.add(c,u),c=r.sub(f,u),u=r.add(f,u),u=r.mul(c,u),c=r.mul(m,c),l=r.mul(i,l),p=r.mul(e,p),m=r.sub(h,p),m=r.mul(e,m),m=r.add(m,l),l=r.add(h,h),h=r.add(l,h),h=r.add(h,p),h=r.mul(h,m),u=r.add(u,h),p=r.mul(o,a),p=r.add(p,p),h=r.mul(p,m),c=r.sub(c,h),l=r.mul(p,f),l=r.add(l,l),new d(c,u,l=r.add(l,l))}add(e){l(e);let{px:n,py:i,pz:s}=this,{px:o,py:a,pz:c}=e,u=r.ZERO,h=r.ZERO,f=r.ZERO,p=t.a,m=r.mul(t.b,ob),g=r.mul(n,o),v=r.mul(i,a),b=r.mul(s,c),y=r.add(n,i),w=r.add(o,a);y=r.mul(y,w),w=r.add(g,v),y=r.sub(y,w),w=r.add(n,s);let E=r.add(o,c);return w=r.mul(w,E),E=r.add(g,b),w=r.sub(w,E),E=r.add(i,s),u=r.add(a,c),E=r.mul(E,u),u=r.add(v,b),E=r.sub(E,u),f=r.mul(p,w),u=r.mul(m,b),f=r.add(u,f),u=r.sub(v,f),f=r.add(v,f),h=r.mul(u,f),v=r.add(g,g),v=r.add(v,g),b=r.mul(p,b),w=r.mul(m,w),v=r.add(v,b),b=r.sub(g,b),b=r.mul(p,b),w=r.add(w,b),g=r.mul(v,w),h=r.add(h,g),g=r.mul(E,w),u=r.mul(y,u),u=r.sub(u,g),g=r.mul(y,v),f=r.mul(E,f),new d(u,h,f=r.add(f,g))}subtract(e){return this.add(e.negate())}is0(){return this.equals(d.ZERO)}wNAF(e){return f.wNAFCached(this,u,e,e=>{let t=r.invertBatch(e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(d.fromAffine)})}multiplyUnsafe(e){let n=d.ZERO;if(e===og)return n;if(a(e),e===ov)return this;let{endo:i}=t;if(!i)return f.unsafeLadder(this,e);let{k1neg:s,k1:o,k2neg:c,k2:u}=i.splitScalar(e),l=n,h=n,p=this;for(;o>og||u>og;)o&ov&&(l=l.add(p)),u&ov&&(h=h.add(p)),p=p.double(),o>>=ov,u>>=ov;return s&&(l=l.negate()),c&&(h=h.negate()),h=new d(r.mul(h.px,i.beta),h.py,h.pz),l.add(h)}multiply(e){let n,i;a(e);let{endo:s}=t;if(s){let{k1neg:t,k1:o,k2neg:a,k2:c}=s.splitScalar(e),{p:u,f:l}=this.wNAF(o),{p:h,f:p}=this.wNAF(c);u=f.constTimeNegate(t,u),h=f.constTimeNegate(a,h),h=new d(r.mul(h.px,s.beta),h.py,h.pz),n=u.add(h),i=l.add(p)}else{let{p:t,f:r}=this.wNAF(e);n=t,i=r}return d.normalizeZ([n,i])[0]}multiplyAndAddUnsafe(e,t,r){let n=d.BASE,i=(e,t)=>t!==og&&t!==ov&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),s=i(this,t).add(i(e,r));return s.is0()?void 0:s}toAffine(e){let{px:t,py:n,pz:i}=this,s=this.is0();null==e&&(e=s?r.ONE:r.inv(i));let o=r.mul(t,e),a=r.mul(n,e),c=r.mul(i,e);if(s)return{x:r.ZERO,y:r.ZERO};if(!r.eql(c,r.ONE))throw Error("invZ was invalid");return{x:o,y:a}}isTorsionFree(){let{h:e,isTorsionFree:r}=t;if(e===ov)return!0;if(r)return r(d,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:e,clearCofactor:r}=t;return e===ov?this:r?r(d,this):this.multiplyUnsafe(t.h)}toRawBytes(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return this.assertValidity(),n(d,this,e)}toHex(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return sG(this.toRawBytes(e))}constructor(e,t,n){if(this.px=e,this.py=t,this.pz=n,null==e||!r.isValid(e))throw Error("x required");if(null==t||!r.isValid(t))throw Error("y required");if(null==n||!r.isValid(n))throw Error("z required")}}d.BASE=new d(t.Gx,t.Gy,r.ONE),d.ZERO=new d(r.ZERO,r.ONE,r.ZERO);let h=t.nBitLength,f=function(e,t){let r=(e,t)=>{let r=t.negate();return e?r:t},n=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:r,unsafeLadder(t,r){let n=e.ZERO,i=t;for(;r>ol;)r&od&&(n=n.add(i)),i=i.double(),r>>=od;return n},precomputeWindow(e,t){let{windows:r,windowSize:i}=n(t),s=[],o=e,a=o;for(let e=0;e<r;e++){a=o,s.push(a);for(let e=1;e<i;e++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(t,i,s){let{windows:o,windowSize:a}=n(t),c=e.ZERO,u=e.BASE,l=BigInt(2**t-1),d=2**t,h=BigInt(t);for(let e=0;e<o;e++){let t=e*a,n=Number(s&l);s>>=h,n>a&&(n-=d,s+=od);let o=t+Math.abs(n)-1,f=e%2!=0,p=n<0;0===n?u=u.add(r(f,i[t])):c=c.add(r(p,i[o]))}return{p:c,f:u}},wNAFCached(e,t,r,n){let i=e._WINDOW_SIZE||1,s=t.get(e);return s||(s=this.precomputeWindow(e,i),1!==i&&t.set(e,n(s))),this.wNAF(i,s,r)}}}(d,t.endo?Math.ceil(h/2):h);return{CURVE:t,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:s,isWithinCurveOrder:o}}({...t,toBytes(e,t,n){let i=t.toAffine(),s=r.toBytes(i.x),o=s$;return n?o(Uint8Array.from([t.hasEvenY()?2:3]),s):o(Uint8Array.from([4]),s,r.toBytes(i.y))},fromBytes(e){let t=e.length,n=e[0],o=e.subarray(1);if(t===i&&(2===n||3===n)){let e=sJ(o);if(!(og<e&&e<r.ORDER))throw Error("Point is not on curve");let t=u(e),i=r.sqrt(t);return(1&n)==1!=((i&ov)===ov)&&(i=r.neg(i)),{x:e,y:i}}if(t===s&&4===n)return{x:r.fromBytes(o.subarray(0,r.BYTES)),y:r.fromBytes(o.subarray(r.BYTES,2*r.BYTES))};throw Error("Point of length ".concat(t," was invalid. Expected ").concat(i," compressed bytes or ").concat(s," uncompressed bytes"))}}),d=e=>sG(sQ(e,t.nByteLength)),h=(e,t,r)=>sJ(e.slice(t,r));class f{static fromCompact(e){let r=t.nByteLength;return new f(h(e=sY("compactSignature",e,2*r),0,r),h(e,r,2*r))}static fromDER(e){let{r:t,s:r}=om.toSig(sY("DER",e));return new f(t,r)}assertValidity(){if(!l(this.r))throw Error("r must be 0 < r < CURVE.n");if(!l(this.s))throw Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new f(this.r,this.s,e)}recoverPublicKey(e){let{r:i,s,recovery:c}=this,u=g(sY("msgHash",e));if(null==c||![0,1,2,3].includes(c))throw Error("recovery id invalid");let l=2===c||3===c?i+t.n:i;if(l>=r.ORDER)throw Error("recovery id 2 or 3 invalid");let h=(1&c)==0?"02":"03",f=a.fromHex(h+d(l)),p=os(l,n),m=o(-u*p),v=o(s*p),b=a.BASE.multiplyAndAddUnsafe(f,m,v);if(!b)throw Error("point at infinify");return b.assertValidity(),b}hasHighS(){return this.s>n>>ov}normalizeS(){return this.hasHighS()?new f(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return sV(this.toDERHex())}toDERHex(){return om.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return sV(this.toCompactHex())}toCompactHex(){return d(this.r)+d(this.s)}constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}}function p(e){let t=sF(e),r="string"==typeof e,n=(t||r)&&e.length;return t?n===i||n===s:r?n===2*i||n===2*s:e instanceof a}let m=t.bits2int||function(e){let r=sJ(e),n=8*e.length-t.nBitLength;return n>0?r>>BigInt(n):r},g=t.bits2int_modN||function(e){return o(m(e))},v=s0(t.nBitLength);function b(e){if("bigint"!=typeof e)throw Error("bigint expected");if(!(og<=e&&e<v))throw Error("bigint expected < 2^".concat(t.nBitLength));return sQ(e,t.nByteLength)}let y={lowS:t.lowS,prehash:!1},w={lowS:t.lowS,prehash:!1};return a.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return a.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t){let r=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(p(e))throw Error("first arg must be private key");if(!p(t))throw Error("second arg must be public key");return a.fromHex(t).multiply(c(e)).toRawBytes(r)},sign:function(e,i){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y,{seed:u,k2sig:d}=function(e,i){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y;if(["recovered","canonical"].some(e=>e in s))throw Error("sign() legacy options not supported");let{hash:u,randomBytes:d}=t,{lowS:h,prehash:p,extraEntropy:v}=s;null==h&&(h=!0),e=sY("msgHash",e),p&&(e=sY("prehashed msgHash",u(e)));let w=g(e),E=c(i),_=[b(E),b(w)];if(null!=v){let e=!0===v?d(r.BYTES):v;_.push(sY("extraEntropy",e))}return{seed:s$(..._),k2sig:function(e){let t=m(e);if(!l(t))return;let r=os(t,n),i=a.BASE.multiply(t).toAffine(),s=o(i.x);if(s===og)return;let c=o(r*o(w+s*E));if(c===og)return;let u=(i.x===s?0:2)|Number(i.y&ov),d=c;if(h&&c>n>>ov)d=c>n>>ov?o(-c):c,u^=1;return new f(s,d,u)}}}(e,i,s);return s3(t.hash.outputLen,t.nByteLength,t.hmac)(u,d)},verify:function(e,r,i){var s;let c;let u,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:w;if(r=sY("msgHash",r),i=sY("publicKey",i),"strict"in l)throw Error("options.strict was renamed to lowS");let{lowS:d,prehash:h}=l;try{if("string"==typeof e||sF(e))try{c=f.fromDER(e)}catch(t){if(!(t instanceof om.Err))throw t;c=f.fromCompact(e)}else if("object"==typeof e&&"bigint"==typeof e.r&&"bigint"==typeof e.s){let{r:t,s:r}=e;c=new f(t,r)}else throw Error("PARSE");u=a.fromHex(i)}catch(e){if("PARSE"===e.message)throw Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(d&&c.hasHighS())return!1;h&&(r=t.hash(r));let{r:p,s:m}=c,v=g(r),b=os(m,n),y=o(v*b),E=o(p*b),_=null===(s=a.BASE.multiplyAndAddUnsafe(u,y,E))||void 0===s?void 0:s.toAffine();return!!_&&o(_.x)===p},ProjectivePoint:a,Signature:f,utils:{isValidPrivateKey(e){try{return c(e),!0}catch(e){return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{let e=ou(t.n);return function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e.length,i=oc(t),s=ou(t);if(n<16||n<s||n>1024)throw Error("expected ".concat(s,"-1024 bytes of input, got ").concat(n));let o=on(r?sJ(e):sZ(e),t-s5)+s5;return r?sX(o,i):sQ(o,i)}(t.randomBytes(e),t.n)},precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.BASE;return t._setWindowSize(e),t.multiply(BigInt(3)),t}}}})({...e,hash:t,hmac:function(e){for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return sb(t,e,tQ(...n))},randomBytes:t1});return Object.freeze({...r(t),create:r})}({a:BigInt(0),b:BigInt(7),Fp:oA,n:ow,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-oE*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=BigInt("0x100000000000000000000000000000000"),s=oS(t*e,ow),o=oS(-r*e,ow),a=on(e-s*t-o*n,ow),c=on(-s*r-o*t,ow),u=a>i,l=c>i;if(u&&(a=ow-a),l&&(c=ow-c),a>i||c>i)throw Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:u,k1:a,k2neg:l,k2:c}}}},sI),ox=(BigInt(0),oT.ProjectivePoint,null!=oT?oT:B),oI=BigInt("0xffffffffffffffff"),oR=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),oO=ox.CURVE.n/BigInt(2),oP={type:"object",required:["crypto","id","version","address"],properties:{crypto:{type:"object",required:["cipher","ciphertext","cipherparams","kdf","kdfparams","mac"],properties:{cipher:{type:"string"},ciphertext:{type:"string"},cipherparams:{type:"object"},kdf:{type:"string"},kdfparams:{type:"object"},salt:{type:"string"},mac:{type:"string"}}},id:{type:"string"},version:{type:"number"},address:{type:"string"}}};(l=A||(A={}))[l.Mainnet=1]="Mainnet",l[l.Goerli=5]="Goerli",l[l.Sepolia=11155111]="Sepolia",(d=T||(T={})).Chainstart="chainstart",d.Homestead="homestead",d.Dao="dao",d.TangerineWhistle="tangerineWhistle",d.SpuriousDragon="spuriousDragon",d.Byzantium="byzantium",d.Constantinople="constantinople",d.Petersburg="petersburg",d.Istanbul="istanbul",d.MuirGlacier="muirGlacier",d.Berlin="berlin",d.London="london",d.ArrowGlacier="arrowGlacier",d.GrayGlacier="grayGlacier",d.MergeForkIdTransition="mergeForkIdTransition",d.Merge="merge",d.Shanghai="shanghai",d.ShardingForkDev="shardingFork",(h=x||(x={})).ProofOfStake="pos",h.ProofOfWork="pow",h.ProofOfAuthority="poa",(f=I||(I={})).Ethash="ethash",f.Clique="clique",f.Casper="casper",(p=R||(R={})).PolygonMainnet="polygon-mainnet",p.PolygonMumbai="polygon-mumbai",p.ArbitrumRinkebyTestnet="arbitrum-rinkeby-testnet",p.ArbitrumOne="arbitrum-one",p.xDaiChain="x-dai-chain",p.OptimisticKovan="optimistic-kovan",p.OptimisticEthereum="optimistic-ethereum",(m=O||(O={}))[m.Number=0]="Number",m[m.BigInt=1]="BigInt",m[m.Uint8Array=2]="Uint8Array",m[m.PrefixedHexString=3]="PrefixedHexString";let ok=e=>{if("string"!=typeof e)throw Error("[stripHexPrefix] input must be type 'string', received ".concat(typeof e));return rA(e)?e.slice(2):e},oN=function(e){if(!Number.isSafeInteger(e)||e<0)throw Error("Received an invalid integer type: ".concat(e));return"0x".concat(e.toString(16))};function oC(e){let t=e;if("string"!=typeof t)throw Error("[padToEven] value must be type 'string', received ".concat(typeof t));return t.length%2&&(t="0".concat(t)),t}let oM=function(e){let t=oN(e);return nm("0x".concat(oC(t.slice(2))))},oL=function(e){var t;if(null==e)return new Uint8Array;if(e instanceof Uint8Array)return e;if((null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.name)==="Uint8Array"||Array.isArray(e))return Uint8Array.from(e);if("string"==typeof e){if(!r_(e))throw Error("Cannot convert string to Uint8Array. only supports 0x-prefixed hex strings and this string was given: ".concat(e));return nm(oC(ok(e)))}if("number"==typeof e)return oL(nb(e));if("bigint"==typeof e){if(e<BigInt(0))throw Error("Cannot convert negative bigint to Uint8Array. Given: ".concat(e));let t=e.toString(16);return t.length%2&&(t="0".concat(t)),oL("0x".concat(t))}if(e.toArray)return Uint8Array.from(e.toArray());throw Error("invalid type")};function oB(e){let t=np(e);return"0x"===t?BigInt(0):BigInt(t)}let oD=function(e){return new Uint8Array(e).fill(0)},oU=function(e,t,r){let n=oD(t);return r?e.length<t?(n.set(e),n):e.subarray(0,t):e.length<t?(n.set(e,t-e.length),n):e.subarray(-t)};function oH(e){if(!nc(e))throw Error("This method only supports Uint8Array but input was: ".concat(e))}let oj=function(e,t){return oH(e),oU(e,t,!1)},oF=function(e){return oH(e),function(e){let t=e[0];for(;e.length>0&&"0"===t.toString();)t=(e=e.slice(1))[0];return e}(e)},oq=e=>"0x".concat(e.toString(16));function oG(e){return oF(oL("0x".concat(e.toString(16))))}let oz=function(e,t,r,n,i){let s=t===BigInt(0)||t===BigInt(1)?t:void 0===i?t-BigInt(27):t-(i*BigInt(2)+BigInt(35));if(!(s===BigInt(0)||s===BigInt(1)))throw Error("Invalid signature v value");return new ox.Signature(oB(r),oB(n)).addRecoveryBit(Number(s)).recoverPublicKey(e).toRawBytes(!1).slice(1)};function oK(e,t){if(null===e)return null;if(void 0===e)return;if("string"!=typeof e||r_(e)){if("number"==typeof e&&!Number.isSafeInteger(e))throw Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)")}else throw Error("A string must be provided with a 0x-prefix, given: ".concat(e));let r=oL(e);switch(t){case O.Uint8Array:return r;case O.BigInt:return oB(r);case O.Number:{let e=oB(r);if(e>BigInt(Number.MAX_SAFE_INTEGER))throw Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(e)}case O.PrefixedHexString:return np(r);default:throw Error("unknown outputType")}}var oW=r(57084),oV=r(68938),oJ={name:"goerli",chainId:5,networkId:5,defaultHardfork:"merge",consensus:{type:"poa",algorithm:"clique",clique:{period:15,epoch:3e4}},comment:"Cross-client PoA test network",url:"https://github.com/goerli/testnet",genesis:{timestamp:"0x5c51a607",gasLimit:10485760,difficulty:1,nonce:"0x0000000000000000",extraData:"0x22466c6578692069732061207468696e6722202d204166726900000000000000e0a2bd4258d2768837baa26a28fe71dc079f84c70000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},hardforks:[{name:"chainstart",block:0,forkHash:"0xa3f5ab08"},{name:"homestead",block:0,forkHash:"0xa3f5ab08"},{name:"tangerineWhistle",block:0,forkHash:"0xa3f5ab08"},{name:"spuriousDragon",block:0,forkHash:"0xa3f5ab08"},{name:"byzantium",block:0,forkHash:"0xa3f5ab08"},{name:"constantinople",block:0,forkHash:"0xa3f5ab08"},{name:"petersburg",block:0,forkHash:"0xa3f5ab08"},{name:"istanbul",block:1561651,forkHash:"0xc25efa5c"},{name:"berlin",block:4460644,forkHash:"0x757a1c47"},{name:"london",block:5062605,forkHash:"0xb8c6299d"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://goerli.etherscan.io/block/7382818",name:"merge",ttd:"10790000",block:7382819,forkHash:"0xb8c6299d"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,forkHash:null}],bootstrapNodes:[],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.goerli.ethdisco.net"]},oZ={name:"mainnet",chainId:1,networkId:1,defaultHardfork:"merge",consensus:{type:"pow",algorithm:"ethash",ethash:{}},comment:"The Ethereum main chain",url:"https://ethstats.net/",genesis:{gasLimit:5e3,difficulty:17179869184,nonce:"0x0000000000000042",extraData:"0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa"},hardforks:[{name:"chainstart",block:0,forkHash:"0xfc64ec04"},{name:"homestead",block:115e4,forkHash:"0x97c2c34c"},{name:"dao",block:192e4,forkHash:"0x91d1f948"},{name:"tangerineWhistle",block:2463e3,forkHash:"0x7a64da13"},{name:"spuriousDragon",block:2675e3,forkHash:"0x3edd5b10"},{name:"byzantium",block:437e4,forkHash:"0xa00bc324"},{name:"constantinople",block:728e4,forkHash:"0x668db0af"},{name:"petersburg",block:728e4,forkHash:"0x668db0af"},{name:"istanbul",block:9069e3,forkHash:"0x879d6e30"},{name:"muirGlacier",block:92e5,forkHash:"0xe029e991"},{name:"berlin",block:12244e3,forkHash:"0x0eb440f6"},{name:"london",block:12965e3,forkHash:"0xb715077d"},{name:"arrowGlacier",block:13773e3,forkHash:"0x20c327fc"},{name:"grayGlacier",block:1505e4,forkHash:"0xf0afd0e3"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://etherscan.io/block/15537393",name:"merge",ttd:"58750000000000000000000",block:15537394,forkHash:"0xf0afd0e3"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,forkHash:null}],bootstrapNodes:[],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.mainnet.ethdisco.net"]},oQ={name:"sepolia",chainId:11155111,networkId:11155111,defaultHardfork:"merge",consensus:{type:"pow",algorithm:"ethash",ethash:{}},comment:"PoW test network to replace Ropsten",url:"https://github.com/ethereum/go-ethereum/pull/23730",genesis:{timestamp:"0x6159af19",gasLimit:3e7,difficulty:131072,nonce:"0x0000000000000000",extraData:"0x5365706f6c69612c20417468656e732c204174746963612c2047726565636521"},hardforks:[{name:"chainstart",block:0,forkHash:"0xfe3366e7"},{name:"homestead",block:0,forkHash:"0xfe3366e7"},{name:"tangerineWhistle",block:0,forkHash:"0xfe3366e7"},{name:"spuriousDragon",block:0,forkHash:"0xfe3366e7"},{name:"byzantium",block:0,forkHash:"0xfe3366e7"},{name:"constantinople",block:0,forkHash:"0xfe3366e7"},{name:"petersburg",block:0,forkHash:"0xfe3366e7"},{name:"istanbul",block:0,forkHash:"0xfe3366e7"},{name:"muirGlacier",block:0,forkHash:"0xfe3366e7"},{name:"berlin",block:0,forkHash:"0xfe3366e7"},{name:"london",block:0,forkHash:"0xfe3366e7"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://sepolia.etherscan.io/block/1450408",name:"merge",ttd:"17000000000000000",block:1450409,forkHash:"0xfe3366e7"},{name:"mergeForkIdTransition",block:1735371,forkHash:"0xb96cbd13"},{name:"shanghai",block:null,timestamp:"1677557088",forkHash:"0xf7f9bc08"}],bootstrapNodes:[],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.sepolia.ethdisco.net"]};let oX={1153:{name:"EIP-1153",number:1153,comment:"Transient Storage",url:"https://eips.ethereum.org/EIPS/eip-1153",status:"Review",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{tstore:{v:100,d:"Base fee of the TSTORE opcode"},tload:{v:100,d:"Base fee of the TLOAD opcode"}},vm:{},pow:{}},1559:{name:"EIP-1559",number:1559,comment:"Fee market change for ETH 1.0 chain",url:"https://eips.ethereum.org/EIPS/eip-1559",status:"Final",minimumHardfork:"berlin",requiredEIPs:[2930],gasConfig:{baseFeeMaxChangeDenominator:{v:8,d:"Maximum base fee change denominator"},elasticityMultiplier:{v:2,d:"Maximum block gas target elasticity"},initialBaseFee:{v:1e9,d:"Initial base fee on first EIP1559 block"}},gasPrices:{},vm:{},pow:{}},2315:{name:"EIP-2315",number:2315,comment:"Simple subroutines for the EVM",url:"https://eips.ethereum.org/EIPS/eip-2315",status:"Draft",minimumHardfork:"istanbul",gasConfig:{},gasPrices:{beginsub:{v:2,d:"Base fee of the BEGINSUB opcode"},returnsub:{v:5,d:"Base fee of the RETURNSUB opcode"},jumpsub:{v:10,d:"Base fee of the JUMPSUB opcode"}},vm:{},pow:{}},2537:{name:"EIP-2537",number:2537,comment:"BLS12-381 precompiles",url:"https://eips.ethereum.org/EIPS/eip-2537",status:"Draft",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{Bls12381G1AddGas:{v:600,d:"Gas cost of a single BLS12-381 G1 addition precompile-call"},Bls12381G1MulGas:{v:12e3,d:"Gas cost of a single BLS12-381 G1 multiplication precompile-call"},Bls12381G2AddGas:{v:4500,d:"Gas cost of a single BLS12-381 G2 addition precompile-call"},Bls12381G2MulGas:{v:55e3,d:"Gas cost of a single BLS12-381 G2 multiplication precompile-call"},Bls12381PairingBaseGas:{v:115e3,d:"Base gas cost of BLS12-381 pairing check"},Bls12381PairingPerPairGas:{v:23e3,d:"Per-pair gas cost of BLS12-381 pairing check"},Bls12381MapG1Gas:{v:5500,d:"Gas cost of BLS12-381 map field element to G1"},Bls12381MapG2Gas:{v:11e4,d:"Gas cost of BLS12-381 map field element to G2"},Bls12381MultiExpGasDiscount:{v:[[1,1200],[2,888],[3,764],[4,641],[5,594],[6,547],[7,500],[8,453],[9,438],[10,423],[11,408],[12,394],[13,379],[14,364],[15,349],[16,334],[17,330],[18,326],[19,322],[20,318],[21,314],[22,310],[23,306],[24,302],[25,298],[26,294],[27,289],[28,285],[29,281],[30,277],[31,273],[32,269],[33,268],[34,266],[35,265],[36,263],[37,262],[38,260],[39,259],[40,257],[41,256],[42,254],[43,253],[44,251],[45,250],[46,248],[47,247],[48,245],[49,244],[50,242],[51,241],[52,239],[53,238],[54,236],[55,235],[56,233],[57,232],[58,231],[59,229],[60,228],[61,226],[62,225],[63,223],[64,222],[65,221],[66,220],[67,219],[68,219],[69,218],[70,217],[71,216],[72,216],[73,215],[74,214],[75,213],[76,213],[77,212],[78,211],[79,211],[80,210],[81,209],[82,208],[83,208],[84,207],[85,206],[86,205],[87,205],[88,204],[89,203],[90,202],[91,202],[92,201],[93,200],[94,199],[95,199],[96,198],[97,197],[98,196],[99,196],[100,195],[101,194],[102,193],[103,193],[104,192],[105,191],[106,191],[107,190],[108,189],[109,188],[110,188],[111,187],[112,186],[113,185],[114,185],[115,184],[116,183],[117,182],[118,182],[119,181],[120,180],[121,179],[122,179],[123,178],[124,177],[125,176],[126,176],[127,175],[128,174]],d:"Discount gas costs of calls to the MultiExp precompiles with `k` (point, scalar) pair"}},vm:{},pow:{}},2565:{name:"EIP-2565",number:2565,comment:"ModExp gas cost",url:"https://eips.ethereum.org/EIPS/eip-2565",status:"Final",minimumHardfork:"byzantium",gasConfig:{},gasPrices:{modexpGquaddivisor:{v:3,d:"Gquaddivisor from modexp precompile for gas calculation"}},vm:{},pow:{}},2718:{name:"EIP-2718",comment:"Typed Transaction Envelope",url:"https://eips.ethereum.org/EIPS/eip-2718",status:"Final",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{},vm:{},pow:{}},2929:{name:"EIP-2929",comment:"Gas cost increases for state access opcodes",url:"https://eips.ethereum.org/EIPS/eip-2929",status:"Final",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{coldsload:{v:2100,d:"Gas cost of the first read of storage from a given location (per transaction)"},coldaccountaccess:{v:2600,d:"Gas cost of the first read of a given address (per transaction)"},warmstorageread:{v:100,d:"Gas cost of reading storage locations which have already loaded 'cold'"},sstoreCleanGasEIP2200:{v:2900,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreNoopGasEIP2200:{v:100,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:100,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitRefundEIP2200:{v:19900,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanRefundEIP2200:{v:4900,d:"Once per SSTORE operation for resetting to the original non-zero value"},call:{v:0,d:"Base fee of the CALL opcode"},callcode:{v:0,d:"Base fee of the CALLCODE opcode"},delegatecall:{v:0,d:"Base fee of the DELEGATECALL opcode"},staticcall:{v:0,d:"Base fee of the STATICCALL opcode"},balance:{v:0,d:"Base fee of the BALANCE opcode"},extcodesize:{v:0,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:0,d:"Base fee of the EXTCODECOPY opcode"},extcodehash:{v:0,d:"Base fee of the EXTCODEHASH opcode"},sload:{v:0,d:"Base fee of the SLOAD opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"}},vm:{},pow:{}},2930:{name:"EIP-2930",comment:"Optional access lists",url:"https://eips.ethereum.org/EIPS/eip-2930",status:"Final",minimumHardfork:"istanbul",requiredEIPs:[2718,2929],gasConfig:{},gasPrices:{accessListStorageKeyCost:{v:1900,d:"Gas cost per storage key in an Access List transaction"},accessListAddressCost:{v:2400,d:"Gas cost per storage key in an Access List transaction"}},vm:{},pow:{}},3198:{name:"EIP-3198",number:3198,comment:"BASEFEE opcode",url:"https://eips.ethereum.org/EIPS/eip-3198",status:"Final",minimumHardfork:"london",gasConfig:{},gasPrices:{basefee:{v:2,d:"Gas cost of the BASEFEE opcode"}},vm:{},pow:{}},3529:{name:"EIP-3529",comment:"Reduction in refunds",url:"https://eips.ethereum.org/EIPS/eip-3529",status:"Final",minimumHardfork:"berlin",requiredEIPs:[2929],gasConfig:{maxRefundQuotient:{v:5,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},gasPrices:{selfdestructRefund:{v:0,d:"Refunded following a selfdestruct operation"},sstoreClearRefundEIP2200:{v:4800,d:"Once per SSTORE operation for clearing an originally existing storage slot"}},vm:{},pow:{}},3540:{name:"EIP-3540",number:3540,comment:"EVM Object Format (EOF) v1",url:"https://eips.ethereum.org/EIPS/eip-3540",status:"Review",minimumHardfork:"london",requiredEIPs:[3541],gasConfig:{},gasPrices:{},vm:{},pow:{}},3541:{name:"EIP-3541",comment:"Reject new contracts starting with the 0xEF byte",url:"https://eips.ethereum.org/EIPS/eip-3541",status:"Final",minimumHardfork:"berlin",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},3554:{name:"EIP-3554",comment:"Reduction in refunds",url:"Difficulty Bomb Delay to December 1st 2021",status:"Final",minimumHardfork:"muirGlacier",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:95e5,d:"the amount of blocks to delay the difficulty bomb with"}}},3607:{name:"EIP-3607",number:3607,comment:"Reject transactions from senders with deployed code",url:"https://eips.ethereum.org/EIPS/eip-3607",status:"Final",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},3651:{name:"EIP-3651",number:3198,comment:"Warm COINBASE",url:"https://eips.ethereum.org/EIPS/eip-3651",status:"Review",minimumHardfork:"london",requiredEIPs:[2929],gasConfig:{},gasPrices:{},vm:{},pow:{}},3670:{name:"EIP-3670",number:3670,comment:"EOF - Code Validation",url:"https://eips.ethereum.org/EIPS/eip-3670",status:"Review",minimumHardfork:"london",requiredEIPs:[3540],gasConfig:{},gasPrices:{},vm:{},pow:{}},3675:{name:"EIP-3675",number:3675,comment:"Upgrade consensus to Proof-of-Stake",url:"https://eips.ethereum.org/EIPS/eip-3675",status:"Final",minimumHardfork:"london",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},3855:{name:"EIP-3855",number:3855,comment:"PUSH0 instruction",url:"https://eips.ethereum.org/EIPS/eip-3855",status:"Review",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{push0:{v:2,d:"Base fee of the PUSH0 opcode"}},vm:{},pow:{}},3860:{name:"EIP-3860",number:3860,comment:"Limit and meter initcode",url:"https://eips.ethereum.org/EIPS/eip-3860",status:"Review",minimumHardfork:"spuriousDragon",requiredEIPs:[],gasConfig:{},gasPrices:{initCodeWordCost:{v:2,d:"Gas to pay for each word (32 bytes) of initcode when creating a contract"}},vm:{maxInitCodeSize:{v:49152,d:"Maximum length of initialization code when creating a contract"}},pow:{}},4345:{name:"EIP-4345",number:4345,comment:"Difficulty Bomb Delay to June 2022",url:"https://eips.ethereum.org/EIPS/eip-4345",status:"Final",minimumHardfork:"london",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:107e5,d:"the amount of blocks to delay the difficulty bomb with"}}},4399:{name:"EIP-4399",number:4399,comment:"Supplant DIFFICULTY opcode with PREVRANDAO",url:"https://eips.ethereum.org/EIPS/eip-4399",status:"Review",minimumHardfork:"london",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},5133:{name:"EIP-5133",number:5133,comment:"Delaying Difficulty Bomb to mid-September 2022",url:"https://eips.ethereum.org/EIPS/eip-5133",status:"Draft",minimumHardfork:"grayGlacier",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:114e5,d:"the amount of blocks to delay the difficulty bomb with"}}}},oY={chainstart:{name:"chainstart",comment:"Start of the Ethereum main chain",url:"",status:"",gasConfig:{minGasLimit:{v:5e3,d:"Minimum the gas limit may ever be"},gasLimitBoundDivisor:{v:1024,d:"The bound divisor of the gas limit, used in update calculations"},maxRefundQuotient:{v:2,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},gasPrices:{base:{v:2,d:"Gas base cost, used e.g. for ChainID opcode (Istanbul)"},tierStep:{v:[0,2,3,5,8,10,20],d:"Once per operation, for a selection of them"},exp:{v:10,d:"Base fee of the EXP opcode"},expByte:{v:10,d:"Times ceil(log256(exponent)) for the EXP instruction"},sha3:{v:30,d:"Base fee of the SHA3 opcode"},sha3Word:{v:6,d:"Once per word of the SHA3 operation's data"},sload:{v:50,d:"Base fee of the SLOAD opcode"},sstoreSet:{v:2e4,d:"Once per SSTORE operation if the zeroness changes from zero"},sstoreReset:{v:5e3,d:"Once per SSTORE operation if the zeroness does not change from zero"},sstoreRefund:{v:15e3,d:"Once per SSTORE operation if the zeroness changes to zero"},jumpdest:{v:1,d:"Base fee of the JUMPDEST opcode"},log:{v:375,d:"Base fee of the LOG opcode"},logData:{v:8,d:"Per byte in a LOG* operation's data"},logTopic:{v:375,d:"Multiplied by the * of the LOG*, per LOG transaction. e.g. LOG0 incurs 0 * c_txLogTopicGas, LOG4 incurs 4 * c_txLogTopicGas"},create:{v:32e3,d:"Base fee of the CREATE opcode"},call:{v:40,d:"Base fee of the CALL opcode"},callStipend:{v:2300,d:"Free gas given at beginning of call"},callValueTransfer:{v:9e3,d:"Paid for CALL when the value transfor is non-zero"},callNewAccount:{v:25e3,d:"Paid for CALL when the destination address didn't exist prior"},selfdestructRefund:{v:24e3,d:"Refunded following a selfdestruct operation"},memory:{v:3,d:"Times the address of the (highest referenced byte in memory + 1). NOTE: referencing happens on read, write and in instructions such as RETURN and CALL"},quadCoeffDiv:{v:512,d:"Divisor for the quadratic particle of the memory cost equation"},createData:{v:200,d:""},tx:{v:21e3,d:"Per transaction. NOTE: Not payable on data of calls between transactions"},txCreation:{v:32e3,d:"The cost of creating a contract via tx"},txDataZero:{v:4,d:"Per byte of data attached to a transaction that equals zero. NOTE: Not payable on data of calls between transactions"},txDataNonZero:{v:68,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},copy:{v:3,d:"Multiplied by the number of 32-byte words that are copied (round up) for any *COPY operation and added"},ecRecover:{v:3e3,d:""},sha256:{v:60,d:""},sha256Word:{v:12,d:""},ripemd160:{v:600,d:""},ripemd160Word:{v:120,d:""},identity:{v:15,d:""},identityWord:{v:3,d:""},stop:{v:0,d:"Base fee of the STOP opcode"},add:{v:3,d:"Base fee of the ADD opcode"},mul:{v:5,d:"Base fee of the MUL opcode"},sub:{v:3,d:"Base fee of the SUB opcode"},div:{v:5,d:"Base fee of the DIV opcode"},sdiv:{v:5,d:"Base fee of the SDIV opcode"},mod:{v:5,d:"Base fee of the MOD opcode"},smod:{v:5,d:"Base fee of the SMOD opcode"},addmod:{v:8,d:"Base fee of the ADDMOD opcode"},mulmod:{v:8,d:"Base fee of the MULMOD opcode"},signextend:{v:5,d:"Base fee of the SIGNEXTEND opcode"},lt:{v:3,d:"Base fee of the LT opcode"},gt:{v:3,d:"Base fee of the GT opcode"},slt:{v:3,d:"Base fee of the SLT opcode"},sgt:{v:3,d:"Base fee of the SGT opcode"},eq:{v:3,d:"Base fee of the EQ opcode"},iszero:{v:3,d:"Base fee of the ISZERO opcode"},and:{v:3,d:"Base fee of the AND opcode"},or:{v:3,d:"Base fee of the OR opcode"},xor:{v:3,d:"Base fee of the XOR opcode"},not:{v:3,d:"Base fee of the NOT opcode"},byte:{v:3,d:"Base fee of the BYTE opcode"},address:{v:2,d:"Base fee of the ADDRESS opcode"},balance:{v:20,d:"Base fee of the BALANCE opcode"},origin:{v:2,d:"Base fee of the ORIGIN opcode"},caller:{v:2,d:"Base fee of the CALLER opcode"},callvalue:{v:2,d:"Base fee of the CALLVALUE opcode"},calldataload:{v:3,d:"Base fee of the CALLDATALOAD opcode"},calldatasize:{v:2,d:"Base fee of the CALLDATASIZE opcode"},calldatacopy:{v:3,d:"Base fee of the CALLDATACOPY opcode"},codesize:{v:2,d:"Base fee of the CODESIZE opcode"},codecopy:{v:3,d:"Base fee of the CODECOPY opcode"},gasprice:{v:2,d:"Base fee of the GASPRICE opcode"},extcodesize:{v:20,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:20,d:"Base fee of the EXTCODECOPY opcode"},blockhash:{v:20,d:"Base fee of the BLOCKHASH opcode"},coinbase:{v:2,d:"Base fee of the COINBASE opcode"},timestamp:{v:2,d:"Base fee of the TIMESTAMP opcode"},number:{v:2,d:"Base fee of the NUMBER opcode"},difficulty:{v:2,d:"Base fee of the DIFFICULTY opcode"},gaslimit:{v:2,d:"Base fee of the GASLIMIT opcode"},pop:{v:2,d:"Base fee of the POP opcode"},mload:{v:3,d:"Base fee of the MLOAD opcode"},mstore:{v:3,d:"Base fee of the MSTORE opcode"},mstore8:{v:3,d:"Base fee of the MSTORE8 opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"},jump:{v:8,d:"Base fee of the JUMP opcode"},jumpi:{v:10,d:"Base fee of the JUMPI opcode"},pc:{v:2,d:"Base fee of the PC opcode"},msize:{v:2,d:"Base fee of the MSIZE opcode"},gas:{v:2,d:"Base fee of the GAS opcode"},push:{v:3,d:"Base fee of the PUSH opcode"},dup:{v:3,d:"Base fee of the DUP opcode"},swap:{v:3,d:"Base fee of the SWAP opcode"},callcode:{v:40,d:"Base fee of the CALLCODE opcode"},return:{v:0,d:"Base fee of the RETURN opcode"},invalid:{v:0,d:"Base fee of the INVALID opcode"},selfdestruct:{v:0,d:"Base fee of the SELFDESTRUCT opcode"}},vm:{stackLimit:{v:1024,d:"Maximum size of VM stack allowed"},callCreateDepth:{v:1024,d:"Maximum depth of call/create stack"},maxExtraDataSize:{v:32,d:"Maximum size extra data may be after Genesis"}},pow:{minimumDifficulty:{v:131072,d:"The minimum that the difficulty may ever be"},difficultyBoundDivisor:{v:2048,d:"The bound divisor of the difficulty, used in the update calculations"},durationLimit:{v:13,d:"The decision boundary on the blocktime duration used to determine whether difficulty should go up or not"},epochDuration:{v:3e4,d:"Duration between proof-of-work epochs"},timebombPeriod:{v:1e5,d:"Exponential difficulty timebomb period"},minerReward:{v:"5000000000000000000",d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:0,d:"the amount of blocks to delay the difficulty bomb with"}}},homestead:{name:"homestead",comment:"Homestead hardfork with protocol and network changes",url:"https://eips.ethereum.org/EIPS/eip-606",status:"Final",gasConfig:{},gasPrices:{delegatecall:{v:40,d:"Base fee of the DELEGATECALL opcode"}},vm:{},pow:{}},dao:{name:"dao",comment:"DAO rescue hardfork",url:"https://eips.ethereum.org/EIPS/eip-779",status:"Final",gasConfig:{},gasPrices:{},vm:{},pow:{}},tangerineWhistle:{name:"tangerineWhistle",comment:"Hardfork with gas cost changes for IO-heavy operations",url:"https://eips.ethereum.org/EIPS/eip-608",status:"Final",gasConfig:{},gasPrices:{sload:{v:200,d:"Once per SLOAD operation"},call:{v:700,d:"Once per CALL operation & message call transaction"},extcodesize:{v:700,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:700,d:"Base fee of the EXTCODECOPY opcode"},balance:{v:400,d:"Base fee of the BALANCE opcode"},delegatecall:{v:700,d:"Base fee of the DELEGATECALL opcode"},callcode:{v:700,d:"Base fee of the CALLCODE opcode"},selfdestruct:{v:5e3,d:"Base fee of the SELFDESTRUCT opcode"}},vm:{},pow:{}},spuriousDragon:{name:"spuriousDragon",comment:"HF with EIPs for simple replay attack protection, EXP cost increase, state trie clearing, contract code size limit",url:"https://eips.ethereum.org/EIPS/eip-607",status:"Final",gasConfig:{},gasPrices:{expByte:{v:50,d:"Times ceil(log256(exponent)) for the EXP instruction"}},vm:{maxCodeSize:{v:24576,d:"Maximum length of contract code"}},pow:{}},byzantium:{name:"byzantium",comment:"Hardfork with new precompiles, instructions and other protocol changes",url:"https://eips.ethereum.org/EIPS/eip-609",status:"Final",gasConfig:{},gasPrices:{modexpGquaddivisor:{v:20,d:"Gquaddivisor from modexp precompile for gas calculation"},ecAdd:{v:500,d:"Gas costs for curve addition precompile"},ecMul:{v:4e4,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:1e5,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:8e4,d:"Gas costs regarding curve pairing precompile input length"},revert:{v:0,d:"Base fee of the REVERT opcode"},staticcall:{v:700,d:"Base fee of the STATICCALL opcode"},returndatasize:{v:2,d:"Base fee of the RETURNDATASIZE opcode"},returndatacopy:{v:3,d:"Base fee of the RETURNDATACOPY opcode"}},vm:{},pow:{minerReward:{v:"3000000000000000000",d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:3e6,d:"the amount of blocks to delay the difficulty bomb with"}}},constantinople:{name:"constantinople",comment:"Postponed hardfork including EIP-1283 (SSTORE gas metering changes)",url:"https://eips.ethereum.org/EIPS/eip-1013",status:"Final",gasConfig:{},gasPrices:{netSstoreNoopGas:{v:200,d:"Once per SSTORE operation if the value doesn't change"},netSstoreInitGas:{v:2e4,d:"Once per SSTORE operation from clean zero"},netSstoreCleanGas:{v:5e3,d:"Once per SSTORE operation from clean non-zero"},netSstoreDirtyGas:{v:200,d:"Once per SSTORE operation from dirty"},netSstoreClearRefund:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},netSstoreResetRefund:{v:4800,d:"Once per SSTORE operation for resetting to the original non-zero value"},netSstoreResetClearRefund:{v:19800,d:"Once per SSTORE operation for resetting to the original zero value"},shl:{v:3,d:"Base fee of the SHL opcode"},shr:{v:3,d:"Base fee of the SHR opcode"},sar:{v:3,d:"Base fee of the SAR opcode"},extcodehash:{v:400,d:"Base fee of the EXTCODEHASH opcode"},create2:{v:32e3,d:"Base fee of the CREATE2 opcode"}},vm:{},pow:{minerReward:{v:"2000000000000000000",d:"The amount a miner gets rewarded for mining a block"},difficultyBombDelay:{v:5e6,d:"the amount of blocks to delay the difficulty bomb with"}}},petersburg:{name:"petersburg",comment:"Aka constantinopleFix, removes EIP-1283, activate together with or after constantinople",url:"https://eips.ethereum.org/EIPS/eip-1716",status:"Final",gasConfig:{},gasPrices:{netSstoreNoopGas:{v:null,d:"Removed along EIP-1283"},netSstoreInitGas:{v:null,d:"Removed along EIP-1283"},netSstoreCleanGas:{v:null,d:"Removed along EIP-1283"},netSstoreDirtyGas:{v:null,d:"Removed along EIP-1283"},netSstoreClearRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetClearRefund:{v:null,d:"Removed along EIP-1283"}},vm:{},pow:{}},istanbul:{name:"istanbul",comment:"HF targeted for December 2019 following the Constantinople/Petersburg HF",url:"https://eips.ethereum.org/EIPS/eip-1679",status:"Final",gasConfig:{},gasPrices:{blake2Round:{v:1,d:"Gas cost per round for the Blake2 F precompile"},ecAdd:{v:150,d:"Gas costs for curve addition precompile"},ecMul:{v:6e3,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:45e3,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:34e3,d:"Gas costs regarding curve pairing precompile input length"},txDataNonZero:{v:16,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},sstoreSentryGasEIP2200:{v:2300,d:"Minimum gas required to be present for an SSTORE call, not consumed"},sstoreNoopGasEIP2200:{v:800,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:800,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitGasEIP2200:{v:2e4,d:"Once per SSTORE operation from clean zero to non-zero"},sstoreInitRefundEIP2200:{v:19200,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanGasEIP2200:{v:5e3,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreCleanRefundEIP2200:{v:4200,d:"Once per SSTORE operation for resetting to the original non-zero value"},sstoreClearRefundEIP2200:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},balance:{v:700,d:"Base fee of the BALANCE opcode"},extcodehash:{v:700,d:"Base fee of the EXTCODEHASH opcode"},chainid:{v:2,d:"Base fee of the CHAINID opcode"},selfbalance:{v:5,d:"Base fee of the SELFBALANCE opcode"},sload:{v:800,d:"Base fee of the SLOAD opcode"}},vm:{},pow:{}},muirGlacier:{name:"muirGlacier",comment:"HF to delay the difficulty bomb",url:"https://eips.ethereum.org/EIPS/eip-2384",status:"Final",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:9e6,d:"the amount of blocks to delay the difficulty bomb with"}}},berlin:{name:"berlin",comment:"HF targeted for July 2020 following the Muir Glacier HF",url:"https://eips.ethereum.org/EIPS/eip-2070",status:"Final",eips:[2565,2929,2718,2930]},london:{name:"london",comment:"HF targeted for July 2021 following the Berlin fork",url:"https://github.com/ethereum/eth1.0-specs/blob/master/network-upgrades/mainnet-upgrades/london.md",status:"Final",eips:[1559,3198,3529,3541]},shanghai:{name:"shanghai",comment:"Next feature hardfork after the merge hardfork having withdrawals, warm coinbase, push0, limit/meter initcode",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/shanghai.md",status:"Final",eips:[3651,3855,3860,4895]},arrowGlacier:{name:"arrowGlacier",comment:"HF to delay the difficulty bomb",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/arrow-glacier.md",status:"Final",eips:[4345],gasConfig:{},gasPrices:{},vm:{},pow:{}},grayGlacier:{name:"grayGlacier",comment:"Delaying the difficulty bomb to Mid September 2022",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/gray-glacier.md",status:"Draft",eips:[5133],gasConfig:{},gasPrices:{},vm:{},pow:{}},mergeForkIdTransition:{name:"mergeForkIdTransition",comment:"Pre-merge hardfork to fork off non-upgraded clients",url:"https://eips.ethereum.org/EIPS/eip-3675",status:"Draft",eips:[]},merge:{name:"merge",comment:"Hardfork to upgrade the consensus mechanism to Proof-of-Stake",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/merge.md",status:"Final",consensus:{type:"pos",algorithm:"casper",casper:{}},eips:[3675,4399]}},{buf:o$}=oV;class o0 extends nq{static custom(e){var t;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null!==(t=r.baseChain)&&void 0!==t?t:"mainnet",i=Object.assign({},o0._getChainParams(n));if(i.name="custom-chain","string"!=typeof e)return new o0(Object.assign({chain:Object.assign(Object.assign({},i),e)},r));if(e===R.PolygonMainnet)return o0.custom({name:R.PolygonMainnet,chainId:137,networkId:137},r);if(e===R.PolygonMumbai)return o0.custom({name:R.PolygonMumbai,chainId:80001,networkId:80001},r);if(e===R.ArbitrumRinkebyTestnet)return o0.custom({name:R.ArbitrumRinkebyTestnet,chainId:421611,networkId:421611},r);if(e===R.ArbitrumOne)return o0.custom({name:R.ArbitrumOne,chainId:42161,networkId:42161},r);if(e===R.xDaiChain)return o0.custom({name:R.xDaiChain,chainId:100,networkId:100},r);if(e===R.OptimisticKovan)return o0.custom({name:R.OptimisticKovan,chainId:69,networkId:69},Object.assign({hardfork:T.Berlin},r));if(e===R.OptimisticEthereum)return o0.custom({name:R.OptimisticEthereum,chainId:10,networkId:10},Object.assign({hardfork:T.Berlin},r));throw Error("Custom chain ".concat(e," not supported"))}static fromGethGenesis(e,t){var r;let{chain:n,eips:i,genesisHash:s,hardfork:o,mergeForkIdPostMerge:a}=t,c=function(e,t,r){try{if(["config","difficulty","gasLimit","alloc"].some(t=>!(t in e)))throw Error("Invalid format, expected geth genesis fields missing");return void 0!==t&&(e.name=t),function(e){var t,r,n;let i=!(arguments.length>1)||void 0===arguments[1]||arguments[1],{name:s,config:o,difficulty:a,mixHash:c,gasLimit:u,coinbase:l,baseFeePerGas:d}=e,{extraData:h,timestamp:f,nonce:p}=e,m=Number(f),{chainId:g}=o;if(""===h&&(h="0x"),rA(f)||(f=oN(parseInt(f))),18!==p.length&&(p=(n=p)&&"0x0"!==n?rA(n)?"0x".concat(ok(n).padStart(16,"0")):"0x".concat(n.padStart(16,"0")):"0x0000000000000000"),o.eip155Block!==o.eip158Block)throw Error("EIP155 block number must equal EIP 158 block number since both are part of SpuriousDragon hardfork and the client only supports activating the full hardfork");let v={name:s,chainId:g,networkId:g,genesis:{timestamp:f,gasLimit:parseInt(u),difficulty:parseInt(a),nonce:p,extraData:h,mixHash:c,coinbase:l,baseFeePerGas:d},hardfork:void 0,hardforks:[],bootstrapNodes:[],consensus:void 0!==o.clique?{type:"poa",algorithm:"clique",clique:{period:null!==(t=o.clique.period)&&void 0!==t?t:o.clique.blockperiodseconds,epoch:null!==(r=o.clique.epoch)&&void 0!==r?r:o.clique.epochlength}}:{type:"pow",algorithm:"ethash",ethash:{}}},b={[T.Homestead]:{name:"homesteadBlock"},[T.Dao]:{name:"daoForkBlock"},[T.TangerineWhistle]:{name:"eip150Block"},[T.SpuriousDragon]:{name:"eip155Block"},[T.Byzantium]:{name:"byzantiumBlock"},[T.Constantinople]:{name:"constantinopleBlock"},[T.Petersburg]:{name:"petersburgBlock"},[T.Istanbul]:{name:"istanbulBlock"},[T.MuirGlacier]:{name:"muirGlacierBlock"},[T.Berlin]:{name:"berlinBlock"},[T.London]:{name:"londonBlock"},[T.MergeForkIdTransition]:{name:"mergeForkBlock",postMerge:i},[T.Shanghai]:{name:"shanghaiTime",postMerge:!0,isTimestamp:!0},[T.ShardingForkDev]:{name:"shardingForkTime",postMerge:!0,isTimestamp:!0}},y=Object.keys(b).reduce((e,t)=>(e[b[t].name]=t,e),{}),w=Object.keys(o).filter(e=>void 0!==y[e]&&void 0!==o[e]&&null!==o[e]);if(v.hardforks=w.map(e=>({name:y[e],block:!0===b[y[e]].isTimestamp||"number"!=typeof o[e]?null:o[e],timestamp:!0===b[y[e]].isTimestamp&&"number"==typeof o[e]?o[e]:void 0})).filter(e=>null!==e.block||void 0!==e.timestamp),v.hardforks.sort((e,t)=>{var r,n;return(null!==(r=e.block)&&void 0!==r?r:1/0)-(null!==(n=t.block)&&void 0!==n?n:1/0)}),v.hardforks.sort((e,t)=>{var r,n;return(null!==(r=e.timestamp)&&void 0!==r?r:m)-(null!==(n=t.timestamp)&&void 0!==n?n:m)}),void 0!==o.terminalTotalDifficulty){let e={name:T.Merge,ttd:o.terminalTotalDifficulty,block:null},t=v.hardforks.findIndex(e=>{var t;return(null===(t=b[e.name])||void 0===t?void 0:t.postMerge)===!0});-1!==t?v.hardforks.splice(t,0,e):v.hardforks.push(e)}let E=v.hardforks.length>0?v.hardforks.slice(-1)[0]:void 0;return v.hardfork=null==E?void 0:E.name,v.hardforks.unshift({name:T.Chainstart,block:0}),v}(e,r)}catch(e){throw Error("Error parsing parameters file: ".concat(e.message))}}(e,n,a),u=new o0({chain:null!==(r=c.name)&&void 0!==r?r:"custom",customChains:[c],eips:i,hardfork:null!=o?o:c.hardfork});return void 0!==s&&u.setForkHashes(s),u}static isSupportedChainId(e){return!!this._getInitializedChains().names[e.toString()]}static _getChainParams(e,t){let r=e,n=this._getInitializedChains(t);if("number"==typeof r||"bigint"==typeof r){if(r=r.toString(),n.names[r]){let e=n.names[r];return n[e]}throw Error("Chain with ID ".concat(r," not supported"))}if(void 0!==n[r])return n[r];throw Error("Chain with name ".concat(r," not supported"))}setChain(e){if("number"==typeof e||"bigint"==typeof e||"string"==typeof e)this._chainParams=o0._getChainParams(e,this._customChains);else if("object"==typeof e){if(this._customChains.length>0)throw Error("Chain must be a string, number, or bigint when initialized with customChains passed in");for(let t of["networkId","genesis","hardforks","bootstrapNodes"])if(!(t in e))throw Error("Missing required chain parameter: ".concat(t));this._chainParams=e}else throw Error("Wrong input format");for(let e of this.hardforks())if(void 0===e.block)throw Error("Hardfork cannot have undefined block number");return this._chainParams}setHardfork(e){let t=!1;for(let r of this.HARDFORK_CHANGES)r[0]===e&&(this._hardfork!==e&&(this._hardfork=e,this.emit("hardforkChanged",e)),t=!0);if(!t)throw Error("Hardfork with name ".concat(e," not supported"))}getHardforkByBlockNumber(e,t,r){let n=oK(e,O.BigInt),i=oK(t,O.BigInt),s=oK(r,O.Number),o=this.hardforks().filter(e=>null!==e.block||null!==e.ttd&&void 0!==e.ttd||void 0!==e.timestamp),a=o.findIndex(e=>null!==e.ttd&&void 0!==e.ttd);if(o.slice(a+1).findIndex(e=>null!==e.ttd&&void 0!==e.ttd)>=0)throw Error("More than one merge hardforks found with ttd specified");let c=o.findIndex(e=>null!==e.block&&e.block>n||void 0!==s&&Number(e.timestamp)>s);if(-1===c)c=o.length;else if(0===c)throw Error("Must have at least one hardfork at block 0");if(void 0===s){let e=o.slice(0,c).reverse().findIndex(e=>null!==e.block||void 0!==e.ttd);c-=e}if(null===o[c-=1].block&&void 0===o[c].timestamp)(null==i||BigInt(o[c].ttd)>i)&&(c-=1);else if(a>=0&&null!=i){if(c>=a&&BigInt(o[a].ttd)>i)throw Error("Maximum HF determined by total difficulty is lower than the block number HF");if(c<a&&BigInt(o[a].ttd)<=i)throw Error("HF determined by block number is lower than the minimum total difficulty HF")}let u=c;for(;c<o.length-1&&o[c].block===o[c+1].block&&o[c].timestamp===o[c+1].timestamp;c+=1);if(s){if(o.slice(0,u).reduce((e,t)=>{var r;return Math.max(Number(null!==(r=t.timestamp)&&void 0!==r?r:"0"),e)},0)>s)throw Error("Maximum HF determined by timestamp is lower than the block number/ttd HF");if(o.slice(c+1).reduce((e,t)=>{var r;return Math.min(Number(null!==(r=t.timestamp)&&void 0!==r?r:s),e)},s)<s)throw Error("Maximum HF determined by block number/ttd is lower than timestamp HF")}return o[c].name}setHardforkByBlockNumber(e,t,r){let n=this.getHardforkByBlockNumber(e,t,r);return this.setHardfork(n),n}_getHardfork(e){for(let t of this.hardforks())if(t.name===e)return t;return null}setEIPs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];for(let t of e){if(!(t in oX))throw Error("".concat(t," not supported"));let r=this.gteHardfork(oX[t].minimumHardfork);if(!r)throw Error("".concat(t," cannot be activated on hardfork ").concat(this.hardfork(),", minimumHardfork: ").concat(r));if(void 0!==oX[t].requiredEIPs){for(let r of oX[t].requiredEIPs)if(!(e.includes(r)||this.isActivatedEIP(r)))throw Error("".concat(t," requires EIP ").concat(r,", but is not included in the EIP list"))}}this._eips=e}param(e,t){let r;for(let n of this._eips)if(void 0!==(r=this.paramByEIP(e,t,n)))return r;return this.paramByHardfork(e,t,this._hardfork)}paramByHardfork(e,t,r){let n=null;for(let i of this.HARDFORK_CHANGES){if("eips"in i[1])for(let r of i[1].eips){let i=this.paramByEIP(e,t,r);n="bigint"==typeof i?i:n}else{if(void 0===i[1][e])throw Error("Topic ".concat(e," not defined"));void 0!==i[1][e][t]&&(n=i[1][e][t].v)}if(i[0]===r)break}return BigInt(null!=n?n:0)}paramByEIP(e,t,r){if(!(r in oX))throw Error("".concat(r," not supported"));let n=oX[r];if(!(e in n))throw Error("Topic ".concat(e," not defined"));if(void 0!==n[e][t])return BigInt(n[e][t].v)}paramByBlock(e,t,r,n,i){let s=this.getHardforkByBlockNumber(r,n,i);return this.paramByHardfork(e,t,s)}isActivatedEIP(e){if(this.eips().includes(e))return!0;for(let t of this.HARDFORK_CHANGES){let r=t[1];if(this.gteHardfork(r.name)&&"eips"in r&&r.eips.includes(e))return!0}return!1}hardforkIsActiveOnBlock(e,t){let r=oK(t,O.BigInt),n=null!=e?e:this._hardfork,i=this.hardforkBlock(n);return"bigint"==typeof i&&i!==BigInt(0)&&r>=i}activeOnBlock(e){return this.hardforkIsActiveOnBlock(null,e)}hardforkGteHardfork(e,t){let r=null!=e?e:this._hardfork,n=this.hardforks(),i=-1,s=-1,o=0;for(let e of n)e.name===r&&(i=o),e.name===t&&(s=o),o+=1;return i>=s&&-1!==s}gteHardfork(e){return this.hardforkGteHardfork(null,e)}hardforkBlock(e){var t;let r=null!=e?e:this._hardfork,n=null===(t=this._getHardfork(r))||void 0===t?void 0:t.block;return null==n?null:BigInt(n)}hardforkTimestamp(e){var t;let r=null!=e?e:this._hardfork,n=null===(t=this._getHardfork(r))||void 0===t?void 0:t.timestamp;return null==n?null:BigInt(n)}eipBlock(e){for(let t of this.HARDFORK_CHANGES){let r=t[1];if("eips"in r&&r.eips.includes(e))return this.hardforkBlock("number"==typeof t[0]?String(t[0]):t[0])}return null}hardforkTTD(e){var t;let r=null!=e?e:this._hardfork,n=null===(t=this._getHardfork(r))||void 0===t?void 0:t.ttd;return null==n?null:BigInt(n)}isHardforkBlock(e,t){let r=oK(e,O.BigInt),n=null!=t?t:this._hardfork,i=this.hardforkBlock(n);return"bigint"==typeof i&&i!==BigInt(0)&&i===r}nextHardforkBlockOrTimestamp(e){var t,r;let n=null!=e?e:this._hardfork,i=this.hardforks(),s=i.findIndex(e=>e.name===n);if(n===T.Merge&&(s-=1),s<0)return null;let o=null!==(t=i[s].timestamp)&&void 0!==t?t:i[s].block;o=null!=o?Number(o):null;let a=i.slice(s+1).find(e=>{var t;let r=null!==(t=e.timestamp)&&void 0!==t?t:e.block;return r=null!=r?Number(r):null,e.name!==T.Merge&&null!=r&&r!==o});if(void 0===a)return null;let c=null!==(r=a.timestamp)&&void 0!==r?r:a.block;return null==c?null:BigInt(c)}nextHardforkBlock(e){let t=null!=e?e:this._hardfork,r=this.hardforkBlock(t);if(null===r&&t===T.Merge){let e=this.hardforks(),t=e.findIndex(e=>null!==e.ttd&&void 0!==e.ttd);if(t<0)throw Error("Merge hardfork should have been found");r=this.hardforkBlock(e[t-1].name)}return null===r?null:this.hardforks().reduce((e,t)=>{let n=BigInt(null===t.block||void 0!==t.ttd&&null!==t.ttd?0:t.block);return n>r&&null===e?n:e},null)}isNextHardforkBlock(e,t){let r=oK(e,O.BigInt),n=null!=t?t:this._hardfork,i=this.nextHardforkBlock(n);return null!==i&&i===r}_calcForkHash(e,t){let r=new Uint8Array,n=0;for(let t of this.hardforks()){let{block:i,timestamp:s,name:o}=t,a=null!=s?s:i;if("number"==typeof(a=null!==a?Number(a):null)&&0!==a&&a!==n&&o!==T.Merge&&(r=nu(r,nm(a.toString(16).padStart(16,"0"))),n=a),t.name===e)break}return np(oM(o$(nu(t,r))>>>0))}forkHash(e,t){let r=null!=e?e:this._hardfork,n=this._getHardfork(r);if(null===n||(null==n?void 0:n.block)===null&&(null==n?void 0:n.timestamp)===void 0&&(null==n?void 0:n.ttd)===void 0)throw Error("No fork hash calculation possible for future hardfork");if((null==n?void 0:n.forkHash)!==null&&(null==n?void 0:n.forkHash)!==void 0)return n.forkHash;if(!t)throw Error("genesisHash required for forkHash calculation");return this._calcForkHash(r,t)}hardforkForForkHash(e){let t=this.hardforks().filter(t=>t.forkHash===e);return t.length>=1?t[t.length-1]:null}setForkHashes(e){var t;for(let r of this.hardforks()){let n=null!==(t=r.timestamp)&&void 0!==t?t:r.block;(null===r.forkHash||void 0===r.forkHash)&&(null!=n||void 0!==r.ttd)&&(r.forkHash=this.forkHash(r.name,e))}}genesis(){return this._chainParams.genesis}hardforks(){return this._chainParams.hardforks}bootstrapNodes(){return this._chainParams.bootstrapNodes}dnsNetworks(){return this._chainParams.dnsNetworks}hardfork(){return this._hardfork}chainId(){return BigInt(this._chainParams.chainId)}chainName(){return this._chainParams.name}networkId(){return BigInt(this._chainParams.networkId)}eips(){return this._eips}consensusType(){let e;let t=this.hardfork();for(let r of this.HARDFORK_CHANGES)if("consensus"in r[1]&&(e=r[1].consensus.type),r[0]===t)break;return null!=e?e:this._chainParams.consensus.type}consensusAlgorithm(){let e;let t=this.hardfork();for(let r of this.HARDFORK_CHANGES)if("consensus"in r[1]&&(e=r[1].consensus.algorithm),r[0]===t)break;return null!=e?e:this._chainParams.consensus.algorithm}consensusConfig(){var e;let t;let r=this.hardfork();for(let e of this.HARDFORK_CHANGES)if("consensus"in e[1]&&(t=e[1].consensus[e[1].consensus.algorithm]),e[0]===r)break;return null!==(e=null!=t?t:this._chainParams.consensus[this.consensusAlgorithm()])&&void 0!==e?e:{}}copy(){let e=Object.assign(Object.create(Object.getPrototypeOf(this)),this);return e.removeAllListeners(),e}static _getInitializedChains(e){let t={};for(let[e,r]of Object.entries(A))t[r]=e.toLowerCase();let r={mainnet:oZ,goerli:oJ,sepolia:oQ};if(e)for(let n of e){let{name:e}=n;t[n.chainId.toString()]=e,r[e]=n}return r.names=t,r}constructor(e){var t,r;super(),this._eips=[],this._customChains=null!==(t=e.customChains)&&void 0!==t?t:[],this._chainParams=this.setChain(e.chain),this.DEFAULT_HARDFORK=null!==(r=this._chainParams.defaultHardfork)&&void 0!==r?r:T.Merge,this.HARDFORK_CHANGES=this.hardforks().map(e=>[e.name,oY[e.name]]),this._hardfork=this.DEFAULT_HARDFORK,void 0!==e.hardfork&&this.setHardfork(e.hardfork),e.eips&&this.setEIPs(e.eips)}}(g=P||(P={}))[g.EIP155ReplayProtection=155]="EIP155ReplayProtection",g[g.EIP1559FeeMarket=1559]="EIP1559FeeMarket",g[g.EIP2718TypedTransaction=2718]="EIP2718TypedTransaction",g[g.EIP2930AccessLists=2930]="EIP2930AccessLists";class o1{static zero(){return new o1(oD(20))}equals(e){return nl(this.buf,e.buf)}isZero(){return this.equals(o1.zero())}toString(){return np(this.buf)}toArray(){return this.buf}static publicToAddress(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e;if(oH(r),t&&64!==r.length&&(r=ox.ProjectivePoint.fromHex(r).toRawBytes(!1).slice(1)),64!==r.length)throw Error("Expected pubKey to be of length 64");return rp(r).slice(-20)}constructor(e){if(20!==e.length)throw Error("Invalid address length");this.buf=e}}let o2=(e,t)=>{let r=e.param("vm","maxInitCodeSize");if(r&&BigInt(t)>r)throw Error("the initcode size of this transaction is too large: it is ".concat(t," while the max is ").concat(e.param("vm","maxInitCodeSize")))},o3=e=>{let t,r;if(0===e.length||Array.isArray(e[0])){r=null!=e?e:[];let n=[];for(let e=0;e<r.length;e+=1){let t=r[e],i=np(t[0]),s=[];for(let e=0;e<t[1].length;e+=1)s.push(np(t[1][e]));let o={address:i,storageKeys:s};n.push(o)}t=n}else{t=e;let n=[];for(let t=0;t<e.length;t+=1){let r=e[t],i=oL(r.address),s=[];for(let e=0;e<r.storageKeys.length;e+=1)s.push(oL(r.storageKeys[e]));n.push([i,s])}r=n}return{AccessListJSON:t,accessList:r}},o4=e=>{for(let t=0;t<e.length;t+=1){let r=e[t],n=r[0],i=r[1];if(void 0!==r[2])throw Error("Access list item cannot have 3 elements. It can only have an address, and an array of storage slots.");if(20!==n.length)throw Error("Invalid EIP-2930 transaction: address length should be 20 bytes");for(let e=0;e<i.length;e+=1)if(32!==i[e].length)throw Error("Invalid EIP-2930 transaction: storage slot length should be 32 bytes")}},o6=e=>{let t=[];for(let r=0;r<e.length;r+=1){let n=e[r],i={address:np(oj(n[0],20)),storageKeys:[]},s=n&&n[1];for(let e=0;e<s.length;e+=1){let t=s[e];i.storageKeys.push(np(oj(t,32)))}t.push(i)}return t},o8=(e,t)=>{let r=t.param("gasPrices","accessListStorageKeyCost"),n=t.param("gasPrices","accessListAddressCost"),i=0;for(let t=0;t<e.length;t+=1)i+=e[t][1].length;return e.length*Number(n)+i*Number(r)};class o5{get type(){return this._type}supports(e){return this.activeCapabilities.includes(e)}validate(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[];return this.getBaseFee()>this.gasLimit&&t.push("gasLimit is too low. given ".concat(this.gasLimit,", need at least ").concat(this.getBaseFee())),this.isSigned()&&!this.verifySignature()&&t.push("Invalid Signature"),e?t:0===t.length}_validateYParity(){let{v:e}=this;if(void 0!==e&&e!==BigInt(0)&&e!==BigInt(1))throw Error(this._errorMsg("The y-parity of the transaction should either be 0 or 1"))}_validateHighS(){let{s:e}=this;if(this.common.gteHardfork("homestead")&&void 0!==e&&e>oO)throw Error(this._errorMsg("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid"))}getBaseFee(){let e=this.common.param("gasPrices","tx"),t=this.getDataFee();if(e&&(t+=e),this.common.gteHardfork("homestead")&&this.toCreationAddress()){let e=this.common.param("gasPrices","txCreation");e&&(t+=e)}return t}getDataFee(){let e=this.common.param("gasPrices","txDataZero"),t=this.common.param("gasPrices","txDataNonZero"),r=BigInt(0);for(let n=0;n<this.data.length;n+=1)0===this.data[n]?r+=e:r+=t;if((void 0===this.to||null===this.to)&&this.common.isActivatedEIP(3860)){let e=BigInt(Math.ceil(this.data.length/32));r+=this.common.param("gasPrices","initCodeWordCost")*e}return r}toCreationAddress(){return void 0===this.to||0===this.to.buf.length}isSigned(){let{v:e,r:t,s:r}=this;return void 0!==e&&void 0!==t&&void 0!==r}verifySignature(){try{let e=this.getSenderPublicKey();return 0!==oF(e).length}catch(e){return!1}}getSenderAddress(){return new o1(o1.publicToAddress(this.getSenderPublicKey()))}sign(e){if(32!==e.length)throw Error(this._errorMsg("Private key must be 32 bytes in length."));let t=!1;0===this.type&&this.common.gteHardfork("spuriousDragon")&&!this.supports(P.EIP155ReplayProtection)&&(this.activeCapabilities.push(P.EIP155ReplayProtection),t=!0);let r=this.getMessageToSign(!0),{v:n,r:i,s}=this._ecsign(r,e),o=this._processSignature(n,i,s);if(t){let e=this.activeCapabilities.indexOf(P.EIP155ReplayProtection);e>-1&&this.activeCapabilities.splice(e,1)}return o}_getCommon(e,t){var r,n,i,s;if(void 0!==t){let r=oB(oL(t));if(e){if(e.chainId()!==r)throw Error(this._errorMsg("The chain ID does not match the chain ID of Common"));return e.copy()}return o0.isSupportedChainId(r)?new o0({chain:r,hardfork:this.DEFAULT_HARDFORK}):o0.custom({name:"custom-chain",networkId:r,chainId:r},{baseChain:this.DEFAULT_CHAIN,hardfork:this.DEFAULT_HARDFORK})}if((null==e?void 0:e.copy)&&"function"==typeof(null==e?void 0:e.copy))return e.copy();if(e){let t="function"==typeof e.hardfork?e.hardfork():e.hardfork;return o0.custom({name:"custom-chain",networkId:e.networkId?e.networkId():null!==(n=BigInt(null===(r=e.customChain)||void 0===r?void 0:r.networkId))&&void 0!==n?n:void 0,chainId:e.chainId?e.chainId():null!==(s=BigInt(null===(i=e.customChain)||void 0===i?void 0:i.chainId))&&void 0!==s?s:void 0},{baseChain:this.DEFAULT_CHAIN,hardfork:t||this.DEFAULT_HARDFORK})}return new o0({chain:this.DEFAULT_CHAIN,hardfork:this.DEFAULT_HARDFORK})}_validateCannotExceedMaxInteger(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(let[n,i]of Object.entries(e))switch(t){case 64:if(r){if(void 0!==i&&i>=oI)throw Error(this._errorMsg("".concat(n," cannot equal or exceed MAX_UINT64 (2^64-1), given ").concat(i)))}else if(void 0!==i&&i>oI)throw Error(this._errorMsg("".concat(n," cannot exceed MAX_UINT64 (2^64-1), given ").concat(i)));break;case 256:if(r){if(void 0!==i&&i>=oR)throw Error(this._errorMsg("".concat(n," cannot equal or exceed MAX_INTEGER (2^256-1), given ").concat(i)))}else if(void 0!==i&&i>oR)throw Error(this._errorMsg("".concat(n," cannot exceed MAX_INTEGER (2^256-1), given ").concat(i)));break;default:throw Error(this._errorMsg("unimplemented bits value"))}}static _validateNotArray(e){let t=["nonce","gasPrice","gasLimit","to","value","data","v","r","s","type","baseFee","maxFeePerGas","chainId"];for(let[r,n]of Object.entries(e))if(t.includes(r)&&Array.isArray(n))throw Error("".concat(r," cannot be an array"))}_getSharedErrorPostfix(){let e="";try{e=this.isSigned()?np(this.hash()):"not available (unsigned)"}catch(t){e="error"}let t="";try{t=this.isSigned().toString()}catch(t){e="error"}let r="";try{r=this.common.hardfork()}catch(e){r="error"}return"tx type=".concat(this.type," hash=").concat(e," nonce=").concat(this.nonce," value=").concat(this.value," ")+"signed=".concat(t," hf=").concat(r)}_ecsign(e,t,r){let n=ox.sign(e,t),i=n.toCompactRawBytes();return{r:i.subarray(0,32),s:i.subarray(32,64),v:void 0===r?BigInt(n.recovery+27):BigInt(n.recovery+35)+BigInt(r)*BigInt(2)}}static fromSerializedTx(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]}static fromTxData(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]}constructor(e,t){var r,n;this.cache={hash:void 0,dataFee:void 0},this.activeCapabilities=[],this.DEFAULT_CHAIN=A.Mainnet,this.DEFAULT_HARDFORK=T.Merge;let{nonce:i,gasLimit:s,to:o,value:a,data:c,v:u,r:l,s:d,type:h}=e;this._type=Number(oB(oL(h))),this.txOptions=t;let f=oL(""===o?"0x":o),p=oL(""===u?"0x":u),m=oL(""===l?"0x":l),g=oL(""===d?"0x":d);this.nonce=oB(oL(""===i?"0x":i)),this.gasLimit=oB(oL(""===s?"0x":s)),this.to=f.length>0?new o1(f):void 0,this.value=oB(oL(""===a?"0x":a)),this.data=oL(""===c?"0x":c),this.v=p.length>0?oB(p):void 0,this.r=m.length>0?oB(m):void 0,this.s=g.length>0?oB(g):void 0,this._validateCannotExceedMaxInteger({value:this.value,r:this.r,s:this.s}),this._validateCannotExceedMaxInteger({gasLimit:this.gasLimit},64),this._validateCannotExceedMaxInteger({nonce:this.nonce},64,!0);let v=void 0===this.to||null===this.to,b=null!==(r=t.allowUnlimitedInitCodeSize)&&void 0!==r&&r,y=null!==(n=t.common)&&void 0!==n?n:this._getCommon();v&&y.isActivatedEIP(3860)&&!b&&o2(y,this.data.length)}}let o7=nm("2".padStart(2,"0"));class o9 extends o5{static fromTxData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new o9(e,t)}static fromSerializedTx(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!nl(e.subarray(0,1),o7))throw Error("Invalid serialized tx input: not an EIP-1559 transaction (wrong tx type, expected: ".concat(2,", received: ").concat(np(e.subarray(0,1))));let r=oW.yH.decode(e.subarray(1));if(!Array.isArray(r))throw Error("Invalid serialized tx input: must be array");return o9.fromValuesArray(r,t)}static fromValuesArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(9!==e.length&&12!==e.length)throw Error("Invalid EIP-1559 transaction. Only expecting 9 values (for unsigned tx) or 12 values (for signed tx).");let[r,n,i,s,o,a,c,u,l,d,h,f]=e;return this._validateNotArray({chainId:r,v:d}),rT({nonce:n,maxPriorityFeePerGas:i,maxFeePerGas:s,gasLimit:o,value:c,v:d,r:h,s:f}),new o9({chainId:oB(r),nonce:n,maxPriorityFeePerGas:i,maxFeePerGas:s,gasLimit:o,to:a,value:c,data:u,accessList:null!=l?l:[],v:void 0!==d?oB(d):void 0,r:h,s:f},t)}getDataFee(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;let e=super.getDataFee();return e+=BigInt(o8(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:e,hardfork:this.common.hardfork()}),e}getUpfrontCost(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:BigInt(0),t=this.maxPriorityFeePerGas,r=this.maxFeePerGas-e;return this.gasLimit*((t<r?t:r)+e)+this.value}raw(){return[oG(this.chainId),oG(this.nonce),oG(this.maxPriorityFeePerGas),oG(this.maxFeePerGas),oG(this.gasLimit),void 0!==this.to?this.to.buf:Uint8Array.from([]),oG(this.value),this.data,this.accessList,void 0!==this.v?oG(this.v):Uint8Array.from([]),void 0!==this.r?oG(this.r):Uint8Array.from([]),void 0!==this.s?oG(this.s):Uint8Array.from([])]}serialize(){let e=this.raw();return nu(o7,oW.yH.encode(e))}getMessageToSign(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=this.raw().slice(0,9),r=nu(o7,oW.yH.encode(t));return e?rp(r):r}hash(){if(!this.isSigned())throw Error(this._errorMsg("Cannot call hash method if transaction is not signed"));return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=rp(this.serialize())),this.cache.hash):rp(this.serialize())}getMessageToVerifySignature(){return this.getMessageToSign()}getSenderPublicKey(){if(!this.isSigned())throw Error(this._errorMsg("Cannot call this method if transaction is not signed"));let e=this.getMessageToVerifySignature(),{v:t,r,s:n}=this;this._validateHighS();try{return oz(e,t+BigInt(27),oG(r),oG(n))}catch(e){throw Error(this._errorMsg("Invalid Signature"))}}_processSignature(e,t,r){let n=Object.assign(Object.assign({},this.txOptions),{common:this.common});return o9.fromTxData({chainId:this.chainId,nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:e-BigInt(27),r:oB(t),s:oB(r)},n)}toJSON(){let e=o6(this.accessList);return{chainId:oq(this.chainId),nonce:oq(this.nonce),maxPriorityFeePerGas:oq(this.maxPriorityFeePerGas),maxFeePerGas:oq(this.maxFeePerGas),gasLimit:oq(this.gasLimit),to:void 0!==this.to?this.to.toString():void 0,value:oq(this.value),data:np(this.data),accessList:e,v:void 0!==this.v?oq(this.v):void 0,r:void 0!==this.r?oq(this.r):void 0,s:void 0!==this.s?oq(this.s):void 0}}errorStr(){return this._getSharedErrorPostfix()+" maxFeePerGas=".concat(this.maxFeePerGas," maxPriorityFeePerGas=").concat(this.maxPriorityFeePerGas)}_errorMsg(e){return"".concat(e," (").concat(this.errorStr(),")")}constructor(e,t={}){var r;super(Object.assign(Object.assign({},e),{type:2}),t),this.DEFAULT_HARDFORK="london";let{chainId:n,accessList:i,maxFeePerGas:s,maxPriorityFeePerGas:o}=e;if(this.common=this._getCommon(t.common,n),this.chainId=this.common.chainId(),!this.common.isActivatedEIP(1559))throw Error("EIP-1559 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([1559,2718,2930]);let a=o3(null!=i?i:[]);if(this.accessList=a.accessList,this.AccessListJSON=a.AccessListJSON,o4(this.accessList),this.maxFeePerGas=oB(oL(""===s?"0x":s)),this.maxPriorityFeePerGas=oB(oL(""===o?"0x":o)),this._validateCannotExceedMaxInteger({maxFeePerGas:this.maxFeePerGas,maxPriorityFeePerGas:this.maxPriorityFeePerGas}),o5._validateNotArray(e),this.gasLimit*this.maxFeePerGas>oR)throw Error(this._errorMsg("gasLimit * maxFeePerGas cannot exceed MAX_INTEGER (2^256-1)"));if(this.maxFeePerGas<this.maxPriorityFeePerGas)throw Error(this._errorMsg("maxFeePerGas cannot be less than maxPriorityFeePerGas (The total must be the larger of the two)"));this._validateYParity(),this._validateHighS(),(null===(r=null==t?void 0:t.freeze)||void 0===r||r)&&Object.freeze(this)}}let ae=nm("1".padStart(2,"0"));class at extends o5{static fromTxData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new at(e,t)}static fromSerializedTx(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!nl(e.subarray(0,1),ae))throw Error("Invalid serialized tx input: not an EIP-2930 transaction (wrong tx type, expected: ".concat(1,", received: ").concat(np(e.subarray(0,1))));let r=oW.yH.decode(Uint8Array.from(e.subarray(1)));if(!Array.isArray(r))throw Error("Invalid serialized tx input: must be array");return at.fromValuesArray(r,t)}static fromValuesArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(8!==e.length&&11!==e.length)throw Error("Invalid EIP-2930 transaction. Only expecting 8 values (for unsigned tx) or 11 values (for signed tx).");let[r,n,i,s,o,a,c,u,l,d,h]=e;return this._validateNotArray({chainId:r,v:l}),rT({nonce:n,gasPrice:i,gasLimit:s,value:a,v:l,r:d,s:h}),new at({chainId:oB(r),nonce:n,gasPrice:i,gasLimit:s,to:o,value:a,data:c,accessList:null!=u?u:[],v:void 0!==l?oB(l):void 0,r:d,s:h},t)}getDataFee(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;let e=super.getDataFee();return e+=BigInt(o8(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:e,hardfork:this.common.hardfork()}),e}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value}raw(){return[oG(this.chainId),oG(this.nonce),oG(this.gasPrice),oG(this.gasLimit),void 0!==this.to?this.to.buf:Uint8Array.from([]),oG(this.value),this.data,this.accessList,void 0!==this.v?oG(this.v):Uint8Array.from([]),void 0!==this.r?oG(this.r):Uint8Array.from([]),void 0!==this.s?oG(this.s):Uint8Array.from([])]}serialize(){let e=this.raw();return nu(ae,oW.yH.encode(e))}getMessageToSign(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=this.raw().slice(0,8),r=nu(ae,oW.yH.encode(t));return e?rp(r):r}hash(){if(!this.isSigned())throw Error(this._errorMsg("Cannot call hash method if transaction is not signed"));return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=rp(this.serialize())),this.cache.hash):rp(this.serialize())}getMessageToVerifySignature(){return this.getMessageToSign()}getSenderPublicKey(){if(!this.isSigned())throw Error(this._errorMsg("Cannot call this method if transaction is not signed"));let e=this.getMessageToVerifySignature(),{v:t,r,s:n}=this;this._validateHighS();try{return oz(e,t+BigInt(27),oG(r),oG(n))}catch(e){throw Error(this._errorMsg("Invalid Signature"))}}_processSignature(e,t,r){let n=Object.assign(Object.assign({},this.txOptions),{common:this.common});return at.fromTxData({chainId:this.chainId,nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:e-BigInt(27),r:oB(t),s:oB(r)},n)}toJSON(){let e=o6(this.accessList);return{chainId:oq(this.chainId),nonce:oq(this.nonce),gasPrice:oq(this.gasPrice),gasLimit:oq(this.gasLimit),to:void 0!==this.to?this.to.toString():void 0,value:oq(this.value),data:np(this.data),accessList:e,v:void 0!==this.v?oq(this.v):void 0,r:void 0!==this.r?oq(this.r):void 0,s:void 0!==this.s?oq(this.s):void 0}}errorStr(){var e,t;return this._getSharedErrorPostfix()+" gasPrice=".concat(this.gasPrice," accessListCount=").concat(null!==(t=null===(e=this.accessList)||void 0===e?void 0:e.length)&&void 0!==t?t:0)}_errorMsg(e){return"".concat(e," (").concat(this.errorStr(),")")}constructor(e,t={}){var r;super(Object.assign(Object.assign({},e),{type:1}),t),this.DEFAULT_HARDFORK="berlin";let{chainId:n,accessList:i,gasPrice:s}=e;if(this.common=this._getCommon(t.common,n),this.chainId=this.common.chainId(),!this.common.isActivatedEIP(2930))throw Error("EIP-2930 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([2718,2930]);let o=o3(null!=i?i:[]);if(this.accessList=o.accessList,this.AccessListJSON=o.AccessListJSON,o4(this.accessList),this.gasPrice=oB(oL(""===s?"0x":s)),this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),o5._validateNotArray(e),this.gasPrice*this.gasLimit>oR)throw Error(this._errorMsg("gasLimit * gasPrice cannot exceed MAX_INTEGER"));this._validateYParity(),this._validateHighS(),(null===(r=null==t?void 0:t.freeze)||void 0===r||r)&&Object.freeze(this)}}function ar(e,t){let r=Number(e),n=2*Number(t);return r===n+35||r===n+36}class an extends o5{static fromTxData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new an(e,t)}static fromSerializedTx(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=oW.yH.decode(e);if(!Array.isArray(r))throw Error("Invalid serialized tx input. Must be array");return this.fromValuesArray(r,t)}static fromValuesArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(6!==e.length&&9!==e.length)throw Error("Invalid transaction. Only expecting 6 values (for unsigned tx) or 9 values (for signed tx).");let[r,n,i,s,o,a,c,u,l]=e;return rT({nonce:r,gasPrice:n,gasLimit:i,value:o,v:c,r:u,s:l}),new an({nonce:r,gasPrice:n,gasLimit:i,to:s,value:o,data:a,v:c,r:u,s:l},t)}raw(){return[oG(this.nonce),oG(this.gasPrice),oG(this.gasLimit),void 0!==this.to?this.to.buf:Uint8Array.from([]),oG(this.value),this.data,void 0!==this.v?oG(this.v):Uint8Array.from([]),void 0!==this.r?oG(this.r):Uint8Array.from([]),void 0!==this.s?oG(this.s):Uint8Array.from([])]}serialize(){return oW.yH.encode(this.raw())}_getMessageToSign(){let e=[oG(this.nonce),oG(this.gasPrice),oG(this.gasLimit),void 0!==this.to?this.to.buf:Uint8Array.from([]),oG(this.value),this.data];return this.supports(P.EIP155ReplayProtection)&&(e.push(oL(this.common.chainId())),e.push(oF(oL(0))),e.push(oF(oL(0)))),e}getMessageToSign(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=this._getMessageToSign();return e?rp(oW.yH.encode(t)):t}getDataFee(){return this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork()?this.cache.dataFee.value:(Object.isFrozen(this)&&(this.cache.dataFee={value:super.getDataFee(),hardfork:this.common.hardfork()}),super.getDataFee())}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value}hash(){if(!this.isSigned())throw Error(this._errorMsg("Cannot call hash method if transaction is not signed"));return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=rp(oW.yH.encode(this.raw()))),this.cache.hash):rp(oW.yH.encode(this.raw()))}getMessageToVerifySignature(){if(!this.isSigned())throw Error(this._errorMsg("This transaction is not signed"));let e=this._getMessageToSign();return rp(oW.yH.encode(e))}getSenderPublicKey(){let e=this.getMessageToVerifySignature(),{v:t,r,s:n}=this;this._validateHighS();try{return oz(e,t,oG(r),oG(n),this.supports(P.EIP155ReplayProtection)?this.common.chainId():void 0)}catch(e){throw Error(this._errorMsg("Invalid Signature"))}}_processSignature(e,t,r){let n=e;this.supports(P.EIP155ReplayProtection)&&(n+=this.common.chainId()*BigInt(2)+BigInt(8));let i=Object.assign(Object.assign({},this.txOptions),{common:this.common});return an.fromTxData({nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,v:n,r:oB(t),s:oB(r)},i)}toJSON(){return{nonce:oq(this.nonce),gasPrice:oq(this.gasPrice),gasLimit:oq(this.gasLimit),to:void 0!==this.to?this.to.toString():void 0,value:oq(this.value),data:np(this.data),v:void 0!==this.v?oq(this.v):void 0,r:void 0!==this.r?oq(this.r):void 0,s:void 0!==this.s?oq(this.s):void 0}}_validateTxV(e,t){let r;let n=void 0!==e?Number(e):void 0;if(void 0!==n&&n<37&&27!==n&&28!==n)throw Error("Legacy txs need either v = 27/28 or v >= 37 (EIP-155 replay protection), got v = ".concat(n));if(void 0!==n&&0!==n&&(!t||t.gteHardfork("spuriousDragon"))&&27!==n&&28!==n){if(t){if(!ar(BigInt(n),t.chainId()))throw Error("Incompatible EIP155-based V ".concat(n," and chain id ").concat(t.chainId(),". See the Common parameter of the Transaction constructor to set the chain id."))}else r=BigInt(n-((n-35)%2==0?35:36))/BigInt(2)}return this._getCommon(t,r)}errorStr(){return this._getSharedErrorPostfix()+" gasPrice=".concat(this.gasPrice)}_errorMsg(e){return"".concat(e," (").concat(this.errorStr(),")")}constructor(e,t={}){var r;if(super(Object.assign(Object.assign({},e),{type:0}),t),this.common=this._validateTxV(this.v,t.common),this.gasPrice=oB(oL(""===e.gasPrice?"0x":e.gasPrice)),this.gasPrice*this.gasLimit>oR)throw Error(this._errorMsg("gas limit * gasPrice cannot exceed MAX_INTEGER (2^256-1)"));this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),o5._validateNotArray(e),this.common.gteHardfork("spuriousDragon")&&(this.isSigned()?ar(this.v,this.common.chainId())&&this.activeCapabilities.push(P.EIP155ReplayProtection):this.activeCapabilities.push(P.EIP155ReplayProtection)),(null===(r=null==t?void 0:t.freeze)||void 0===r||r)&&Object.freeze(this)}}let ai=new Map;class as{static typeToInt(e){return Number(oB(oL(e)))}static registerTransactionType(e,t){let r=as.typeToInt(e);ai.set(r,t)}static fromTxData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!("type"in e)||void 0===e.type)return an.fromTxData(e,t);let r=as.typeToInt(e.type);if(0===r)return an.fromTxData(e,t);if(1===r)return at.fromTxData(e,t);if(2===r)return o9.fromTxData(e,t);let n=ai.get(r);if(null==n?void 0:n.fromTxData)return n.fromTxData(e,t);throw Error("Tx instantiation with type ".concat(r," not supported"))}static fromSerializedData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(e[0]<=127))return an.fromSerializedTx(e,t);switch(e[0]){case 1:return at.fromSerializedTx(e,t);case 2:return o9.fromSerializedTx(e,t);default:{let r=ai.get(Number(e[0]));if(null==r?void 0:r.fromSerializedTx)return r.fromSerializedTx(e,t);throw Error("TypedTransaction with ID ".concat(e[0]," unknown"))}}}static fromBlockBodyData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(nc(e))return this.fromSerializedData(e,t);if(Array.isArray(e))return an.fromValuesArray(e,t);throw Error("Cannot decode transaction: unknown type input")}constructor(){}}var ao=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};let aa=(e,t)=>{let r;if(!t&&"string"==typeof e&&rE(e)&&66!==e.length)throw new H;try{r=nc(e)?e:nh(e)}catch(e){throw new j}if(!t&&32!==r.byteLength)throw new H;return r},ac=e=>{let t=nm(rE(e)?e:nE(e));return iu(nu(nm(n_("\x19Ethereum Signed Message:\n".concat(t.byteLength))),t))},au=(e,t)=>{let r=aa(t),n=ac(e),i=ox.sign(n.substring(2),r),s=i.toCompactRawBytes(),o=i.r.toString(16).padStart(64,"0"),a=i.s.toString(16).padStart(64,"0"),c=i.recovery+27;return{message:e,messageHash:n,v:nb(c),r:"0x".concat(o),s:"0x".concat(a),signature:"".concat(np(s)).concat(c.toString(16))}},al=(e,t)=>ao(void 0,void 0,void 0,function*(){let r=e.sign(nm(t));if(r9(r.v)||r9(r.r)||r9(r.s))throw new e$("Signer Error");let n=r.validate(!0);if(n.length>0){let e="Signer Error ";for(let t of n)e+="".concat(e," ").concat(t,".");throw new e$(e)}let i=np(r.serialize()),s=iu(i);return{messageHash:np(r.getMessageToSign(!0)),v:"0x".concat(r.v.toString(16)),r:"0x".concat(r.r.toString(16).padStart(64,"0")),s:"0x".concat(r.s.toString(16).padStart(64,"0")),rawTransaction:i,transactionHash:np(s)}}),ad=e=>{if(r9(e))throw new e_;return nD(as.fromSerializedData(nm(e)).getSenderAddress().toString())},ah=(e,t,r,n,i)=>{if("object"==typeof e){let t="".concat(e.r).concat(e.s.slice(2)).concat(e.v.slice(2));return ah(e.messageHash,t,r)}if("string"==typeof t&&"string"==typeof r&&!r9(n))return ah(e,"".concat(r).concat(n.slice(2)).concat(t.slice(2)),i);if(r9(t))throw new F("signature string undefined");let s=r?e:ac(e),o=parseInt(t.substring(130),16);o>26&&(o-=27);let a=iu(ox.Signature.fromCompact(t.slice(2,130)).addRecoveryBit(o).recoverPublicKey(s.replace("0x","")).toRawBytes(!1).subarray(1));return nD("0x".concat(a.slice(-40)))},af=e=>{let t=aa(e),r=iu(ox.getPublicKey(t,!1).slice(1)).slice(-40);return nD("0x".concat(r))},ap=(e,t)=>{let r=aa(e);return"0x".concat(np(ox.getPublicKey(r,t)).slice(4))},am=(e,t,r)=>ao(void 0,void 0,void 0,function*(){var n,i,s,o,a,c,u;let l,d,h,f;let p=aa(e);if(l=(null==r?void 0:r.salt)?"string"==typeof r.salt?nm(r.salt):r.salt:i_(32),!(rw(t)||nc(t)))throw new K;let m="string"==typeof t?nm(nE(t)):t;if(null==r?void 0:r.iv){if(16!==(d="string"==typeof r.iv?nm(r.iv):r.iv).length)throw new W}else d=i_(16);let g=null!==(n=null==r?void 0:r.kdf)&&void 0!==n?n:"scrypt";if("pbkdf2"===g){if((f={dklen:null!==(i=null==r?void 0:r.dklen)&&void 0!==i?i:32,salt:np(l).replace("0x",""),c:null!==(s=null==r?void 0:r.c)&&void 0!==s?s:262144,prf:"hmac-sha256"}).c<1e3)throw new V;h=sM(m,l,f.c,f.dklen,"sha256")}else if("scrypt"===g)f={n:null!==(o=null==r?void 0:r.n)&&void 0!==o?o:8192,r:null!==(a=null==r?void 0:r.r)&&void 0!==a?a:8,p:null!==(c=null==r?void 0:r.p)&&void 0!==c?c:1,dklen:null!==(u=null==r?void 0:r.dklen)&&void 0!==u?u:32,salt:np(l).replace("0x","")},h=sU(m,l,f.n,f.p,f.r,f.dklen);else throw new q;let v=yield sp(p,h.slice(0,16),d,"aes-128-ctr"),b=np(v).slice(2),y=iu(nu(h.slice(16,32),v)).replace("0x","");return{version:3,id:ik(),address:af(p).toLowerCase().replace("0x",""),crypto:{ciphertext:b,cipherparams:{iv:np(d).replace("0x","")},cipher:"aes-128-ctr",kdf:g,kdfparams:f,mac:y}}}),ag=(e,t)=>{let r=aa(e,t);return{address:af(r),privateKey:np(r),signTransaction:e=>{throw new e$("Do not have network access to sign the transaction")},sign:e=>au("string"==typeof e?e:JSON.stringify(e),r),encrypt:(e,t)=>ao(void 0,void 0,void 0,function*(){return am(r,e,t)})}},av=()=>{let e=ox.utils.randomPrivateKey();return ag("".concat(np(e)))},ab=(e,t,r)=>ao(void 0,void 0,void 0,function*(){let n;let i="object"==typeof e?e:JSON.parse(r?e.toLowerCase():e);if(na.validateJSONSchema(oP,i),3!==i.version)throw new z;let s="string"==typeof t?nm(nE(t)):t;if(na.validate(["bytes"],[s]),"scrypt"===i.crypto.kdf){let e=i.crypto.kdfparams;n=sU(s,"string"==typeof e.salt?nm(e.salt):e.salt,e.n,e.p,e.r,e.dklen)}else if("pbkdf2"===i.crypto.kdf){let e=i.crypto.kdfparams;n=sM(s,"string"==typeof e.salt?nm(e.salt):e.salt,e.c,e.dklen,"sha256")}else throw new q;let o=nm(i.crypto.ciphertext);if(iu(nu(n.slice(16,32),o)).replace("0x","")!==i.crypto.mac)throw new G;return ag((yield sg(nm(i.crypto.ciphertext),n.slice(0,16),nm(i.crypto.cipherparams.iv))))});var ay=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};class aw{get requests(){return[...this._requests.values()].map(e=>e.payload)}add(e){let t=iF(e),r=new iK;return this._requests.set(t.id,{payload:t,promise:r}),r}execute(e){var t;return ay(this,void 0,void 0,function*(){if(0===this.requests.length)return Promise.resolve([]);let r=new iK({timeout:null!==(t=null==e?void 0:e.timeout)&&void 0!==t?t:1e3,eagerStart:!0,timeoutMessage:"Batch request timeout"});return this._processBatchRequest(r).catch(e=>r.reject(e)),r.catch(e=>{e instanceof eu&&this._abortAllRequests("Batch request timeout"),r.reject(e)}),r})}_processBatchRequest(e){var t,r;return ay(this,void 0,void 0,function*(){let n=yield this._requestManager.sendBatch([...this._requests.values()].map(e=>e.payload));if(n.length!==this._requests.size)throw this._abortAllRequests("Invalid batch response"),new to(n,"Batch request size mismatch the results size. Requests: ".concat(this._requests.size,", Responses: ").concat(n.length));let i=this.requests.map(e=>e.id).map(Number).sort((e,t)=>e-t),s=n.map(e=>e.id).map(Number).sort((e,t)=>e-t);if(JSON.stringify(i)!==JSON.stringify(s))throw this._abortAllRequests("Invalid batch response"),new to(n,"Batch request mismatch the results. Requests: [".concat(i.join(),"], Responses: [").concat(s.join(),"]"));for(let e of n)iC(e)?null===(t=this._requests.get(e.id))||void 0===t||t.promise.resolve(e.result):iM(e)&&(null===(r=this._requests.get(e.id))||void 0===r||r.promise.reject(e.error));e.resolve(n)})}_abortAllRequests(e){for(let{promise:t}of this._requests.values())t.reject(new el(e))}constructor(e){this._requestManager=e,this._requests=new Map}}class aE extends i${get requestManager(){return this._requestManager}get subscriptionManager(){return this._subscriptionManager}get wallet(){return this._wallet}get accountProvider(){return this._accountProvider}static fromContextObject(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return new this(...t.reverse())}getContextObject(){var e;return{config:this.config,provider:this.provider,requestManager:this.requestManager,subscriptionManager:this.subscriptionManager,registeredSubscriptions:null===(e=this.subscriptionManager)||void 0===e?void 0:e.registeredSubscriptions,providers:this.providers,wallet:this.wallet,accountProvider:this.accountProvider}}use(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];let i=new e(...[...r,this.getContextObject()]);return this.on(_.CONFIG_CHANGE,e=>{i.setConfig({[e.name]:e.newValue})}),i}link(e){this.setConfig(e.config),this._requestManager=e.requestManager,this.provider=e.provider,this._subscriptionManager=e.subscriptionManager,this._wallet=e.wallet,this._accountProvider=e._accountProvider,e.on(_.CONFIG_CHANGE,e=>{this.setConfig({[e.name]:e.newValue})})}registerPlugin(e){if(void 0!==this[e.pluginNamespace])throw new eh(e.pluginNamespace);let t={[e.pluginNamespace]:e};t[e.pluginNamespace].link(this),Object.assign(this,t)}get provider(){return this.currentProvider}set provider(e){this.requestManager.setProvider(e)}get currentProvider(){return this.requestManager.provider}set currentProvider(e){this.requestManager.setProvider(e)}get givenProvider(){return aE.givenProvider}setProvider(e){return this.provider=e,!0}get BatchRequest(){return aw.bind(void 0,this._requestManager)}extend(e){var t;return e.property&&!this[e.property]&&(this[e.property]={}),null===(t=e.methods)||void 0===t||t.forEach(t=>{var r=this;let n=function(){for(var e,n,i,s=arguments.length,o=Array(s),a=0;a<s;a++)o[a]=arguments[a];return e=void 0,n=void 0,i=function*(){return this.requestManager.send({method:t.call,params:o})},new(n||(n=Promise))(function(t,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var r;e.done?t(e.value):((r=e.value)instanceof n?r:new n(function(e){e(r)})).then(o,a)}c((i=i.apply(r,e||[])).next())})};e.property?this[e.property][t.name]=n:this[t.name]=n}),this}constructor(e){var t;if(super(),this.providers=si.providers,n1(e)||"string"==typeof e&&""!==e.trim()||se(e)){this._requestManager=new si(e),this._subscriptionManager=new so(this._requestManager,{});return}let{config:r,provider:n,requestManager:i,subscriptionManager:s,registeredSubscriptions:o,accountProvider:a,wallet:c}=e;this.setConfig(null!=r?r:{}),this._requestManager=null!=i?i:new si(n,null===(t=null==r?void 0:r.enableExperimentalFeatures)||void 0===t?void 0:t.useSubscriptionWhenCheckingBlockTimeout),s?this._subscriptionManager=s:this._subscriptionManager=new so(this.requestManager,null!=o?o:{}),a&&(this._accountProvider=a),c&&(this._wallet=c)}}aE.providers=si.providers;class a_{static isDirect(e){return 34===e.length||35===e.length}isDirect(){return a_.isDirect(this._iban)}static isIndirect(e){return 20===e.length}isIndirect(){return a_.isIndirect(this._iban)}static isValid(e){return/^XE[0-9]{2}(ETH[0-9A-Z]{13}|[0-9A-Z]{30,31})$/.test(e)&&1===a_._mod9710(a_._iso13616Prepare(e))}isValid(){return a_.isValid(this._iban)}static fromBban(e){let t=this._mod9710(this._iso13616Prepare("".concat("XE","00").concat(e))),r="0".concat((98-t).toString()).slice(-2);return new a_("".concat("XE").concat(r).concat(e))}static createIndirect(e){return a_.fromBban("ETH".concat(e.institution).concat(e.identifier))}static fromAddress(e){if(!rK(e))throw new e4(e);let t=n5(BigInt(ng(e)).toString(36),15);return a_.fromBban(t.toUpperCase())}static toIban(e){return a_.fromAddress(e).toString()}client(){return this.isIndirect()?this._iban.slice(11):""}checksum(){return this._iban.slice(2,4)}institution(){return this.isIndirect()?this._iban.slice(7,11):""}toString(){return this._iban}constructor(e){if(this.toAddress=()=>{if(this.isDirect()){let e=this._iban.slice(4);return nD(n5(a_._parseInt(e,36),40))}throw Error("Iban is indirect and cannot be converted. Must be length of 34 or 35")},a_.isIndirect(e)||a_.isDirect(e))this._iban=e;else throw Error("Invalid IBAN was provided")}}a_._iso13616Prepare=e=>{let t=e.toUpperCase();return"".concat(t.slice(4)).concat(t.slice(0,4)).split("").map(e=>{let t=e.charCodeAt(0);return t>=65&&t<=90?t-65+10:e}).join("")},a_._parseInt=(e,t)=>[...e].reduce((e,r)=>BigInt(parseInt(r,t))+BigInt(t)*e,BigInt(0)),a_._mod9710=e=>{let t,r=e;for(;r.length>2;)t=r.slice(0,9),r="".concat((parseInt(t,10)%97).toString()).concat(r.slice(t.length));return parseInt(r,10)%97},a_.toAddress=e=>new a_(e).toAddress();var aS=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};class aA extends iY{then(e,t){return aS(this,void 0,void 0,function*(){return this._promise.then(e,t)})}catch(e){return aS(this,void 0,void 0,function*(){return this._promise.catch(e)})}finally(e){return aS(this,void 0,void 0,function*(){return this._promise.finally(e)})}on(e,t){return super.on(e,t),this}once(e,t){return super.once(e,t),this}constructor(e){super(),this[k]="Promise",this._promise=new Promise(e)}}k=Symbol.toStringTag,r(85190);var aT=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};function ax(e){return aT(this,void 0,void 0,function*(){return e.send({method:"eth_syncing",params:[]})})}function aI(e,t){return aT(this,void 0,void 0,function*(){return na.validate(["hex"],[t]),e.send({method:"eth_sendRawTransaction",params:[t]})})}function aR(e,t,r){return aT(this,void 0,void 0,function*(){return na.validate(["blockNumberOrTag","bool"],[t,r]),e.send({method:"eth_getBlockByNumber",params:[t,r]})})}var aO=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})},aP=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};let ak=e=>aP(void 0,void 0,void 0,function*(){return e.send({method:"personal_listAccounts",params:[]})}),aN=(e,t)=>aP(void 0,void 0,void 0,function*(){return e.send({method:"personal_newAccount",params:[t]})}),aC=(e,t,r,n)=>aP(void 0,void 0,void 0,function*(){return e.send({method:"personal_unlockAccount",params:[t,r,n]})}),aM=(e,t)=>aP(void 0,void 0,void 0,function*(){return e.send({method:"personal_lockAccount",params:[t]})}),aL=(e,t,r)=>aP(void 0,void 0,void 0,function*(){return e.send({method:"personal_importRawKey",params:[t,r]})}),aB=(e,t,r)=>aP(void 0,void 0,void 0,function*(){return e.send({method:"personal_sendTransaction",params:[t,r]})}),aD=(e,t,r)=>aP(void 0,void 0,void 0,function*(){return e.send({method:"personal_signTransaction",params:[t,r]})}),aU=(e,t,r,n)=>aP(void 0,void 0,void 0,function*(){return e.send({method:"personal_sign",params:[t,r,n]})}),aH=(e,t,r)=>aP(void 0,void 0,void 0,function*(){return e.send({method:"personal_ecRecover",params:[t,r]})}),aj={type:"object",properties:{accessList:{type:"null"},maxFeePerGas:{type:"null"},maxPriorityFeePerGas:{type:"null"}}},aF={type:"object",properties:{maxFeePerGas:{type:"null"},maxPriorityFeePerGas:{type:"null"}}},aq={type:"object",properties:{gasPrice:{type:"null"}}},aG=(e,t,r)=>{try{na.validateJSONSchema(e,t)}catch(e){if(e instanceof rv)throw new e1(e.errors,r);throw e}},az=e=>{var t,r;if(!r9(e.type)){let t;switch(e.type){case"0x0":t=aj;break;case"0x1":t=aF;break;case"0x2":t=aq;break;default:return io({format:"uint"},e.type,rV)}return aG(t,e,e.type),io({format:"uint"},e.type,rV)}if(!r9(e.maxFeePerGas)||!r9(e.maxPriorityFeePerGas))return aG(aq,e,"0x2"),"0x2";if(!r9(e.accessList))return aG(aF,e,"0x1"),"0x1";let n=null!==(t=e.hardfork)&&void 0!==t?t:null===(r=e.common)||void 0===r?void 0:r.hardfork;if(!r9(n)){let t=Object.keys(w).indexOf(n);if(t>=Object.keys(w).indexOf("london"))return r9(e.gasPrice)?"0x2":"0x0";if(t===Object.keys(w).indexOf("berlin"))return"0x0"}if(!r9(e.gasPrice))return aG(aj,e,"0x0"),"0x0"},aK=(e,t)=>{var r;return(null!==(r=null==t?void 0:t.transactionTypeParser)&&void 0!==r?r:az)(e)},aW=e=>e[0]>127?"0x0":nN(e[0]),aV={type:"array",items:Object.assign({},{type:"object",properties:{address:{format:"address"},storageKeys:{type:"array",items:{format:"bytes32"}}}})},aJ={type:"object",properties:{accessList:Object.assign({},aV),gasUsed:{type:"string"}}},aZ={type:"string",enum:["goerli","kovan","mainnet","rinkeby","ropsten","sepolia"]},aQ={type:"string",enum:["arrowGlacier","berlin","byzantium","chainstart","constantinople","dao","homestead","istanbul","london","merge","muirGlacier","petersburg","shanghai","spuriousDragon","tangerineWhistle"]},aX={type:"object",properties:{from:{format:"address"},to:{oneOf:[{format:"address"},{type:"null"}]},value:{format:"uint"},gas:{format:"uint"},gasPrice:{format:"uint"},effectiveGasPrice:{format:"uint"},type:{format:"uint"},maxFeePerGas:{format:"uint"},maxPriorityFeePerGas:{format:"uint"},accessList:Object.assign({},aV),data:{format:"bytes"},input:{format:"bytes"},nonce:{format:"uint"},chain:Object.assign({},aZ),hardfork:Object.assign({},aQ),chainId:{format:"uint"},networkId:{format:"uint"},common:{type:"object",properties:{customChain:Object.assign({},{type:"object",properties:{name:{format:"string"},networkId:{format:"uint"},chainId:{format:"uint"}}}),baseChain:Object.assign({},aZ),hardfork:Object.assign({},aQ)}},gasLimit:{format:"uint"},v:{format:"uint"},r:{format:"bytes32"},s:{format:"bytes32"}}},aY={type:"object",properties:Object.assign(Object.assign({},aX.properties),{blockHash:{format:"bytes32"},blockNumber:{format:"uint"},hash:{format:"bytes32"},transactionIndex:{format:"uint"},from:{format:"address"},to:{oneOf:[{format:"address"},{type:"null"}]},value:{format:"uint"},gas:{format:"uint"},gasPrice:{format:"uint"},effectiveGasPrice:{format:"uint"},type:{format:"uint"},maxFeePerGas:{format:"uint"},maxPriorityFeePerGas:{format:"uint"},accessList:Object.assign({},aV),data:{format:"bytes"},input:{format:"bytes"},nonce:{format:"uint"},gasLimit:{format:"uint"},v:{format:"uint"},r:{format:"bytes32"},s:{format:"bytes32"}})},a$={type:"object",properties:{parentHash:{format:"bytes32"},sha3Uncles:{format:"bytes32"},miner:{format:"bytes"},stateRoot:{format:"bytes32"},transactionsRoot:{format:"bytes32"},receiptsRoot:{format:"bytes32"},logsBloom:{format:"bytes256"},difficulty:{format:"uint"},number:{format:"uint"},gasLimit:{format:"uint"},gasUsed:{format:"uint"},timestamp:{format:"uint"},extraData:{format:"bytes"},mixHash:{format:"bytes32"},nonce:{format:"uint"},totalDifficulty:{format:"uint"},baseFeePerGas:{format:"uint"},size:{format:"uint"},transactions:{oneOf:[{type:"array",items:Object.assign({},aY)},{type:"array",items:{format:"bytes32"}}]},uncles:{type:"array",items:{format:"bytes32"}},hash:{format:"bytes32"}}},a0={type:"object",properties:{author:{format:"bytes32"},hash:{format:"bytes32"},parentHash:{format:"bytes32"},receiptsRoot:{format:"bytes32"},miner:{format:"bytes"},stateRoot:{format:"bytes32"},transactionsRoot:{format:"bytes32"},withdrawalsRoot:{format:"bytes32"},logsBloom:{format:"bytes256"},difficulty:{format:"uint"},totalDifficulty:{format:"uint"},number:{format:"uint"},gasLimit:{format:"uint"},gasUsed:{format:"uint"},timestamp:{format:"uint"},extraData:{format:"bytes"},nonce:{format:"uint"},sha3Uncles:{format:"bytes32"},size:{format:"uint"},baseFeePerGas:{format:"uint"},excessDataGas:{format:"uint"},mixHash:{format:"bytes32"},transactions:{type:"array",items:{format:"bytes32"}},uncles:{type:"array",items:{format:"bytes32"}},withdrawals:{type:"array",items:Object.assign({},{type:"object",properties:{index:{format:"uint"},validatorIndex:{format:"uint"},address:{format:"address"},amount:{format:"uint"}}})}}},a1={type:"object",properties:{removed:{format:"bool"},logIndex:{format:"uint"},transactionIndex:{format:"uint"},transactionHash:{format:"bytes32"},blockHash:{format:"bytes32"},blockNumber:{format:"uint"},address:{format:"address"},data:{format:"bytes"},topics:{type:"array",items:{format:"bytes32"}}}},a2={type:"object",properties:{startingBlock:{format:"string"},currentBlock:{format:"string"},highestBlock:{format:"string"},knownStates:{format:"string"},pulledStates:{format:"string"}}},a3={type:"object",properties:{transactionHash:{format:"bytes32"},transactionIndex:{format:"uint"},blockHash:{format:"bytes32"},blockNumber:{format:"uint"},from:{format:"address"},to:{format:"address"},cumulativeGasUsed:{format:"uint"},gasUsed:{format:"uint"},effectiveGasPrice:{format:"uint"},contractAddress:{format:"address"},logs:{type:"array",items:Object.assign({},a1)},logsBloom:{format:"bytes"},root:{format:"bytes"},status:{format:"uint"},type:{format:"uint"}}},a4={type:"object",properties:{messageHash:{format:"bytes"},r:{format:"bytes32"},s:{format:"bytes32"},v:{format:"bytes"},message:{format:"bytes"},signature:{format:"bytes"}}},a6={type:"object",properties:{oldestBlock:{format:"uint"},baseFeePerGas:{type:"array",items:{format:"uint"}},reward:{type:"array",items:{type:"array",items:{format:"uint"}}},gasUsedRatio:{type:"array",items:{type:"number"}}}},a8={type:"object",properties:{balance:{format:"uint"},codeHash:{format:"bytes32"},nonce:{format:"uint"},storageHash:{format:"bytes32"},accountProof:{type:"array",items:{format:"bytes32"}},storageProof:{type:"array",items:Object.assign({},{type:"object",properties:{key:{format:"bytes32"},value:{format:"uint"},proof:{type:"array",items:{format:"bytes32"}}}})}}};function a5(e){var t,r;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rW,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{transactionSchema:aY,fillInputAndData:!1},s=n3({},e);if(r9(null==e?void 0:e.common)||(s.common=Object.assign({},e.common),r9(null===(t=e.common)||void 0===t?void 0:t.customChain)||(s.common.customChain=Object.assign({},e.common.customChain))),!r9((s=io(null!==(r=i.transactionSchema)&&void 0!==r?r:aY,s,n)).data)&&!r9(s.input)&&nN(s.data)!==nN(s.input))throw new eW({data:np(s.data),input:np(s.input)});return i.fillInputAndData&&(r9(s.data)?r9(s.input)||(s.data=s.input):s.input=s.data),r9(s.gasLimit)||(s.gas=s.gasLimit,delete s.gasLimit),s}var a7=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};function a9(e,t){return a7(this,void 0,void 0,function*(){return io({format:"uint"},(yield function(e){return aO(this,void 0,void 0,function*(){return e.send({method:"net_version",params:[]})})}(e.requestManager)),t)})}let ce=e=>a7(void 0,void 0,void 0,function*(){return function(e){return aO(this,void 0,void 0,function*(){return e.send({method:"net_listening",params:[]})})}(e.requestManager)});var ct=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};class cr extends aE{getId(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rW;return ct(this,void 0,void 0,function*(){return a9(this,e)})}getPeerCount(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rW;return ct(this,void 0,void 0,function*(){return function(e,t){return a7(this,void 0,void 0,function*(){return io({format:"uint"},(yield function(e){return aO(this,void 0,void 0,function*(){return e.send({method:"net_peerCount",params:[]})})}(e.requestManager)),t)})}(this,e)})}isListening(){return ct(this,void 0,void 0,function*(){return ce(this)})}}let cn="ALLEVENTS",ci={name:cn,signature:"",type:"event",inputs:[]},cs={bytes:b.HEX,number:v.NUMBER};var co=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};function ca(e,t,r){return co(this,void 0,void 0,function*(){let n=cd(e,t);if(!r9(n)){if(n.startsWith("-")||0>Number(n)||Number(n)>127)throw new eK(n);if(r9(e.gasPrice)&&("0x0"===n||"0x1"===n))return{gasPrice:yield uk(t,r),maxPriorityFeePerGas:void 0,maxFeePerGas:void 0};if("0x2"===n)return Object.assign({gasPrice:void 0},(yield function(e,t,r){var n,i,s;return co(this,void 0,void 0,function*(){let o=yield uC(t,t.defaultBlock,!1,r);if(r9(o.baseFeePerGas))throw new ez;if(!r9(e.gasPrice)){let t=io({format:"uint"},e.gasPrice,r);return{maxPriorityFeePerGas:t,maxFeePerGas:t}}return{maxPriorityFeePerGas:io({format:"uint"},null!==(n=e.maxPriorityFeePerGas)&&void 0!==n?n:t.defaultMaxPriorityFeePerGas,r),maxFeePerGas:io({format:"uint"},null!==(i=e.maxFeePerGas)&&void 0!==i?i:BigInt(o.baseFeePerGas)*BigInt(2)+BigInt(null!==(s=e.maxPriorityFeePerGas)&&void 0!==s?s:t.defaultMaxPriorityFeePerGas),r)}})}(e,t,r)))}})}var cc=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};let cu=(e,t,r,n)=>{if(void 0!==r&&e in r&&void 0!==r[e]){if("string"==typeof r[e]&&rK(r[e]))return r[e];if(!rE(r[e])&&r2(r[e])){if(t.wallet){let n=t.wallet.get(io({format:"uint"},r[e],cs));if(!r9(n))return n.address}throw new e0}throw"from"===e?new eA(r.from):new eT(r.to)}if("from"===e){if(!r9(n))return af(n);if(!r9(t.defaultAccount))return t.defaultAccount}},cl=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rW;return cc(void 0,void 0,void 0,function*(){if(r9(t))throw new eG;return uL(e,t,e.defaultBlock,r)})},cd=(e,t)=>{let r=aK(e,t);return r9(r)?r9(t.defaultTransactionType)?void 0:io({format:"uint"},t.defaultTransactionType,rV):r},ch=e=>cc(void 0,void 0,void 0,function*(){var t;return(null!==(t=e.web3Context.transactionBuilder)&&void 0!==t?t:function(e){var t,r;return cc(this,void 0,void 0,function*(){let n=io(aX,e.transaction,rW);if(r9(n.from)&&(n.from=cu("from",e.web3Context,void 0,e.privateKey)),r9(n.nonce)&&(n.nonce=yield cl(e.web3Context,n.from,rV)),r9(n.value)&&(n.value="0x0"),r9(n.data))r9(n.input)?n.input="0x":n.input.startsWith("0x")||(n.input="0x".concat(n.input));else{if(!r9(n.input)&&n.data!==n.input)throw new eW({data:np(n.data),input:np(n.input)});n.data.startsWith("0x")||(n.data="0x".concat(n.data))}if(r9(n.common)){if(e.web3Context.defaultCommon){let t=e.web3Context.defaultCommon,r=t.customChain.chainId,i=t.customChain.networkId,s=t.customChain.name;n.common=Object.assign(Object.assign({},t),{customChain:{chainId:r,networkId:i,name:s}})}r9(n.chain)&&(n.chain=e.web3Context.defaultChain),r9(n.hardfork)&&(n.hardfork=e.web3Context.defaultHardfork)}if(r9(n.chainId)&&r9(null===(t=n.common)||void 0===t?void 0:t.customChain.chainId)&&(n.chainId=yield uj(e.web3Context,rV)),r9(n.networkId)&&(n.networkId=null!==(r=e.web3Context.defaultNetworkId)&&void 0!==r?r:yield a9(e.web3Context,rV)),r9(n.gasLimit)&&!r9(n.gas)&&(n.gasLimit=n.gas),n.type=cd(n,e.web3Context),r9(n.accessList)&&("0x1"===n.type||"0x2"===n.type)&&(n.accessList=[]),e.fillGasPrice&&(n=Object.assign(Object.assign({},n),(yield ca(n,e.web3Context,rV)))),r9(n.gas)&&r9(n.gasLimit)&&e.fillGasLimit){let t=yield uU(e.web3Context,n,"latest",rV);n=Object.assign(Object.assign({},n),{gas:io({format:"uint"},t,rV)})}return n})})(Object.assign(Object.assign({},e),{transaction:e.transaction}))});var cf=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};function cp(e,t,r){let[n,i]=iP(()=>cf(this,void 0,void 0,function*(){let n;try{n=yield uN(e,cs)}catch(e){console.warn("An error happen while trying to get the block number",e);return}let i=n-t;if(i>=e.transactionBlockTimeout)return new eQ({starterBlockNumber:t,numberOfBlocks:i,transactionHash:r})}),e.transactionPollingInterval);return[i,{clean:()=>{clearInterval(n)}}]}function cm(e,t){var r,n;return cf(this,void 0,void 0,function*(){let{provider:i}=e.requestManager,s=yield uN(e,cs);return(null===(n=(r=i).supportsSubscriptions)||void 0===n?void 0:n.call(r))&&e.enableExperimentalFeatures.useSubscriptionWhenCheckingBlockTimeout?yield function(e,t,r){var n;return cf(this,void 0,void 0,function*(){let i,s,o=!0;function a(n,i){i&&console.warn("error happened at subscription. So revert to polling...",i),s.clean(),o=!1;let[a,c]=cp(e,t,r);s.clean=c.clean,a.catch(e=>n(e))}try{i=yield null===(n=e.subscriptionManager)||void 0===n?void 0:n.subscribe("newHeads"),s={clean:()=>{var t;i.id&&(null===(t=e.subscriptionManager)||void 0===t||t.removeSubscription(i).then(()=>{}).catch(()=>{}))}}}catch(n){return cp(e,t,r)}return[new Promise((n,s)=>{try{i.on("data",n=>{if(o=!1,!(null==n?void 0:n.number))return;let i=Number(BigInt(n.number)-BigInt(t));i>=e.transactionBlockTimeout&&s(new eQ({starterBlockNumber:t,numberOfBlocks:i,transactionHash:r}))}),i.on("error",e=>{a(s,e)})}catch(e){a(s,e)}setTimeout(()=>{o&&a(s)},1e3*e.blockHeaderTimeout)}),s]})}(e,s,t):cp(e,s,t)})}function cg(e,t,r){var n,i,s,o;return n=this,i=void 0,s=void 0,o=function*(){let[n,i]=iO(e.transactionSendTimeout,new eV({numberOfSeconds:e.transactionSendTimeout/1e3,transactionHash:r})),[s,o]=yield cm(e,r);try{return yield Promise.race([t(),i,s])}finally{clearTimeout(n),o.clean()}},new(s||(s=Promise))(function(e,t){function r(e){try{c(o.next(e))}catch(e){t(e)}}function a(e){try{c(o.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):((n=t.value)instanceof s?n:new s(function(e){e(n)})).then(r,a)}c((o=o.apply(n,i||[])).next())})}var cv=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};function cb(e,t,r){var n;return cv(this,void 0,void 0,function*(){let[i,s]=iI(()=>cv(this,void 0,void 0,function*(){try{return uM(e,t,r)}catch(e){console.warn("An error happen while trying to get the transaction receipt",e);return}}),null!==(n=e.transactionReceiptPollingInterval)&&void 0!==n?n:e.transactionPollingInterval),[o,a]=iO(e.transactionPollingTimeout,new eZ({numberOfSeconds:e.transactionPollingTimeout/1e3,transactionHash:t})),[c,u]=yield cm(e,t);try{return yield Promise.race([i,a,c])}finally{o&&clearTimeout(o),s&&clearInterval(s),u.clean()}})}let cy=e=>{var t;let{web3Context:r,transactionReceipt:n,transactionPromiEvent:i,returnFormat:s}=e,o=1,a=setInterval(()=>{var e,t,c,u;e=void 0,t=void 0,c=void 0,u=function*(){o>=r.transactionConfirmationBlocks&&clearInterval(a);let e=yield aR(r.requestManager,nb(BigInt(n.blockNumber)+BigInt(o)),!1);(null==e?void 0:e.hash)&&(o+=1,i.emit("confirmation",{confirmations:io({format:"uint"},o,s),receipt:io(a3,n,s),latestBlockHash:io({format:"bytes32"},e.hash,s)}))},new(c||(c=Promise))(function(r,n){function i(e){try{o(u.next(e))}catch(e){n(e)}}function s(e){try{o(u.throw(e))}catch(e){n(e)}}function o(e){var t;e.done?r(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(i,s)}o((u=u.apply(e,t||[])).next())})},null!==(t=r.transactionReceiptPollingInterval)&&void 0!==t?t:r.transactionPollingInterval)};var cw=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};let cE=e=>{let t,{web3Context:r,transactionReceipt:n,transactionPromiEvent:i,returnFormat:s}=e,o=!0;setImmediate(()=>{var e;null===(e=r.subscriptionManager)||void 0===e||e.subscribe("newHeads").then(e=>{e.on("data",a=>cw(void 0,void 0,void 0,function*(){var c;if(o=!1,!(null==a?void 0:a.number)||t===(null==a?void 0:a.parentHash))return;t=null==a?void 0:a.parentHash;let u=BigInt(a.number)-BigInt(n.blockNumber)+BigInt(1);i.emit("confirmation",{confirmations:io({format:"uint"},u,s),receipt:io(a3,n,s),latestBlockHash:io({format:"bytes32"},a.parentHash,s)}),u>=r.transactionConfirmationBlocks&&(yield null===(c=r.subscriptionManager)||void 0===c?void 0:c.removeSubscription(e))})),e.on("error",()=>cw(void 0,void 0,void 0,function*(){var t;yield null===(t=r.subscriptionManager)||void 0===t?void 0:t.removeSubscription(e),o=!1,cy({web3Context:r,transactionReceipt:n,transactionPromiEvent:i,returnFormat:s})}))}).catch(()=>{o=!1,cy({web3Context:r,transactionReceipt:n,transactionPromiEvent:i,returnFormat:s})})}),setTimeout(()=>{o&&cy({web3Context:r,transactionReceipt:n,transactionPromiEvent:i,returnFormat:s})},1e3*r.blockHeaderTimeout)},c_=e=>!n1(e)&&"object"==typeof e&&!n1(e.type)&&"error"===e.type,cS=e=>!n1(e)&&"object"==typeof e&&!n1(e.type)&&"event"===e.type,cA=e=>!n1(e)&&"object"==typeof e&&!n1(e.type)&&"function"===e.type,cT=e=>!n1(e)&&"object"==typeof e&&!n1(e.type)&&"constructor"===e.type,cx=e=>"object"==typeof e&&void 0===e.components&&void 0===e.name,cI=e=>e.includes("[]")?{type:"tuple[]",name:e.slice(0,-2)}:{type:"tuple",name:e},cR=e=>{let t=[];for(let r of Object.keys(e)){let n=e[r];"object"==typeof n?t.push(Object.assign(Object.assign({},cI(r)),{components:cR(n)})):t.push({name:r,type:e[r]})}return t},cO=(e,t)=>{let r=[];return t.forEach(t=>{if("object"==typeof t.components){if(!t.type.startsWith("tuple"))throw new ed('Invalid value given "'.concat(t.type,'". Error: components found but type is not tuple.'));let n=t.type.indexOf("["),i=n>=0?t.type.substring(n):"",s=cO(e,t.components);Array.isArray(s)&&e?r.push("tuple(".concat(s.join(","),")").concat(i)):e?r.push("(".concat(s.join(),")")):r.push("(".concat(s.join(","),")").concat(i))}else r.push(t.type)}),r},cP=e=>{var t,r,n,i;return c_(e)||cS(e)||cA(e)?(null===(t=e.name)||void 0===t?void 0:t.includes("("))?e.name:"".concat(null!==(r=e.name)&&void 0!==r?r:"","(").concat(cO(!1,null!==(n=e.inputs)&&void 0!==n?n:[]).join(","),")"):"(".concat(cO(!1,null!==(i=e.inputs)&&void 0!==i?i:[]).join(","),")")},ck=e=>{if("string"!=typeof e&&!c_(e))throw new ed("Invalid parameter value in encodeErrorSignature");return iu(e&&("function"==typeof e||"object"==typeof e)?cP(e):e)},cN=e=>{if("string"!=typeof e&&!cS(e))throw new ed("Invalid parameter value in encodeEventSignature");return iu(e&&("function"==typeof e||"object"==typeof e)?cP(e):e)};function cC(e,t){let r=e.exec(t);return null==r?void 0:r.groups}var cM=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,cL=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,cB=/^\(.+?\).*?$/,cD=Object.defineProperty,cU=(e,t,r)=>t in e?cD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,cH=(e,t,r)=>(cU(e,"symbol"!=typeof t?t+"":t,r),r),cj=class extends Error{constructor(e,t={}){var r;let n=t.cause instanceof cj?t.cause.details:(null===(r=t.cause)||void 0===r?void 0:r.message)?t.cause.message:t.details,i=t.cause instanceof cj&&t.cause.docsPath||t.docsPath;super([e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...i?["Docs: https://abitype.dev".concat(i)]:[],...n?["Details: ".concat(n)]:[],"Version: ".concat("abitype","@").concat("0.7.1")].join("\n")),cH(this,"details"),cH(this,"docsPath"),cH(this,"metaMessages"),cH(this,"shortMessage"),cH(this,"name","AbiTypeError"),t.cause&&(this.cause=t.cause),this.details=n,this.docsPath=i,this.metaMessages=t.metaMessages,this.shortMessage=e}};RegExp("^error (?<name>[a-zA-Z0-9_]+)\\((?<parameters>.*?)\\)$"),RegExp("^event (?<name>[a-zA-Z0-9_]+)\\((?<parameters>.*?)\\)$"),RegExp("^function (?<name>[a-zA-Z0-9_]+)\\((?<parameters>.*?)\\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns \\((?<returns>.*?)\\))?$");var cF=RegExp("^struct (?<name>[a-zA-Z0-9_]+) \\{(?<properties>.*?)\\}$");RegExp("^constructor\\((?<parameters>.*?)\\)(?:\\s(?<stateMutability>payable{1}))?$");var cq=new Set(["memory","indexed","storage","calldata"]),cG=new Set(["calldata","memory","storage"]),cz=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]),cK=RegExp("^(?<type>[a-zA-Z0-9_]+?)(?<array>(?:\\[\\d*?\\])+?)?(?:\\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\\s(?<name>[a-zA-Z0-9_]+))?$"),cW=RegExp("^\\((?<type>.+?)\\)(?<array>(?:\\[\\d*?\\])+?)?(?:\\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\\s(?<name>[a-zA-Z0-9_]+))?$"),cV=/^u?int$/;function cJ(e,t){var r,n,i,s,o,a,c;let u;let l=(o=null==t?void 0:t.type)?"".concat(o,":").concat(e):e;if(cz.has(l))return cz.get(l);let d=cB.test(e),h=cC(d?cW:cK,e);if(!h)throw new cj("Invalid ABI parameter.",{details:e});if(h.name&&("address"===(a=h.name)||"bool"===a||"function"===a||"string"===a||"tuple"===a||cM.test(a)||cL.test(a)||cQ.test(a)))throw new cj("Invalid ABI parameter.",{details:e,metaMessages:['"'.concat(h.name,'" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html')]});let f=h.name?{name:h.name}:{},p="indexed"===h.modifier?{indexed:!0}:{},m=null!==(r=null==t?void 0:t.structs)&&void 0!==r?r:{},g={};if(d){u="tuple";let e=function e(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(""===t){if(""===n)return r;if(0!==i)throw new cj("Unbalanced parentheses.",{metaMessages:['"'.concat(n.trim(),'" has too many ').concat(i>0?"opening":"closing"," parentheses.")],details:'Depth "'.concat(i,'"')});return[...r,n.trim()]}let s=t.length;for(let o=0;o<s;o++){let s=t[o],a=t.slice(o+1);switch(s){case",":return 0===i?e(a,[...r,n.trim()]):e(a,r,"".concat(n).concat(s),i);case"(":return e(a,r,"".concat(n).concat(s),i+1);case")":return e(a,r,"".concat(n).concat(s),i-1);default:return e(a,r,"".concat(n).concat(s),i)}}return[]}(h.type),t=[],r=e.length;for(let n=0;n<r;n++)t.push(cJ(e[n],{structs:m}));g={components:t}}else if(h.type in m)u="tuple",g={components:m[h.type]};else if(cV.test(h.type))u="".concat(h.type,"256");else if(u=h.type,(null==t?void 0:t.type)!=="struct"&&!cZ(u))throw new cj("Unknown type.",{metaMessages:['Type "'.concat(u,'" is not a valid ABI type.')]});if(h.modifier){if(!(null==t?void 0:null===(i=t.modifiers)||void 0===i?void 0:null===(n=i.has)||void 0===n?void 0:n.call(i,h.modifier)))throw new cj("Invalid ABI parameter.",{details:e,metaMessages:['Modifier "'.concat(h.modifier,'" not allowed').concat((null==t?void 0:t.type)?' in "'.concat(t.type,'" type'):"",".")]});if(cG.has(h.modifier)&&(c=u,!h.array&&"bytes"!==c&&"string"!==c&&"tuple"!==c))throw new cj("Invalid ABI parameter.",{details:e,metaMessages:['Modifier "'.concat(h.modifier,'" not allowed').concat((null==t?void 0:t.type)?' in "'.concat(t.type,'" type'):"","."),'Data location can only be specified for array, struct, or mapping types, but "'.concat(h.modifier,'" was given.')]})}let v={type:"".concat(u).concat(null!==(s=h.array)&&void 0!==s?s:""),...f,...p,...g};return cz.set(l,v),v}function cZ(e){return"address"===e||"bool"===e||"function"===e||"string"===e||cM.test(e)||cL.test(e)}var cQ=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/,cX=RegExp("^(?<type>[a-zA-Z0-9_]+?)(?<array>(?:\\[\\d*?\\])+?)?$");function cY(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if((null===(e=globalThis.Buffer)||void 0===e?void 0:e.alloc)!==void 0){let e=globalThis.Buffer.alloc(t);return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}return new Uint8Array(t)}function c$(e){return e.map(e=>{var t;if(!n1(e)&&"object"==typeof e&&!n1(e.type)&&"string"==typeof e.type)return e;if("string"==typeof e)return function e(t){var r,n;return Object.assign(Object.assign({},t),{name:null!==(r=t.name)&&void 0!==r?r:"",components:null===(n=t.components)||void 0===n?void 0:n.map(t=>e(t))})}(function(e){let t;if("string"==typeof e)t=cJ(e,{modifiers:cq});else{let r=function(e){let t={},r=e.length;for(let n=0;n<r;n++){let r=e[n];if(!cF.test(r))continue;let i=cC(cF,r);if(!i)throw new cj("Invalid struct signature.",{details:r});let s=i.properties.split(";"),o=[],a=s.length;for(let e=0;e<a;e++){let t=s[e].trim();if(!t)continue;let r=cJ(t,{type:"struct"});o.push(r)}if(!o.length)throw new cj("Invalid struct signature.",{details:r,metaMessages:["No properties exist."]});t[i.name]=o}let n={},i=Object.entries(t),s=i.length;for(let e=0;e<s;e++){let[r,s]=i[e];n[r]=function e(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set,i=[],s=t.length;for(let a=0;a<s;a++){let s=t[a];if(cB.test(s.type))i.push(s);else{let t=cC(cX,s.type);if(!(null==t?void 0:t.type))throw new cj("Invalid ABI parameter.",{details:JSON.stringify(s,null,2),metaMessages:["ABI parameter type is invalid."]});let{array:a,type:c}=t;if(c in r){var o;if(n.has(c))throw new cj("Circular reference detected.",{metaMessages:['Struct "'.concat(c,'" is a circular reference.')]});i.push({...s,type:"tuple".concat(null!=a?a:""),components:e(null!==(o=r[c])&&void 0!==o?o:[],r,new Set([...n,c]))})}else if(cZ(c))i.push(s);else throw new cj("Unknown type.",{metaMessages:['Type "'.concat(c,'" is not a valid ABI type. Perhaps you forgot to include a struct signature?')]})}}return i}(s,t)}return n}(e),n=e.length;for(let i=0;i<n;i++){let n=e[i];if(!cF.test(n)){t=cJ(n,{modifiers:cq,structs:r});break}}}if(!t)throw new cj("Failed to parse ABI parameter.",{details:"parseAbiParameter(".concat(JSON.stringify(e,null,2),")"),docsPath:"/api/human.html#parseabiparameter-1"});return t}(e.replace(/tuple/,"")));if(cx(e)){let r=Object.keys(e)[0],n=cI(r);return n.name=null!==(t=n.name)&&void 0!==t?t:"",Object.assign(Object.assign({},n),{components:cR(e[r])})}throw new ed("Invalid abi")})}function c0(e){let t=e.type.lastIndexOf("["),r=e.type.substring(0,t),n=e.type.substring(t),i=-1;if("[]"!==n&&isNaN(i=Number(n.slice(1,-1))))throw new ed("Invalid fixed array size",{size:n});return{param:{type:r,name:"",components:e.components},size:i}}function c1(e){var t,r;return!!("string"===e.type||"bytes"===e.type||e.type.endsWith("[]"))||("tuple"===e.type?null!==(r=null===(t=e.components)||void 0===t?void 0:t.some(c1))&&void 0!==r&&r:!!e.type.endsWith("]")&&c1(c0(e).param))}let c2=new Map,c3=BigInt(256);for(let e=8;e<=256;e+=8)c2.set("uint".concat(e),{min:BigInt(0),max:c3-BigInt(1)}),c2.set("int".concat(e),{min:-c3/BigInt(2),max:c3/BigInt(2)-BigInt(1)}),c3*=BigInt(256);c2.set("int",c2.get("int256")),c2.set("uint",c2.get("uint256"));let c4=BigInt(1)<<BigInt(256);function c6(e,t){let r;try{r=nM(t)}catch(r){throw new ed("provided input is not number value",{type:e.type,value:t,name:e.name})}let n=c2.get(e.type);if(!n)throw new ed("provided abi contains invalid number datatype",{type:e.type});if(r<n.min)throw new ed("provided input is less then minimum for given type",{type:e.type,value:t,name:e.name,minimum:n.min.toString()});if(r>n.max)throw new ed("provided input is greater then maximum for given type",{type:e.type,value:t,name:e.name,maximum:n.max.toString()});return{dynamic:!1,encoded:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32;return rj(n4(e<0?(c4+e).toString(16):e.toString(16),2*t))}(r)}}function c8(e,t){if(t.length<32)throw new ed("Not enough bytes left to decode",{param:e,bytesLeft:t.length});let r=t.subarray(0,32),n=c2.get(e.type);if(!n)throw new ed("provided abi contains invalid number datatype",{type:e.type});let i=function(e,t){let r=BigInt(rD(e));return r<=t?r:r-c4}(r,n.max);if(i<n.min)throw new ed("decoded value is less then minimum for given type",{type:e.type,value:i,name:e.name,minimum:n.min.toString()});if(i>n.max)throw new ed("decoded value is greater then maximum for given type",{type:e.type,value:i,name:e.name,maximum:n.max.toString()});return{result:i,encoded:t.subarray(32),consumed:32}}function c5(e,t){if("string"==typeof t&&t.length%2!=0&&(t+="0"),!rG(t))throw new ed("provided input is not valid bytes value",{type:e.type,value:t,name:e.name});let r=nh(t),[,n]=e.type.split("bytes");if(n){if(Number(n)>32||1>Number(n))throw new ed("invalid bytes type. Static byte type can have between 1 and 32 bytes",{type:e.type});if(Number(n)<r.length)throw new ed("provided input size is different than type size",{type:e.type,value:t,name:e.name});let i=cY(32);return i.set(r),{dynamic:!1,encoded:i}}let i=cY(32+32*Math.ceil(r.length/32));return i.set(c6({type:"uint32",name:""},r.length).encoded),i.set(r,32),{dynamic:!0,encoded:i}}function c7(e,t){let[,r]=e.type.split("bytes"),n=Number(r),i=t,s=1,o=0;if(!n){let e=c8({type:"uint32",name:""},i);n=Number(e.result),o+=e.consumed,i=e.encoded,s=Math.ceil(n/32)}if(n>t.length)throw new ed("there is not enough data to decode",{type:e.type,encoded:t,size:n});return{result:np(i.subarray(0,n)),encoded:i.subarray(32*s),consumed:o+32*s}}function c9(e){let t=0,r=0,n=[],i=[];for(let r of e)r.dynamic?t+=32:t+=r.encoded.length;for(let s of e)s.dynamic?(n.push(c6({type:"uint256",name:""},t+r)),i.push(s),r+=s.encoded.length):n.push(s);return nu(...n.map(e=>e.encoded),...i.map(e=>e.encoded))}function ue(e,t){if("string"===e.type)return function(e,t){if("string"!=typeof t)throw new ed("invalid input, should be string",{input:t});return c5({type:"bytes",name:""},nx(t))}(0,t);if("bool"===e.type)return function(e,t){let r;try{r=nU(t)}catch(r){if(r instanceof e9)throw new ed("provided input is not valid boolean value",{type:e.type,value:t,name:e.name})}return c6({type:"uint8",name:""},Number(r))}(e,t);if("address"===e.type)return function(e,t){if("string"!=typeof t)throw new ed("address type expects string as input type",{value:t,name:e.name,type:e.type});let r=t.toLowerCase();if(r.startsWith("0x")||(r="0x".concat(r)),!rK(r))throw new ed("provided input is not valid address",{value:t,name:e.name,type:e.type});let n=rj(r),i=cY(32);return i.set(n,12),{dynamic:!1,encoded:i}}(e,t);if("tuple"===e.type)return ur(e,t);if(e.type.endsWith("]"))return function(e,t){if(!Array.isArray(t))throw new ed("Expected value to be array",{abi:e,values:t});let{size:r,param:n}=c0(e),i=t.map(e=>ue(n,e)),s=-1===r,o=i.length>0&&i[0].dynamic;if(!s&&t.length!==r)throw new ed("Given arguments count doesn't match array length",{arrayLength:r,argumentsLength:t.length});if(s||o){let e=c9(i);if(s){let t=c6({type:"uint256",name:""},i.length).encoded;return{dynamic:!0,encoded:i.length>0?nu(t,e):t}}return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:nu(...i.map(e=>e.encoded))}}(e,t);if(e.type.startsWith("bytes"))return c5(e,t);if(e.type.startsWith("uint")||e.type.startsWith("int"))return c6(e,t);throw new ed("Unsupported",{param:e,value:t})}function ut(e,t){if("string"===e.type)return function(e,t){let r=c7({type:"bytes",name:""},t);return{result:nA(r.result),encoded:r.encoded,consumed:r.consumed}}(0,t);if("bool"===e.type)return function(e,t){let r=c8({type:"uint8",name:""},t);if(r.result>1||r.result<0)throw new ed("Invalid boolean value encoded",{boolBytes:t.subarray(0,32),numberResult:r});return{result:r.result===BigInt(1),encoded:r.encoded,consumed:32}}(0,t);if("address"===e.type)return function(e,t){let r=t.subarray(12,32);if(20!==r.length)throw new ed("Invalid decoding input, not enough bytes to decode address",{bytes:t});return{result:nD(rD(r)),encoded:t.subarray(32),consumed:32}}(0,t);if("tuple"===e.type)return un(e,t);if(e.type.endsWith("]"))return function(e,t){let{size:r,param:n}=c0(e),i=0,s=[],o=t;if(-1===r){let e=c8({type:"uint32",name:""},t);r=Number(e.result),i=e.consumed,o=e.encoded}if(c1(n)){for(let e=0;e<r;e+=1){let t=c8({type:"uint32",name:""},o.subarray(32*e));i+=t.consumed;let r=ut(n,o.subarray(Number(t.result)));i+=r.consumed,s.push(r.result)}return{result:s,encoded:o.subarray(i),consumed:i}}for(let e=0;e<r;e+=1){let e=ut(n,t.subarray(i));i+=e.consumed,s.push(e.result)}return{result:s,encoded:t.subarray(i),consumed:i}}(e,t);if(e.type.startsWith("bytes"))return c7(e,t);if(e.type.startsWith("uint")||e.type.startsWith("int"))return c8(e,t);throw new ed("Unsupported",{param:e,bytes:t})}function ur(e,t){var r,n,i;let s=!1;if(!Array.isArray(t)&&"object"!=typeof t)throw new ed("param must be either Array or Object",{param:e,input:t});let o=[];for(let a=0;a<(null!==(n=null===(r=e.components)||void 0===r?void 0:r.length)&&void 0!==n?n:0);a+=1){let r;let n=e.components[a];if(Array.isArray(t)){if(a>=t.length)throw new ed("input param length missmatch",{param:e,input:t});r=ue(n,t[a])}else{let s=t[null!==(i=n.name)&&void 0!==i?i:""];if(null==s)throw new ed("missing input defined in abi",{param:e,input:t,paramName:n.name});r=ue(n,s)}r.dynamic&&(s=!0),o.push(r)}return s?{dynamic:!0,encoded:c9(o)}:{dynamic:!1,encoded:nu(...o.map(e=>e.encoded))}}function un(e,t){let r={__length__:0},n=0;if(!e.components)return{result:r,encoded:t,consumed:n};let i=0;for(let[s,o]of e.components.entries()){let e;if(c1(o)){let r=c8({type:"uint32",name:""},t.subarray(n));e=ut(o,t.subarray(Number(r.result))),n+=r.consumed,i+=e.consumed}else e=ut(o,t.subarray(n)),n+=e.consumed;r.__length__+=1,r[s]=e.result,o.name&&""!==o.name&&(r[o.name]=e.result)}return{encoded:t.subarray(n+i),result:r,consumed:n+i}}function ui(e,t){if((null==e?void 0:e.length)!==t.length)throw new ed("Invalid number of values received for given ABI",{expected:null==e?void 0:e.length,received:t.length});return rD(ur({type:"tuple",name:"",components:c$(e)},t).encoded)}let us=(e,t)=>ui([e],[t]),uo=(e,t,r)=>{try{if(e.length>0&&(!t||"0x"===t||"0X"===t))throw new ed("Returned values aren't valid, did it run Out of Gas? You might also see this error if you are not using the correct ABI for the contract you are retrieving data from, requesting data from a block number that does not exist, or querying a node which is not fully synced.");return function(e,t,r){let n=c$(e);return un({type:"tuple",name:"",components:n},rj(t)).result}(e,"0x".concat(t.replace(/0x/i,"")),0)}catch(e){throw new ed("Parameter decoding error: ".concat(e.message),{internalErr:e})}},ua=(e,t)=>uo(e,t,!1),uc=(e,t)=>ua([e],t)["0"],uu=e=>{if("string"!=typeof e&&!cA(e))throw new ed("Invalid parameter value in encodeFunctionSignature");return iu(e&&("function"==typeof e||"object"==typeof e)?cP(e):e).slice(0,10)},ul=["bool","string","int","uint","address","fixed","ufixed"],ud=(e,t)=>"string"===e?t:uc(e,t),uh=(e,t,r)=>{let n=Array.isArray(r)?r:[r],i={},s={};for(let[t,r]of e.entries())r.indexed?i[t]=r:s[t]=r;let o=t?uo(Object.values(s),t,!0):{__length__:0},a=n.length-Object.keys(i).length,c=Object.values(i).map((e,t)=>ul.some(t=>e.type.startsWith(t))?ud(e.type,n[t+a]):n[t+a]),u={__length__:0},l=0,d=0;for(let[t,r]of e.entries())u[t]="string"===r.type?"":void 0,i[t]&&(u[t]=c[l],l+=1),s[t]&&(u[t]=o[String(d)],d+=1),r.name&&(u[r.name]=u[t]),u.__length__+=1;return u},uf=(e,t)=>{if(null==t?void 0:t.data){let r,n,i;try{let s=t.data.slice(0,10),o=e.find(e=>ck(e).startsWith(s));(null==o?void 0:o.inputs)&&(r=o.name,n=cP(o),i=ua([...o.inputs],t.data.substring(10)))}catch(e){console.error(e)}r&&t.setDecodedProperties(r,n,i)}},up=/^\w+/,um=/^(.*)\[([0-9]*?)]$/,ug=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=t.match(up)[0];return r.includes(n)||!e.types[n]?r:[n,...e.types[n].reduce((t,r)=>[...t,...ug(e,r.type,t).filter(e=>!t.includes(e))],[])]},uv=(e,t)=>{let[r,...n]=ug(e,t);return[r,...n.sort()].map(t=>"".concat(t,"(").concat(e.types[t].map(e=>"".concat(e.type," ").concat(e.name)),")")).join("")},ub=(e,t)=>keccak256(uv(e,t)),uy=(e,t,r)=>keccak256(uE(e,t,r)),uw=(e,t,r)=>{let n=t.match(um);if(n){let t=n[1],i=Number(n[2])||void 0;if(!Array.isArray(r))throw new AbiError("Cannot encode data: value is not of array type",{data:r});if(i&&r.length!==i)throw new AbiError("Cannot encode data: expected length of ".concat(i,", but got ").concat(r.length),{data:r});let s=r.map(r=>uw(e,t,r)),o=s.map(e=>e[0]),a=s.map(e=>e[1]);return["bytes32",keccak256(encodeParameters(o,a))]}return e.types[t]?["bytes32",uy(e,t,r)]:"string"===t||"bytes"===t?["bytes32",keccak256(r)]:[t,r]},uE=(e,t,r)=>{let[n,i]=e.types[t].reduce((t,n)=>{let[i,s]=t;if(isNullish(r[n.name])||isNullish(r[n.name]))throw new AbiError("Cannot encode data: missing data for '".concat(n.name,"'"),{data:r,field:n});let o=r[n.name],[a,c]=uw(e,n.type,o);return[[...i,a],[...s,c]]},[["bytes32"],[ub(e,t)]]);return encodeParameters(n,i)},u_=(e,t)=>{var r,n,i,s,o;if(e instanceof er&&e.cause instanceof et)return void 0!==t?(uf(t.filter(e=>c_(e)),e.cause),{reason:e.cause.message,signature:null===(r=e.cause.data)||void 0===r?void 0:r.slice(0,10),data:null===(n=e.cause.data)||void 0===n?void 0:n.substring(10),customErrorName:e.cause.errorName,customErrorDecodedSignature:e.cause.errorSignature,customErrorArguments:e.cause.errorArgs}):{reason:e.cause.message,signature:null===(i=e.cause.data)||void 0===i?void 0:i.slice(0,10),data:null===(s=e.cause.data)||void 0===s?void 0:s.substring(10)};if(e instanceof ta&&!Array.isArray(null===(o=e.cause)||void 0===o?void 0:o.errors)&&void 0!==e.cause)return e.cause.message;throw e};function uS(e,t,r){var n,i,s,o;let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:rW;return n=this,i=void 0,s=void 0,o=function*(){try{yield uD(e,t,e.defaultBlock,a);return}catch(e){return u_(e,r)}},new(s||(s=Promise))(function(e,t){function r(e){try{c(o.next(e))}catch(e){t(e)}}function a(e){try{c(o.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):((n=t.value)instanceof s?n:new s(function(e){e(n)})).then(r,a)}c((o=o.apply(n,i||[])).next())})}function uA(e,t,r,n,i,s){var o,a,c,u;return o=this,a=void 0,c=void 0,u=function*(){let o,a=s;if(void 0===a&&(void 0!==n?a=u_(n):e.handleRevert&&void 0!==t&&(a=yield uS(e,t,i))),void 0===a)o=new eE(r);else if("string"==typeof a)o=new ey(a,void 0,r);else if(void 0!==a.customErrorName&&void 0!==a.customErrorDecodedSignature&&void 0!==a.customErrorArguments){let e=a;o=new ew(e.reason,e.customErrorName,e.customErrorDecodedSignature,e.customErrorArguments,e.signature,r,e.data)}else o=new ey(a.reason,a.signature,r,a.data);return o},new(c||(c=Promise))(function(e,t){function r(e){try{i(u.next(e))}catch(e){t(e)}}function n(e){try{i(u.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):((i=t.value)instanceof c?i:new c(function(e){e(i)})).then(r,n)}i((u=u.apply(o,a||[])).next())})}let uT=function(e,t,r){var n,i,s,o,a;let c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:rW,u=Object.assign({},e),l=io(a1,t,c);if([cn,"allEvents"].includes(u.name)&&(u=r.find(e=>e.signature===t.topics[0])||{anonymous:!0}),u.inputs=null!==(i=null!==(n=u.inputs)&&void 0!==n?n:e.inputs)&&void 0!==i?i:[],!u.anonymous){let e=0;(null!==(s=u.inputs)&&void 0!==s?s:[]).forEach(t=>{t.indexed&&(e+=1)}),e>0&&(null==t?void 0:t.topics)&&(null==t?void 0:t.topics.length)!==e+1&&(u=Object.assign(Object.assign({},u),{anonymous:!0,inputs:[]}))}let d=u.anonymous?t.topics:(null!==(o=t.topics)&&void 0!==o?o:[]).slice(1);return Object.assign(Object.assign({},l),{returnValues:uh([...null!==(a=u.inputs)&&void 0!==a?a:[]],t.data,d),event:u.name,signature:!u.anonymous&&t.topics&&0!==t.topics.length&&t.topics[0]?t.topics[0]:void 0,raw:{data:t.data,topics:t.topics}})};var ux=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};class uI{getReceiptWithEvents(e){var t,r;let n=Object.assign({},null!=e?e:{});if((null===(t=this.options)||void 0===t?void 0:t.contractAbi)&&n.logs&&n.logs.length>0)for(let e of(n.events={},n.logs)){let t=uT(ci,e,null===(r=this.options)||void 0===r?void 0:r.contractAbi,this.returnFormat);t.event&&(n.events[t.event]=t)}return n}checkRevertBeforeSending(e){return ux(this,void 0,void 0,function*(){if(!1!==this.options.checkRevertBeforeSending){let t=yield uS(this.web3Context,e,this.options.contractAbi);if(void 0!==t)throw yield uA(this.web3Context,e,void 0,void 0,this.options.contractAbi,t)}})}emitSending(e){this.promiEvent.listenerCount("sending")>0&&this.promiEvent.emit("sending",e)}populateGasPrice(e){var t;let{transactionFormatted:r,transaction:n}=e;return ux(this,void 0,void 0,function*(){let e=r;return!(null===(t=this.options)||void 0===t?void 0:t.ignoreGasPricing)&&r9(r.gasPrice)&&(r9(n.maxPriorityFeePerGas)||r9(n.maxFeePerGas))&&(e=Object.assign(Object.assign({},r),(yield ca(r,this.web3Context,rV)))),e})}signAndSend(e){let{wallet:t,tx:r}=e;return ux(this,void 0,void 0,function*(){if(t){let e=yield t.signTransaction(r);return cg(this.web3Context,()=>ux(this,void 0,void 0,function*(){return aI(this.web3Context.requestManager,e.rawTransaction)}),e.transactionHash)}return cg(this.web3Context,()=>ux(this,void 0,void 0,function*(){return function(e,t){return aT(this,void 0,void 0,function*(){return e.send({method:"eth_sendTransaction",params:[t]})})}(this.web3Context.requestManager,r)}))})}emitSent(e){this.promiEvent.listenerCount("sent")>0&&this.promiEvent.emit("sent",e)}emitTransactionHash(e){this.promiEvent.listenerCount("transactionHash")>0&&this.promiEvent.emit("transactionHash",e)}emitReceipt(e){this.promiEvent.listenerCount("receipt")>0&&this.promiEvent.emit("receipt",e)}handleError(e){var t;let{error:r,tx:n}=e;return ux(this,void 0,void 0,function*(){let e=r;return e instanceof er&&this.web3Context.handleRevert&&(e=yield uA(this.web3Context,n,void 0,void 0,null===(t=this.options)||void 0===t?void 0:t.contractAbi)),(e instanceof ta||e instanceof er||e instanceof ew||e instanceof eE||e instanceof ey||e instanceof eZ)&&this.promiEvent.listenerCount("error")>0&&this.promiEvent.emit("error",e),e})}emitConfirmation(e){let{receipt:t,transactionHash:r}=e;this.promiEvent.listenerCount("confirmation")>0&&function(e,t,r,n,i){if(r9(r)||r9(r.blockHash))throw new eX({receipt:r,blockHash:io({format:"bytes32"},null==r?void 0:r.blockHash,i),transactionHash:io({format:"bytes32"},n,i)});if(!r.blockNumber)throw new eY({receipt:r});t.emit("confirmation",{confirmations:io({format:"uint"},1,i),receipt:io(a3,r,i),latestBlockHash:io({format:"bytes32"},r.blockHash,i)});let s=e.requestManager.provider;s&&"supportsSubscriptions"in s&&s.supportsSubscriptions()?cE({web3Context:e,transactionReceipt:r,transactionPromiEvent:t,returnFormat:i}):cy({web3Context:e,transactionReceipt:r,transactionPromiEvent:t,returnFormat:i})}(this.web3Context,this.promiEvent,t,r,this.returnFormat)}handleResolve(e){var t,r,n;let{receipt:i,tx:s}=e;return ux(this,void 0,void 0,function*(){if(null===(t=this.options)||void 0===t?void 0:t.transactionResolver)return null===(r=this.options)||void 0===r?void 0:r.transactionResolver(i);if(i.status!==BigInt(0))return i;{let e=yield uA(this.web3Context,s,i,void 0,null===(n=this.options)||void 0===n?void 0:n.contractAbi);throw this.promiEvent.listenerCount("error")>0&&this.promiEvent.emit("error",e),e}})}constructor({options:e,web3Context:t,promiEvent:r,returnFormat:n}){this.options={checkRevertBeforeSending:!0},this.options=e,this.web3Context=t,this.promiEvent=r,this.returnFormat=n}}var uR=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})},uO=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let uP=e=>uR(void 0,void 0,void 0,function*(){return ax(e.requestManager)});function uk(e,t){return uR(this,void 0,void 0,function*(){return io({format:"uint"},(yield function(e){return aT(this,void 0,void 0,function*(){return e.send({method:"eth_gasPrice",params:[]})})}(e.requestManager)),t)})}function uN(e,t){return uR(this,void 0,void 0,function*(){return io({format:"uint"},(yield function(e){return aT(this,void 0,void 0,function*(){return e.send({method:"eth_blockNumber",params:[]})})}(e.requestManager)),t)})}function uC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.defaultBlock,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;return uR(this,void 0,void 0,function*(){let i;if(rG(t)){let n=io({format:"bytes32"},t,rV);i=yield function(e,t,r){return aT(this,void 0,void 0,function*(){return na.validate(["bytes32","bool"],[t,r]),e.send({method:"eth_getBlockByHash",params:[t,r]})})}(e.requestManager,n,r)}else{let n=r4(t)?t:io({format:"uint"},t,rV);i=yield aR(e.requestManager,n,r)}return io(a$,i,n)})}function uM(e,t,r){return uR(this,void 0,void 0,function*(){let n=io({format:"bytes32"},t,rW),i=yield function(e,t){return aT(this,void 0,void 0,function*(){return na.validate(["bytes32"],[t]),e.send({method:"eth_getTransactionReceipt",params:[t]})})}(e.requestManager,n);return r9(i)?i:io(a3,i,r)})}function uL(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.defaultBlock,n=arguments.length>3?arguments[3]:void 0;return uR(this,void 0,void 0,function*(){let i=r4(r)?r:io({format:"uint"},r,rV);return io({format:"uint"},(yield function(e,t,r){return aT(this,void 0,void 0,function*(){return na.validate(["address","blockNumberOrTag"],[t,r]),e.send({method:"eth_getTransactionCount",params:[t,r]})})}(e.requestManager,t,i)),n)})}function uB(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{checkRevertBeforeSending:!0},i=new aA((s,o)=>{setImmediate(()=>{uR(this,void 0,void 0,function*(){let a=new uI({web3Context:e,promiEvent:i,options:n,returnFormat:r}),c=a5(Object.assign(Object.assign({},t),{from:cu("from",e,t),to:cu("to",e,t)}),rV);try{let n;c=yield a.populateGasPrice({transaction:t,transactionFormatted:c}),yield a.checkRevertBeforeSending(c),a.emitSending(c),e.wallet&&!r9(c.from)&&(n=e.wallet.get(c.from));let i=yield a.signAndSend({wallet:n,tx:c}),o=io({format:"bytes32"},i,r);a.emitSent(c),a.emitTransactionHash(o);let u=yield cb(e,i,r),l=a.getReceiptWithEvents(io(a3,u,r));a.emitReceipt(l),s((yield a.handleResolve({receipt:l,tx:c}))),a.emitConfirmation({receipt:l,transactionHash:i})}catch(e){o((yield a.handleError({error:e,tx:c})))}})})});return i}function uD(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.defaultBlock,n=arguments.length>3?arguments[3]:void 0;return uR(this,void 0,void 0,function*(){let i=r4(r)?r:io({format:"uint"},r,rV);return io({format:"bytes"},(yield function(e,t,r){return aT(this,void 0,void 0,function*(){return na.validate(["blockNumberOrTag"],[r]),e.send({method:"eth_call",params:[t,r]})})}(e.requestManager,a5(t,rV),i)),n)})}function uU(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.defaultBlock,n=arguments.length>3?arguments[3]:void 0;return uR(this,void 0,void 0,function*(){let i=a5(t,rV),s=r4(r)?r:io({format:"uint"},r,rV);return io({format:"uint"},(yield function(e,t,r){return aT(this,void 0,void 0,function*(){return na.validate(["blockNumberOrTag"],[r]),e.send({method:"eth_estimateGas",params:[t,r]})})}(e.requestManager,i,s)),n)})}function uH(e,t,r){return uR(this,void 0,void 0,function*(){let{toBlock:n,fromBlock:i}=t;r9(n)||"number"!=typeof n&&"bigint"!=typeof n||(n=nb(n)),r9(i)||"number"!=typeof i&&"bigint"!=typeof i||(i=nb(i));let s=Object.assign(Object.assign({},t),{fromBlock:i,toBlock:n});return(yield function(e,t){return aT(this,void 0,void 0,function*(){return na.validate(["filter"],[t]),e.send({method:"eth_getLogs",params:[t]})})}(e.requestManager,s)).map(e=>"string"==typeof e?e:io(a1,e,r))})}function uj(e,t){return uR(this,void 0,void 0,function*(){return io({format:"uint"},(yield function(e){return aT(this,void 0,void 0,function*(){return e.send({method:"eth_chainId",params:[]})})}(e.requestManager)),t)})}function uF(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.defaultBlock,n=arguments.length>3?arguments[3]:void 0;return uR(this,void 0,void 0,function*(){let i=r4(r)?r:io({format:"uint"},r,rV);return io(aJ,(yield function(e,t,r){return aT(this,void 0,void 0,function*(){return na.validate(["blockNumberOrTag"],[r]),e.send({method:"eth_createAccessList",params:[t,r]})})}(e.requestManager,a5(t,rV),i)),n)})}class uq extends sc{_buildSubscriptionParams(){return["logs",this.args]}formatSubscriptionResult(e){return io(a1,e,super.returnFormat)}}class uG extends sc{_buildSubscriptionParams(){return["newPendingTransactions"]}formatSubscriptionResult(e){return io({format:"string"},e,super.returnFormat)}}class uz extends sc{_buildSubscriptionParams(){return["newHeads"]}formatSubscriptionResult(e){return io(a0,e,super.returnFormat)}}class uK extends sc{_buildSubscriptionParams(){return["syncing"]}_processSubscriptionResult(e){if("boolean"==typeof e)this.emit("changed",e);else{let t=Object.fromEntries(Object.entries(e.status).map(e=>{let[t,r]=e;return[t.charAt(0).toLowerCase()+t.substring(1),r]}));this.emit("changed",e.syncing),this.emit("data",io(a2,t,super.returnFormat))}}}var uW=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};let uV={logs:uq,newPendingTransactions:uG,newHeads:uz,syncing:uK,pendingTransactions:uG,newBlockHeaders:uz};class uJ extends aE{getProtocolVersion(){return uW(this,void 0,void 0,function*(){return function(e){return aT(this,void 0,void 0,function*(){return e.send({method:"eth_protocolVersion",params:[]})})}(this.requestManager)})}isSyncing(){return uW(this,void 0,void 0,function*(){return ax(this.requestManager)})}getCoinbase(){return uW(this,void 0,void 0,function*(){return function(e){return aT(this,void 0,void 0,function*(){return e.send({method:"eth_coinbase",params:[]})})}(this.requestManager)})}isMining(){return uW(this,void 0,void 0,function*(){return function(e){return aT(this,void 0,void 0,function*(){return e.send({method:"eth_mining",params:[]})})}(this.requestManager)})}getHashrate(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rW;return uW(this,void 0,void 0,function*(){return this.getHashRate(e)})}getHashRate(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rW;return uW(this,void 0,void 0,function*(){return function(e,t){return uR(this,void 0,void 0,function*(){return io({format:"uint"},(yield function(e){return aT(this,void 0,void 0,function*(){return e.send({method:"eth_hashrate",params:[]})})}(e.requestManager)),t)})}(this,e)})}getGasPrice(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rW;return uW(this,void 0,void 0,function*(){return uk(this,e)})}getAccounts(){var e;return uW(this,void 0,void 0,function*(){return(null!==(e=yield function(e){return aT(this,void 0,void 0,function*(){return e.send({method:"eth_accounts",params:[]})})}(this.requestManager))&&void 0!==e?e:[]).map(e=>nD(e))})}getBlockNumber(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rW;return uW(this,void 0,void 0,function*(){return uN(this,e)})}getBalance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultBlock,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rW;return uW(this,void 0,void 0,function*(){return function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.defaultBlock,n=arguments.length>3?arguments[3]:void 0;return uR(this,void 0,void 0,function*(){let i=r4(r)?r:io({format:"uint"},r,rV);return io({format:"uint"},(yield function(e,t,r){return aT(this,void 0,void 0,function*(){return na.validate(["address","blockNumberOrTag"],[t,r]),e.send({method:"eth_getBalance",params:[t,r]})})}(e.requestManager,t,i)),n)})}(this,e,t,r)})}getStorageAt(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.defaultBlock,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:rW;return uW(this,void 0,void 0,function*(){return function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.defaultBlock,i=arguments.length>4?arguments[4]:void 0;return uR(this,void 0,void 0,function*(){let s=io({format:"uint"},r,rV),o=r4(n)?n:io({format:"uint"},n,rV);return io({format:"bytes"},(yield function(e,t,r,n){return aT(this,void 0,void 0,function*(){return na.validate(["address","hex","blockNumberOrTag"],[t,r,n]),e.send({method:"eth_getStorageAt",params:[t,r,n]})})}(e.requestManager,t,s,o)),i)})}(this,e,t,r,n)})}getCode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultBlock,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rW;return uW(this,void 0,void 0,function*(){return function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.defaultBlock,n=arguments.length>3?arguments[3]:void 0;return uR(this,void 0,void 0,function*(){let i=r4(r)?r:io({format:"uint"},r,rV);return io({format:"bytes"},(yield function(e,t,r){return aT(this,void 0,void 0,function*(){return na.validate(["address","blockNumberOrTag"],[t,r]),e.send({method:"eth_getCode",params:[t,r]})})}(e.requestManager,t,i)),n)})}(this,e,t,r)})}getBlock(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultBlock,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rW;return uW(this,void 0,void 0,function*(){return uC(this,e,t,r)})}getBlockTransactionCount(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultBlock,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rW;return uW(this,void 0,void 0,function*(){return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.defaultBlock,r=arguments.length>2?arguments[2]:void 0;return uR(this,void 0,void 0,function*(){let n;if(rG(t)){let r=io({format:"bytes32"},t,rV);n=yield function(e,t){return aT(this,void 0,void 0,function*(){return na.validate(["bytes32"],[t]),e.send({method:"eth_getBlockTransactionCountByHash",params:[t]})})}(e.requestManager,r)}else{let r=r4(t)?t:io({format:"uint"},t,rV);n=yield function(e,t){return aT(this,void 0,void 0,function*(){return na.validate(["blockNumberOrTag"],[t]),e.send({method:"eth_getBlockTransactionCountByNumber",params:[t]})})}(e.requestManager,r)}return io({format:"uint"},n,r)})}(this,e,t)})}getBlockUncleCount(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultBlock,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rW;return uW(this,void 0,void 0,function*(){return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.defaultBlock,r=arguments.length>2?arguments[2]:void 0;return uR(this,void 0,void 0,function*(){let n;if(rG(t)){let r=io({format:"bytes32"},t,rV);n=yield function(e,t){return aT(this,void 0,void 0,function*(){return na.validate(["bytes32"],[t]),e.send({method:"eth_getUncleCountByBlockHash",params:[t]})})}(e.requestManager,r)}else{let r=r4(t)?t:io({format:"uint"},t,rV);n=yield function(e,t){return aT(this,void 0,void 0,function*(){return na.validate(["blockNumberOrTag"],[t]),e.send({method:"eth_getUncleCountByBlockNumber",params:[t]})})}(e.requestManager,r)}return io({format:"uint"},n,r)})}(this,e,t)})}getUncle(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultBlock,t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rW;return uW(this,void 0,void 0,function*(){return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.defaultBlock,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;return uR(this,void 0,void 0,function*(){let i;let s=io({format:"uint"},r,rV);if(rG(t)){let r=io({format:"bytes32"},t,rV);i=yield function(e,t,r){return aT(this,void 0,void 0,function*(){return na.validate(["bytes32","hex"],[t,r]),e.send({method:"eth_getUncleByBlockHashAndIndex",params:[t,r]})})}(e.requestManager,r,s)}else{let r=r4(t)?t:io({format:"uint"},t,rV);i=yield function(e,t,r){return aT(this,void 0,void 0,function*(){return na.validate(["blockNumberOrTag","hex"],[t,r]),e.send({method:"eth_getUncleByBlockNumberAndIndex",params:[t,r]})})}(e.requestManager,r,s)}return io(a$,i,n)})}(this,e,t,r)})}getTransaction(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rW;return uW(this,void 0,void 0,function*(){let r=yield function(e,t,r){return uR(this,void 0,void 0,function*(){let n=io({format:"bytes32"},t,rW),i=yield function(e,t){return aT(this,void 0,void 0,function*(){return na.validate(["bytes32"],[t]),e.send({method:"eth_getTransactionByHash",params:[t]})})}(e.requestManager,n);return r9(i)?i:a5(i,r,{fillInputAndData:!0})})}(this,e,t);if(!r)throw new eS;return r})}getPendingTransactions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rW;return uW(this,void 0,void 0,function*(){return function(e,t){return uR(this,void 0,void 0,function*(){return(yield function(e){return aT(this,void 0,void 0,function*(){return e.send({method:"eth_pendingTransactions",params:[]})})}(e.requestManager)).map(e=>a5(e,t,{fillInputAndData:!0}))})}(this,e)})}getTransactionFromBlock(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultBlock,t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rW;return uW(this,void 0,void 0,function*(){return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.defaultBlock,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;return uR(this,void 0,void 0,function*(){let i;let s=io({format:"uint"},r,rV);if(rG(t)){let r=io({format:"bytes32"},t,rV);i=yield function(e,t,r){return aT(this,void 0,void 0,function*(){return na.validate(["bytes32","hex"],[t,r]),e.send({method:"eth_getTransactionByBlockHashAndIndex",params:[t,r]})})}(e.requestManager,r,s)}else{let r=r4(t)?t:io({format:"uint"},t,rV);i=yield function(e,t,r){return aT(this,void 0,void 0,function*(){return na.validate(["blockNumberOrTag","hex"],[t,r]),e.send({method:"eth_getTransactionByBlockNumberAndIndex",params:[t,r]})})}(e.requestManager,r,s)}return r9(i)?i:a5(i,n,{fillInputAndData:!0})})}(this,e,t,r)})}getTransactionReceipt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rW;return uW(this,void 0,void 0,function*(){let r=yield uM(this,e,t);if(!r)throw new eS;return r})}getTransactionCount(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultBlock,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rW;return uW(this,void 0,void 0,function*(){return uL(this,e,t,r)})}sendTransaction(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rW,r=arguments.length>2?arguments[2]:void 0;return uB(this,e,t,r)}sendSignedTransaction(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rW,r=arguments.length>2?arguments[2]:void 0;return function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{checkRevertBeforeSending:!0},i=new aA((s,o)=>{setImmediate(()=>{uR(this,void 0,void 0,function*(){let a=new uI({web3Context:e,promiEvent:i,options:n,returnFormat:r}),c=io({format:"bytes"},t,rV),u=as.fromSerializedData(nh(nm(c))),l=Object.assign(Object.assign({},u.toJSON()),{from:u.getSenderAddress().toString()});try{let{v:t,r:n,s:i}=l,o=uO(l,["v","r","s"]);yield a.checkRevertBeforeSending(o),a.emitSending(c);let u=yield cg(e,()=>uR(this,void 0,void 0,function*(){return aI(e.requestManager,c)}));a.emitSent(c);let d=io({format:"bytes32"},u,r);a.emitTransactionHash(d);let h=yield cb(e,u,r),f=a.getReceiptWithEvents(io(a3,h,r));a.emitReceipt(f),s((yield a.handleResolve({receipt:f,tx:l}))),a.emitConfirmation({receipt:f,transactionHash:u})}catch(e){o((yield a.handleError({error:e,tx:l})))}})})});return i}(this,e,t,r)}sign(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rW;return uW(this,void 0,void 0,function*(){return function(e,t,r,n){var i;return uR(this,void 0,void 0,function*(){let s=io({format:"bytes"},t,rW);if(null===(i=e.wallet)||void 0===i?void 0:i.get(r))return io(a4,e.wallet.get(r).sign(s),n);if("number"==typeof r)throw new ev(t,'RPC method "eth_sign" does not support index signatures');return io({format:"bytes"},(yield function(e,t,r){return aT(this,void 0,void 0,function*(){return na.validate(["address","hex"],[t,r]),e.send({method:"eth_sign",params:[t,r]})})}(e.requestManager,r,s)),n)})}(this,e,t,r)})}signTransaction(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rW;return uW(this,void 0,void 0,function*(){return function(e,t,r){return uR(this,void 0,void 0,function*(){let n=yield function(e,t){return aT(this,void 0,void 0,function*(){return e.send({method:"eth_signTransaction",params:[t]})})}(e.requestManager,a5(t,rV));return rw(n)?function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{fillInputAndData:!1};return{raw:io({format:"bytes"},e,t),tx:a5(Object.assign(Object.assign({},as.fromSerializedData(nm(e)).toJSON()),{hash:np(il(nm(e))),type:aW(nm(e))}),t,{fillInputAndData:r.fillInputAndData})}}(n,r,{fillInputAndData:!0}):{raw:io({format:"bytes"},n.raw,r),tx:a5(n.tx,r,{fillInputAndData:!0})}})}(this,e,t)})}call(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultBlock,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rW;return uW(this,void 0,void 0,function*(){return uD(this,e,t,r)})}estimateGas(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultBlock,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rW;return uW(this,void 0,void 0,function*(){return uU(this,e,t,r)})}getPastLogs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rW;return uW(this,void 0,void 0,function*(){return uH(this,e,t)})}getWork(){return uW(this,void 0,void 0,function*(){return function(e){return aT(this,void 0,void 0,function*(){return e.send({method:"eth_getWork",params:[]})})}(this.requestManager)})}submitWork(e,t,r){return uW(this,void 0,void 0,function*(){return function(e,t,r,n){return aT(this,void 0,void 0,function*(){return na.validate(["bytes8","bytes32","bytes32"],[t,r,n]),e.send({method:"eth_submitWork",params:[t,r,n]})})}(this.requestManager,e,t,r)})}requestAccounts(){return uW(this,void 0,void 0,function*(){return function(e){return aT(this,void 0,void 0,function*(){return e.send({method:"eth_requestAccounts",params:[]})})}(this.requestManager)})}getChainId(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rW;return uW(this,void 0,void 0,function*(){return uj(this,e)})}getNodeInfo(){return uW(this,void 0,void 0,function*(){return function(e){return aT(this,void 0,void 0,function*(){return e.send({method:"web3_clientVersion",params:[]})})}(this.requestManager)})}getProof(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.defaultBlock,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:rW;return uW(this,void 0,void 0,function*(){return function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.defaultBlock,i=arguments.length>4?arguments[4]:void 0;return uR(this,void 0,void 0,function*(){let s=r.map(e=>io({format:"bytes"},e,rV)),o=r4(n)?n:io({format:"uint"},n,rV);return io(a8,(yield function(e,t,r,n){return aT(this,void 0,void 0,function*(){return na.validate(["address","bytes32[]","blockNumberOrTag"],[t,r,n]),e.send({method:"eth_getProof",params:[t,r,n]})})}(e.requestManager,t,s,o)),i)})}(this,e,t,r,n)})}getFeeHistory(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultBlock,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:rW;return uW(this,void 0,void 0,function*(){return function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.defaultBlock,n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;return uR(this,void 0,void 0,function*(){let s=io({format:"uint"},t,rV),o=r4(r)?r:io({format:"uint"},r,rV),a=io({type:"array",items:{format:"uint"}},n,cs);return io(a6,(yield function(e,t,r,n){return aT(this,void 0,void 0,function*(){for(let e of(na.validate(["hex","blockNumberOrTag"],[t,r]),n))na.validate(["number"],[e]);return e.send({method:"eth_feeHistory",params:[t,r,n]})})}(e.requestManager,s,o,a)),i)})}(this,e,t,r,n)})}createAccessList(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultBlock,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rW;return uW(this,void 0,void 0,function*(){return uF(this,e,t,r)})}signTypedData(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:rW;return uW(this,void 0,void 0,function*(){return function(e,t,r,n,i){return uR(this,void 0,void 0,function*(){return io({format:"bytes"},(yield function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return aT(this,void 0,void 0,function*(){return na.validate(["address"],[t]),e.send({method:"eth_signTypedData".concat(n?"":"_v4"),params:[t,r]})})}(e.requestManager,t,r,n)),i)})}(this,e,t,r,n)})}subscribe(e,t){var r;let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rW;return uW(this,void 0,void 0,function*(){let i=yield null===(r=this.subscriptionManager)||void 0===r?void 0:r.subscribe(e,t,n);return i instanceof uq&&"logs"===e&&"object"==typeof t&&!n1(t.fromBlock)&&Number.isFinite(Number(t.fromBlock))&&setImmediate(()=>{this.getPastLogs(t).then(e=>{for(let t of e)i._processSubscriptionResult(t)}).catch(e=>{i._processSubscriptionError(e)})}),i})}static shouldClearSubscription(e){let{sub:t}=e;return!(t instanceof uK)}clearSubscriptions(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return null===(e=this.subscriptionManager)||void 0===e?void 0:e.unsubscribe(t?uJ.shouldClearSubscription:void 0)}constructor(e){if("string"==typeof e||se(e)){super({provider:e,registeredSubscriptions:uV});return}if(e.registeredSubscriptions){super(e);return}super(Object.assign(Object.assign({},e),{registeredSubscriptions:uV}))}}let uZ=e=>{if(!r9(e.common)){if(r9(e.common.customChain))throw new ex;if(r9(e.common.customChain.chainId))throw new eI;if(!r9(e.chainId)&&e.chainId!==e.common.customChain.chainId)throw new eR({txChainId:e.chainId,customChainId:e.common.customChain.chainId})}},uQ=e=>{if(!r9(e.common)&&!r9(e.chain)&&!r9(e.hardfork))throw new ek;if(!r9(e.chain)&&r9(e.hardfork)||!r9(e.hardfork)&&r9(e.chain))throw new eN({chain:e.chain,hardfork:e.hardfork})},uX=e=>{if(!r9(e.common)&&!r9(e.common.baseChain)&&!r9(e.chain)&&e.chain!==e.common.baseChain)throw new eO({txChain:e.chain,baseChain:e.common.baseChain})},uY=e=>{if(!r9(e.common)&&!r9(e.common.hardfork)&&!r9(e.hardfork)&&e.hardfork!==e.common.hardfork)throw new eP({txHardfork:e.hardfork,commonHardfork:e.common.hardfork})},u$=e=>{if(r9(e.gas)||!r0(e.gas)||r9(e.gasPrice)||!r0(e.gasPrice))throw new eD({gas:e.gas,gasPrice:e.gasPrice});if(!r9(e.maxFeePerGas)||!r9(e.maxPriorityFeePerGas))throw new ej({maxFeePerGas:e.maxFeePerGas,maxPriorityFeePerGas:e.maxPriorityFeePerGas})},u0=e=>{if(!r9(e.gasPrice)&&"0x2"===e.type)throw new eH(e.gasPrice);if("0x0"===e.type||"0x1"===e.type)throw new ej({maxFeePerGas:e.maxFeePerGas,maxPriorityFeePerGas:e.maxPriorityFeePerGas});if(r9(e.maxFeePerGas)||!r0(e.maxFeePerGas)||r9(e.maxPriorityFeePerGas)||!r0(e.maxPriorityFeePerGas))throw new eU({maxPriorityFeePerGas:e.maxPriorityFeePerGas,maxFeePerGas:e.maxFeePerGas})},u1=e=>{let t=!r9(e.gas)||!r9(e.gasLimit),r=t&&!r9(e.gasPrice),n=t&&!r9(e.maxPriorityFeePerGas)&&!r9(e.maxFeePerGas);if(!r&&!n)throw new eM({gas:e.gas,gasPrice:e.gasPrice,maxPriorityFeePerGas:e.maxPriorityFeePerGas,maxFeePerGas:e.maxFeePerGas});if(r&&n)throw new eB({gas:e.gas,gasPrice:e.gasPrice,maxPriorityFeePerGas:e.maxPriorityFeePerGas,maxFeePerGas:e.maxFeePerGas});(r?u$:u0)(e),(!r9(e.type)&&e.type>"0x1"?u0:u$)(e)},u2=(e,t)=>{if(!r9(t)){t(e);return}if("object"!=typeof e||r9(e))throw new eF(e);uZ(e),uQ(e),uX(e),uY(e);let r=a5(e,rV);if(u1(r),r9(r.nonce)||r9(r.chainId)||r.nonce.startsWith("-")||r.chainId.startsWith("-"))throw new eq({nonce:e.nonce,chainId:e.chainId})},u3=e=>{var t,r;return{nonce:e.nonce,gasPrice:e.gasPrice,gasLimit:null!==(t=e.gasLimit)&&void 0!==t?t:e.gas,to:e.to,value:e.value,data:null!==(r=e.data)&&void 0!==r?r:e.input,type:e.type,chainId:e.chainId,accessList:e.accessList,maxPriorityFeePerGas:e.maxPriorityFeePerGas,maxFeePerGas:e.maxFeePerGas}},u4=(e,t)=>{var r,n,i,s,o,a,c,u,l,d,h,f,p,m,g,v,b,y;let w;if((r9(e.chain)||r9(e.hardfork))&&r9(e.common))t.defaultCommon?(r9((w=Object.assign({},t.defaultCommon)).hardfork)&&(w.hardfork=null!==(r=e.hardfork)&&void 0!==r?r:t.defaultHardfork),r9(w.baseChain)&&(w.baseChain=t.defaultChain)):w=o0.custom({name:"custom-network",chainId:nC(e.chainId),networkId:r9(e.networkId)?void 0:nC(e.networkId),defaultHardfork:null!==(n=e.hardfork)&&void 0!==n?n:t.defaultHardfork},{baseChain:t.defaultChain});else{let r=null!==(a=null!==(o=null===(s=null===(i=null==e?void 0:e.common)||void 0===i?void 0:i.customChain)||void 0===s?void 0:s.name)&&void 0!==o?o:e.chain)&&void 0!==a?a:"custom-network",n=nC(null!==(l=null===(u=null===(c=null==e?void 0:e.common)||void 0===c?void 0:c.customChain)||void 0===u?void 0:u.chainId)&&void 0!==l?l:null==e?void 0:e.chainId),E=nC(null!==(f=null===(h=null===(d=null==e?void 0:e.common)||void 0===d?void 0:d.customChain)||void 0===h?void 0:h.networkId)&&void 0!==f?f:null==e?void 0:e.networkId),_=null!==(g=null!==(m=null===(p=null==e?void 0:e.common)||void 0===p?void 0:p.hardfork)&&void 0!==m?m:null==e?void 0:e.hardfork)&&void 0!==g?g:t.defaultHardfork,S=null!==(y=null!==(b=null===(v=e.common)||void 0===v?void 0:v.baseChain)&&void 0!==b?b:e.chain)&&void 0!==y?y:t.defaultChain;n&&E&&r&&(w=o0.custom({name:r,chainId:n,networkId:E,defaultHardfork:_},{baseChain:S}))}return{common:w}},u6=function(e,t,r){var n,i,s,o;let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=!(arguments.length>4)||void 0===arguments[4]||arguments[4];return n=void 0,i=void 0,s=void 0,o=function*(){let n=a5((yield ch({transaction:e,web3Context:t,privateKey:r,fillGasPrice:a,fillGasLimit:c})),rV);return u2(n),as.fromTxData(u3(n),u4(n,t))},new(s||(s=Promise))(function(e,t){function r(e){try{c(o.next(e))}catch(e){t(e)}}function a(e){try{c(o.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):((n=t.value)instanceof s?n:new s(function(e){e(n)})).then(r,a)}c((o=o.apply(n,i||[])).next())})},u8=(e,t,r)=>{var n,i;let{address:s}=e,o=null==r?void 0:r.topics,a=null!==(n=null==r?void 0:r.filter)&&void 0!==n?n:{},c={};if(n1(null==r?void 0:r.fromBlock)||(c.fromBlock=io(a$.properties.number,null==r?void 0:r.fromBlock,{number:v.HEX,bytes:b.HEX})),n1(null==r?void 0:r.toBlock)||(c.toBlock=io(a$.properties.number,null==r?void 0:r.toBlock,{number:v.HEX,bytes:b.HEX})),o&&Array.isArray(o))c.topics=[...o];else if(c.topics=[],!t||t.anonymous||[cn,"allEvents"].includes(t.name)||c.topics.push(null!==(i=t.signature)&&void 0!==i?i:cN(cP(t))),![cn,"allEvents"].includes(t.name)&&t.inputs)for(let e of t.inputs){if(!e.indexed)continue;let t=a[e.name];if(!t){c.topics.push(null);continue}Array.isArray(t)?c.topics.push(t.map(t=>us(e.type,t))):"string"===e.type?c.topics.push(il(t)):c.topics.push(us(e.type,t))}return c.topics.length||delete c.topics,s&&(c.address=s.toLowerCase()),c},u5=(e,t,r)=>{let n;let i=Array.isArray(e.inputs)?e.inputs.length:0;if(e.inputs&&i!==t.length)throw new $("The number of arguments is not matching the methods required number. You need to pass ".concat(i," arguments."));if(n=e.inputs?ui(Array.isArray(e.inputs)?e.inputs:[],t).replace("0x",""):(function(e){try{let t=function e(t){let r=[];return t.forEach(t=>{if(Array.isArray(t)){let n=e(t);r.push({type:"tuple",components:n,name:""})}else r.push({type:nN(t,!0)})}),r}(e);return rD(ur({type:"tuple",name:"",components:t},e).encoded)}catch(t){throw new ed("Could not infer types from given params",{params:e})}})(t).replace("0x",""),cT(e)){if(!r)throw new $("The contract has no contract data option set. This is necessary to append the constructor parameters.");return r.startsWith("0x")?"".concat(r).concat(n):"0x".concat(r).concat(n)}return"".concat(uu(e)).concat(n)},u7=(e,t)=>{if("constructor"===e.type)return t;if(!t)return null;let r=t.length>=2?t.slice(2):t;if(!e.outputs)return null;let n=ua([...e.outputs],r);return 1===n.__length__?n[0]:n};class u9 extends sc{_buildSubscriptionParams(){return["logs",{address:this.address,topics:this.topics}]}formatSubscriptionResult(e){return uT(this.abi,e,this.jsonInterface,super.returnFormat)}constructor(e,t){super(e,t),this.address=e.address,this.topics=e.topics,this.abi=e.abi,this.jsonInterface=e.jsonInterface}}let le=(e,t,r,n)=>{var i,s;let o={};return n1(e.data)&&"both"!==n||(o.data=u5(t,r,null!==(i=e.data)&&void 0!==i?i:e.input)),n1(e.input)&&"both"!==n||(o.input=u5(t,r,null!==(s=e.input)&&void 0!==s?s:e.data)),n1(o.input)&&n1(o.data)&&(o[n]=u5(t,r)),{data:o.data,input:o.input}},lt=e=>{var t,r,n;let{abi:i,params:s,options:o,contractOptions:a}=e;if(!(null!==(n=null!==(r=null!==(t=null==o?void 0:o.input)&&void 0!==t?t:null==o?void 0:o.data)&&void 0!==r?r:a.input)&&void 0!==n?n:a.data)&&!(null==o?void 0:o.to)&&!a.address)throw new $("Contract address not specified");if(!(null==o?void 0:o.from)&&!a.from)throw new $('Contract "from" address not specified');let c=n3({to:a.address,gas:a.gas,gasPrice:a.gasPrice,from:a.from,input:a.input,maxPriorityFeePerGas:a.maxPriorityFeePerGas,maxFeePerGas:a.maxFeePerGas,data:a.data},o),u=le(c,i,s,null==o?void 0:o.dataInputFill);return Object.assign(Object.assign({},c),{data:u.data,input:u.input})},lr=e=>{let{abi:t,params:r,options:n,contractOptions:i}=e;if(!(null==n?void 0:n.to)&&!i.address)throw new $("Contract address not specified");let s=n3({to:i.address,gas:i.gas,gasPrice:i.gasPrice,from:i.from,input:i.input,maxPriorityFeePerGas:i.maxPriorityFeePerGas,maxFeePerGas:i.maxFeePerGas,data:i.data},n),o=le(s,t,r,null==n?void 0:n.dataInputFill);return Object.assign(Object.assign({},s),{data:o.data,input:o.input})},ln=e=>{let{abi:t,params:r,options:n,contractOptions:i}=e,s=n3({to:i.address,gas:i.gas,gasPrice:i.gasPrice,from:i.from,input:i.input,data:i.data},n),o=le(s,t,r,null==n?void 0:n.dataInputFill);return Object.assign(Object.assign({},s),{data:o.data,input:o.input})},li=e=>"object"==typeof e&&!n1(e)&&0!==Object.keys(e).length&&!n0(e),ls=e=>{let{abi:t,params:r,options:n,contractOptions:i}=e;if(!(null==n?void 0:n.to)&&!i.address)throw new $("Contract address not specified");if(!(null==n?void 0:n.from)&&!i.from)throw new $('Contract "from" address not specified');let s=n3({to:i.address,gas:i.gas,gasPrice:i.gasPrice,from:i.from,input:i.input,maxPriorityFeePerGas:i.maxPriorityFeePerGas,maxFeePerGas:i.maxFeePerGas,data:i.data},n),o=le(s,t,r,null==n?void 0:n.dataInputFill);return Object.assign(Object.assign({},s),{data:o.data,input:o.input})};var lo=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};let la={logs:u9,newHeads:uz,newBlockHeaders:uz};class lc extends aE{get events(){return this._events}get methods(){return this._methods}clone(){let e;return e=this.options.address?new lc([...this._jsonInterface,...this._errorsInterface],this.options.address,{gas:this.options.gas,gasPrice:this.options.gasPrice,from:this.options.from,input:this.options.input,data:this.options.data,provider:this.currentProvider,syncWithContext:this.syncWithContext,dataInputFill:this.config.contractDataInputFill},this.getContextObject()):new lc([...this._jsonInterface,...this._errorsInterface],{gas:this.options.gas,gasPrice:this.options.gasPrice,from:this.options.from,input:this.options.input,data:this.options.data,provider:this.currentProvider,syncWithContext:this.syncWithContext,dataInputFill:this.config.contractDataInputFill},this.getContextObject()),this.context&&e.subscribeToContextEvents(this.context),e}deploy(e){var t,r,n,i=this;let s=this._jsonInterface.find(e=>"constructor"===e.type);s||(s={type:"constructor",stateMutability:""});let o=io({format:"bytes"},null!==(t=null==e?void 0:e.input)&&void 0!==t?t:this.options.input,rW),a=io({format:"bytes"},null!==(r=null==e?void 0:e.data)&&void 0!==r?r:this.options.data,rW);if((!o||"0x"===o.trim())&&(!a||"0x"===a.trim()))throw new $("contract creation without any data provided.");let c=null!==(n=null==e?void 0:e.arguments)&&void 0!==n?n:[],u=Object.assign(Object.assign({},this.options),{input:o,data:a}),l=null!=o?o:a;return{arguments:c,send:e=>{let t=Object.assign({},e);return this._contractMethodDeploySend(s,c,t,u)},estimateGas:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rW;return lo(i,void 0,void 0,function*(){let r=Object.assign({},e);return this._contractMethodEstimateGas({abi:s,params:c,returnFormat:t,options:r,contractOptions:u})})},encodeABI:()=>u5(s,c,io({format:"bytes"},l,rW))}}getPastEvents(e,t,r){var n;return lo(this,void 0,void 0,function*(){let i="string"==typeof e?e:cn,s="string"==typeof e||it(e)?it(t)?{}:t:e,o=it(e)?e:it(t)?t:null!=r?r:rW,a="allEvents"===i||i===cn?ci:this._jsonInterface.find(e=>"name"in e&&e.name===i);if(!a)throw new $("Event ".concat(i," not found."));let{fromBlock:c,toBlock:u,topics:l,address:d}=u8(this.options,a,null!=s?s:{}),h=yield uH(this,{fromBlock:c,toBlock:u,topics:l,address:d},o),f=h?h.map(e=>"string"==typeof e?e:uT(a,e,this._jsonInterface,o)):[],p=null!==(n=null==s?void 0:s.filter)&&void 0!==n?n:{},m=Object.keys(p);return m.length>0?f.filter(e=>"string"==typeof e||m.every(t=>{var r;if(Array.isArray(p[t]))return p[t].some(r=>String(e.returnValues[t]).toUpperCase()===String(r).toUpperCase());let n=null===(r=a.inputs)||void 0===r?void 0:r.filter(e=>e.name===t)[0];return null!=n&&!!n.indexed&&"string"===n.type&&il(p[t])===String(e.returnValues[t])||String(e.returnValues[t]).toUpperCase()===String(p[t]).toUpperCase()})):f})}_parseAndSetAddress(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rW;this._address=e?nD(io({format:"address"},e,t)):e}_parseAndSetJsonInterface(e){var t,r,n,i,s;let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rW;this._functions={},this._methods={},this._events={};let a=[],c=e.filter(e=>"error"!==e.type),u=e.filter(e=>c_(e));for(let e of c){let c=Object.assign(Object.assign({},e),{signature:""});if(cA(c)){let e=cP(c),o=uu(e);c.signature=o,t="view"===c.stateMutability,c.constant=null!==(r=void 0!==t?t:"pure"===c.stateMutability)&&void 0!==r?r:c.constant,n="payable"===c.stateMutability,c.payable=void 0!==n?n:c.payable,this._overloadedMethodAbis.set(c.name,[...null!==(i=this._overloadedMethodAbis.get(c.name))&&void 0!==i?i:[],c]);let a=null!==(s=this._overloadedMethodAbis.get(c.name))&&void 0!==s?s:[],l=this._createContractMethod(a,u);this._functions[e]={signature:o,method:l},this._methods[c.name]=this._functions[e].method,this._methods[e]=this._functions[e].method,this._methods[o]=this._functions[e].method}else if(cS(c)){let e=cP(c),t=cN(e),r=this._createContractEvent(c,o);c.signature=t,e in this._events&&"bound"!==c.name||(this._events[e]=r),this._events[c.name]=r,this._events[t]=r}a=[...a,c]}this._events.allEvents=this._createContractEvent(ci,o),this._jsonInterface=[...a],this._errorsInterface=u}_getAbiParams(e,t){var r;try{return rN(null!==(r=e.inputs)&&void 0!==r?r:[],t)}catch(t){throw new $("Invalid parameters for method ".concat(e.name,": ").concat(t.message))}}_createContractMethod(e,t){var r=this;let n=e[e.length-1];return function(){let e;for(var i,s,o=arguments.length,a=Array(o),c=0;c<o;c++)a[c]=arguments[c];let u=null!==(i=r._overloadedMethodAbis.get(n.name))&&void 0!==i?i:[],l=u[0],d=u.filter(e=>{var t;return(null!==(t=e.inputs)&&void 0!==t?t:[]).length===a.length});if(1===u.length||0===d.length)e=r._getAbiParams(l,a),na.validate(null!==(s=n.inputs)&&void 0!==s?s:[],e);else{let t=[];for(let n of d)try{e=r._getAbiParams(n,a),na.validate(n.inputs,e),l=n;break}catch(e){t.push(e)}if(t.length===d.length)throw new rv(t)}let h={arguments:e,call:(n,i)=>lo(r,void 0,void 0,function*(){return this._contractMethodCall(l,e,t,n,i)}),send:n=>r._contractMethodSend(l,e,t,n),estimateGas:function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rW;return lo(r,void 0,void 0,function*(){return this._contractMethodEstimateGas({abi:l,params:e,returnFormat:n,options:t})})},encodeABI:()=>u5(l,e),createAccessList:(n,i)=>lo(r,void 0,void 0,function*(){return this._contractMethodCreateAccessList(l,e,t,n,i)})};return l.stateMutability,h}}_contractMethodCall(e,t,r,n,i){var s;return lo(this,void 0,void 0,function*(){let o=lr({abi:e,params:t,options:Object.assign(Object.assign({},n),{dataInputFill:this.config.contractDataInputFill}),contractOptions:Object.assign(Object.assign({},this.options),{from:null!==(s=this.options.from)&&void 0!==s?s:this.config.defaultAccount})});try{let t=yield uD(this,o,i,rW);return u7(e,t)}catch(e){throw e instanceof er&&uf(r,e.cause),e}})}_contractMethodCreateAccessList(e,t,r,n,i){var s;return lo(this,void 0,void 0,function*(){let o=ls({abi:e,params:t,options:Object.assign(Object.assign({},n),{dataInputFill:this.config.contractDataInputFill}),contractOptions:Object.assign(Object.assign({},this.options),{from:null!==(s=this.options.from)&&void 0!==s?s:this.config.defaultAccount})});try{return uF(this,o,i,rW)}catch(e){throw e instanceof er&&uf(r,e.cause),e}})}_contractMethodSend(e,t,r,n,i){var s,o;let a=null!=i?i:this.options;a=Object.assign(Object.assign({},a),{input:void 0,from:null!==(o=null!==(s=a.from)&&void 0!==s?s:this.defaultAccount)&&void 0!==o?o:void 0});let c=uB(this,lt({abi:e,params:t,options:Object.assign(Object.assign({},n),{dataInputFill:this.config.contractDataInputFill}),contractOptions:a}),rW,{checkRevertBeforeSending:!1,contractAbi:this._jsonInterface});return c.on("error",e=>{e instanceof er&&uf(r,e.cause)}),c}_contractMethodDeploySend(e,t,r,n){var i,s;let o=null!=n?n:this.options;return o=Object.assign(Object.assign({},o),{from:null!==(s=null!==(i=o.from)&&void 0!==i?i:this.defaultAccount)&&void 0!==s?s:void 0}),uB(this,lt({abi:e,params:t,options:Object.assign(Object.assign({},r),{dataInputFill:this.config.contractDataInputFill}),contractOptions:o}),rW,{transactionResolver:e=>{if(e.status===BigInt(0))throw new $("code couldn't be stored",e);let t=this.clone();return t.options.address=e.contractAddress,t},contractAbi:this._jsonInterface,checkRevertBeforeSending:!1})}_contractMethodEstimateGas(e){let{abi:t,params:r,returnFormat:n,options:i,contractOptions:s}=e;return lo(this,void 0,void 0,function*(){return uU(this,ln({abi:t,params:r,options:Object.assign(Object.assign({},i),{dataInputFill:this.config.contractDataInputFill}),contractOptions:null!=s?s:this.options}),y.LATEST,n)})}_createContractEvent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rW;var r=this;return function(){for(var n,i=arguments.length,s=Array(i),o=0;o<i;o++)s[o]=arguments[o];let{topics:a,fromBlock:c}=u8(r.options,e,s[0]),u=new u9({address:r.options.address,topics:a,abi:e,jsonInterface:r._jsonInterface},{subscriptionManager:r.subscriptionManager,returnFormat:t});return r9(c)||r.getPastEvents(e.name,{fromBlock:c,topics:a},t).then(e=>{e&&e.forEach(e=>u.emit("data",e))}).catch(e=>{u.emit("error",new em("Failed to get past events.",e))}),null===(n=r.subscriptionManager)||void 0===n||n.addSubscription(u).catch(e=>{u.emit("error",new em("Failed to subscribe.",e))}),u}}subscribeToContextEvents(e){let t=this;this.context=e,t.syncWithContext&&e.on(_.CONFIG_CHANGE,e=>{t.setConfig({[e.name]:e.newValue})})}constructor(e,t,r,n,i){var s,o,a;let c;let u=n0(t)?t:n0(r)?r:void 0;if(super(Object.assign(Object.assign({},c=li(t)?t:li(r)?r:n),{provider:"object"==typeof t&&"provider"in t?t.provider:"object"==typeof r&&"provider"in r?r.provider:"object"==typeof n&&"provider"in n?n.provider:lc.givenProvider,registeredSubscriptions:la})),this.syncWithContext=!1,this._functions={},(null==c?void 0:c.wallet)&&(this._wallet=c.wallet),(null==c?void 0:c.accountProvider)&&(this._accountProvider=c.accountProvider),!r9(u)&&!r9(u.data)&&!r9(u.input)&&"both"!==this.config.contractDataInputFill)throw new en({data:u.data,input:u.input});this._overloadedMethodAbis=new Map;let l=it(n)?n:it(r)?r:null!=i?i:rW,d="string"==typeof t?t:void 0;this.config.contractDataInputFill=null!==(s=null==u?void 0:u.dataInputFill)&&void 0!==s?s:this.config.contractDataInputFill,this._parseAndSetJsonInterface(e,l),r9(d)||this._parseAndSetAddress(d,l),this.options={address:d,jsonInterface:this._jsonInterface,gas:null!==(o=null==u?void 0:u.gas)&&void 0!==o?o:null==u?void 0:u.gasLimit,gasPrice:null==u?void 0:u.gasPrice,from:null==u?void 0:u.from,input:null==u?void 0:u.input,data:null==u?void 0:u.data},this.syncWithContext=null!==(a=null==u?void 0:u.syncWithContext)&&void 0!==a&&a,c instanceof aE&&this.subscribeToContextEvents(c),Object.defineProperty(this.options,"address",{set:e=>this._parseAndSetAddress(e,l),get:()=>this._address}),Object.defineProperty(this.options,"jsonInterface",{set:e=>this._parseAndSetJsonInterface(e,l),get:()=>this._jsonInterface}),c instanceof aE&&c.on(_.CONFIG_CHANGE,e=>{this.setConfig({[e.name]:e.newValue})})}}var lu=lc;let ll={addr:"0x3b3b57de",name:"0x691f3431",abi:"0x2203ab56",pubkey:"0xc8690233",text:"0x59d1d43c",contenthash:"0xbc1c58d1"},ld={main:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",goerli:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},lh={"0x1":"main","0x5":"goerli"},lf=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"label",type:"bytes32"},{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"NewOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"resolver",type:"address"}],name:"NewResolver",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"recordExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"resolver",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"ttl",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"}],lp=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"a",type:"address"}],name:"AddrChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"coinType",type:"uint256"},{indexed:!1,internalType:"bytes",name:"newAddress",type:"bytes"}],name:"AddressChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"hash",type:"bytes"}],name:"ContenthashChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"name",type:"bytes"},{indexed:!1,internalType:"uint16",name:"resource",type:"uint16"},{indexed:!1,internalType:"bytes",name:"record",type:"bytes"}],name:"DNSRecordChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"name",type:"bytes"},{indexed:!1,internalType:"uint16",name:"resource",type:"uint16"}],name:"DNSRecordDeleted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"}],name:"DNSZoneCleared",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"lastzonehash",type:"bytes"},{indexed:!1,internalType:"bytes",name:"zonehash",type:"bytes"}],name:"DNSZonehashChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"bytes4",name:"interfaceID",type:"bytes4"},{indexed:!1,internalType:"address",name:"implementer",type:"address"}],name:"InterfaceChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"string",name:"name",type:"string"}],name:"NameChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"x",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"y",type:"bytes32"}],name:"PubkeyChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"string",name:"indexedKey",type:"string"},{indexed:!1,internalType:"string",name:"key",type:"string"}],name:"TextChanged",type:"event"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"uint256",name:"contentTypes",type:"uint256"}],name:"ABI",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"addr",outputs:[{internalType:"address payable",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"uint256",name:"coinType",type:"uint256"}],name:"addr",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"contenthash",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes32",name:"name",type:"bytes32"},{internalType:"uint16",name:"resource",type:"uint16"}],name:"dnsRecord",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes32",name:"name",type:"bytes32"}],name:"hasDNSRecords",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes4",name:"interfaceID",type:"bytes4"}],name:"interfaceImplementer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"pubkey",outputs:[{internalType:"bytes32",name:"x",type:"bytes32"},{internalType:"bytes32",name:"y",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceID",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"string",name:"key",type:"string"}],name:"text",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"zonehash",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"}];var lm=r(85554);let lg=e=>(0,lm.Q6)(e),lv=e=>{let t="";for(let e=0;e<32;e+=1)t+="00";if(e){let r=lg(e).split(".");for(let e=r.length-1;e>=0;e-=1){let n=iu(r[e]).slice(2);t=iu("0x".concat(t).concat(n)).slice(2)}}return"0x".concat(t)};var lb=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};class ly{getOwner(e){return lb(this,void 0,void 0,function*(){try{return this.contract.methods.owner(lv(e)).call()}catch(e){throw Error()}})}getTTL(e){return lb(this,void 0,void 0,function*(){try{return this.contract.methods.ttl(lv(e)).call()}catch(e){throw Error()}})}recordExists(e){return lb(this,void 0,void 0,function*(){try{return this.contract.methods.recordExists(lv(e)).call()}catch(e){throw Error()}})}getResolver(e){return lb(this,void 0,void 0,function*(){try{return this.contract.methods.resolver(lv(e)).call().then(e=>{if("string"==typeof e)return new lc(lp,e,this.context);throw Error()})}catch(e){throw Error()}})}get events(){return this.contract.events}constructor(e,t){this.contract=new lc(lf,null!=t?t:ld.main,e),this.context=e}}var lw=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};class lE{getResolverContractAdapter(e){return lw(this,void 0,void 0,function*(){return this.registry.getResolver(e)})}checkInterfaceSupport(e,t){var r,n;return lw(this,void 0,void 0,function*(){if(n1(ll[t]))throw new ee(null!==(r=e.options.address)&&void 0!==r?r:"",t);if(!(yield e.methods.supportsInterface(ll[t]).call()))throw new ee(null!==(n=e.options.address)&&void 0!==n?n:"",t)})}supportsInterface(e,t){var r;return lw(this,void 0,void 0,function*(){let n=yield this.getResolverContractAdapter(e),i=t;if(!rE(i)){if(i=null!==(r=ic(t))&&void 0!==r?r:"",""===t)throw Error("Invalid interface Id");i=i.slice(0,10)}return n.methods.supportsInterface(i).call()})}getAddress(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60;return lw(this,void 0,void 0,function*(){let r=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(r,"addr"),r.methods.addr(lv(e),t).call()})}getPubkey(e){return lw(this,void 0,void 0,function*(){let t=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(t,"pubkey"),t.methods.pubkey(lv(e)).call()})}getContenthash(e){return lw(this,void 0,void 0,function*(){let t=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(t,"contenthash"),t.methods.contenthash(lv(e)).call()})}constructor(e){this.registry=e}}var l_=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};class lS extends aE{getResolver(e){return l_(this,void 0,void 0,function*(){return this._registry.getResolver(e)})}recordExists(e){return l_(this,void 0,void 0,function*(){return this._registry.recordExists(e)})}getTTL(e){return l_(this,void 0,void 0,function*(){return this._registry.getTTL(e)})}getOwner(e){return l_(this,void 0,void 0,function*(){return this._registry.getOwner(e)})}getAddress(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60;return l_(this,void 0,void 0,function*(){return this._resolver.getAddress(e,t)})}getPubkey(e){return l_(this,void 0,void 0,function*(){return this._resolver.getPubkey(e)})}getContenthash(e){return l_(this,void 0,void 0,function*(){return this._resolver.getContenthash(e)})}checkNetwork(){return l_(this,void 0,void 0,function*(){let e=Date.now()/1e3;if(!this._lastSyncCheck||e-this._lastSyncCheck>3600){let t=yield uP(this);if(!("boolean"==typeof t&&!t))throw new es;this._lastSyncCheck=e}if(this._detectedAddress)return this._detectedAddress;let t=yield a9(this,Object.assign(Object.assign({},rW),{number:v.HEX})),r=ld[lh[t]];if(void 0===r)throw new ei(t);return this._detectedAddress=r,this._detectedAddress})}supportsInterface(e,t){return l_(this,void 0,void 0,function*(){return this._resolver.supportsInterface(e,t)})}get events(){return this._registry.events}constructor(e,t){super(null!=t?t:""),this.registryAddress=null!=e?e:ld.main,this._registry=new ly(this.getContextObject(),e),this._resolver=new lE(this._registry)}}var lA=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};let lT=e=>lA(void 0,void 0,void 0,function*(){return(yield ak(e)).map(nD)}),lx=(e,t)=>lA(void 0,void 0,void 0,function*(){return na.validate(["string"],[t]),nD((yield aN(e,t)))}),lI=(e,t,r,n)=>lA(void 0,void 0,void 0,function*(){return na.validate(["address","string","uint"],[t,r,n]),aC(e,t,r,n)}),lR=(e,t)=>lA(void 0,void 0,void 0,function*(){return na.validate(["address"],[t]),aM(e,t)}),lO=(e,t,r)=>lA(void 0,void 0,void 0,function*(){return na.validate(["string","string"],[t,r]),aL(e,t,r)}),lP=(e,t,r)=>lA(void 0,void 0,void 0,function*(){return aB(e,a5(t,rV),r)}),lk=(e,t,r)=>lA(void 0,void 0,void 0,function*(){return aD(e,a5(t,rV),r)}),lN=(e,t,r,n)=>lA(void 0,void 0,void 0,function*(){return na.validate(["string","address","string"],[t,r,n]),aU(e,rE(t)?t:nE(t),r,n)}),lC=(e,t,r)=>lA(void 0,void 0,void 0,function*(){return na.validate(["string","string"],[t,r]),aH(e,rE(t)?t:nE(t),r)});var lM=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};class lL extends aE{getAccounts(){return lM(this,void 0,void 0,function*(){return lT(this.requestManager)})}newAccount(e){return lM(this,void 0,void 0,function*(){return lx(this.requestManager,e)})}unlockAccount(e,t,r){return lM(this,void 0,void 0,function*(){return lI(this.requestManager,e,t,r)})}lockAccount(e){return lM(this,void 0,void 0,function*(){return lR(this.requestManager,e)})}importRawKey(e,t){return lM(this,void 0,void 0,function*(){return lO(this.requestManager,e,t)})}sendTransaction(e,t){return lM(this,void 0,void 0,function*(){return lP(this.requestManager,e,t)})}signTransaction(e,t){return lM(this,void 0,void 0,function*(){return lk(this.requestManager,e,t)})}sign(e,t,r){return lM(this,void 0,void 0,function*(){return lN(this.requestManager,e,t,r)})}ecRecover(e,t){return lM(this,void 0,void 0,function*(){return lC(this.requestManager,e,t)})}}var lB={encodeEventSignature:cN,encodeFunctionCall:(e,t)=>{var r;if(!cA(e))throw new ed("Invalid parameter value in encodeFunctionCall");return"".concat(uu(e)).concat(ui(null!==(r=e.inputs)&&void 0!==r?r:[],null!=t?t:[]).replace("0x",""))},encodeFunctionSignature:uu,encodeParameter:us,encodeParameters:ui,decodeParameter:uc,decodeParameters:ua,decodeLog:uh},lD=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};let lU=e=>{let t=(t,r)=>lD(void 0,void 0,void 0,function*(){return al((yield u6(t,e)),io({format:"bytes"},r,rV))}),r=e=>{let r=ag(e);return Object.assign(Object.assign({},r),{signTransaction:e=>lD(void 0,void 0,void 0,function*(){return t(e,r.privateKey)})})},n=(e,r,n)=>lD(void 0,void 0,void 0,function*(){var i;let s=yield ab(e,r,null===(i=null==n?void 0:n.nonStrict)||void 0===i||i);return Object.assign(Object.assign({},s),{signTransaction:e=>lD(void 0,void 0,void 0,function*(){return t(e,s.privateKey)})})}),i=()=>{let e=av();return Object.assign(Object.assign({},e),{signTransaction:r=>lD(void 0,void 0,void 0,function*(){return t(r,e.privateKey)})})},s=new sl({create:i,privateKeyToAccount:r,decrypt:n});return{signTransaction:t,create:i,privateKeyToAccount:r,decrypt:n,recoverTransaction:ad,hashMessage:ac,sign:au,recover:ah,encrypt:am,wallet:s,privateKeyToAddress:af,parseAndValidatePrivateKey:aa,privateKeyToPublicKey:ap}};class lH extends aE{constructor(e){var t;!n1(e)&&("string"!=typeof e||""!==e.trim())&&("string"==typeof e||se(e)||e.provider)||console.warn("NOTE: web3.js is running without provider. You need to pass a provider in order to interact with the network!");let r={};"string"==typeof e||se(e)?r.provider=e:r=e||{},r.registeredSubscriptions=Object.assign(Object.assign({},uV),null!==(t=r.registeredSubscriptions)&&void 0!==t?t:{}),super(r);let n=lU(this);this._wallet=n.wallet,this._accountProvider=n,this.utils=M;let i=this;class s extends lu{constructor(e,t,r,n,s){let o,a;if(n0(t)&&n0(r))throw new eo("Should not provide options at both 2nd and 3rd parameters");let c={},u=rW;if(!n1(t)&&"object"!=typeof t&&"string"!=typeof t)throw new eo;"string"==typeof t&&(o=t),c=n0(t)?t:n0(r)?r:{},a=t instanceof aE?t:r instanceof aE?r:n instanceof aE?n:i.getContextObject(),s?u=s:it(r)?u=r:it(n)&&(u=n),super(e,o,c,a,u),super.subscribeToContextEvents(i)}}let o=i.use(uJ);this.eth=Object.assign(o,{ens:i.use(lS,ld.main),Iban:a_,net:i.use(cr),personal:i.use(lL),Contract:s,abi:lB,accounts:n})}}lH.version="4.4.0",lH.utils=M,lH.modules={Web3Eth:uJ,Iban:a_,Net:cr,ENS:lS,Personal:lL};var lj=lH},58274:function(e){"use strict";e.exports={i8:"6.5.4"}}}]);